<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=windows-1252">
<META NAME="Generator" CONTENT="Microsoft Word 97">
<TITLE>Programa</TITLE>
<META NAME="Template" CONTENT="J:\MSOFFICE\OFFICE\html.dot">
</HEAD>
<BODY LINK="#0000ff" VLINK="#800080" BACKGROUND="doc_b.gif">

<P><basefont size=2></P>
<B><FONT SIZE=6><P><A NAME="Progra">Programa</A></B></FONT> </P>
<P><HR></P>
<B><FONT SIZE=5><P><A NAME="Conce">Conceitua&ccedil;&atilde;o</A></B></FONT> </P>
<P><HR></P>
<FONT SIZE=2><P>Programa &eacute; um conjunto de comandos agrupados de modo a efetuar fun&ccedil;&otilde;es afins. Um sistema, por sua vez, &eacute; composto por programas, pela sua base de dados e pelos elementos de interface com o usu&aacute;rio.</FONT> </P>
<FONT SIZE=2><P>O SADS gera programas segundo l&oacute;gicas padronizadas que atendem &agrave; maioria das necessidades de aplicativos on-line e batch. </P>
<P>A estrutura de par&aacute;grafos e os c&oacute;digos de procedimentos de cada programa s&atilde;o gerados a partir dos seguintes cadastramentos efetuados no reposit&oacute;rio do SADS: </P><DIR>

</FONT><P><IMG SRC="Bullet6.gif" WIDTH=15 HEIGHT=11><FONT SIZE=2>&nbsp; Tipo de l&oacute;gica do programa; </P>
</FONT><P><IMG SRC="Bullet6.gif" WIDTH=15 HEIGHT=11><FONT SIZE=2>&nbsp; L&oacute;gica de processamento do programa; </P>
</FONT><P><IMG SRC="Bullet6.gif" WIDTH=15 HEIGHT=11><FONT SIZE=2>&nbsp; M&oacute;dulos de programas selecionados; </P>
</FONT><P><IMG SRC="Bullet6.gif" WIDTH=15 HEIGHT=11><FONT SIZE=2>&nbsp; Cadastramento dos m&oacute;dulos selecionados.</P></DIR>

<P>Quanto mais simples a l&oacute;gica do programa a ser criado e quanto mais pr&oacute;xima de uma l&oacute;gica padronizada estiver sua fun&ccedil;&atilde;o, maior ser&aacute; a capacidade de gera&ccedil;&atilde;o do SADS.</FONT> </P>
<FONT SIZE=2><P>Os programas mais complexos e os que possuem peculiaridades funcionais podem ser complementados atrav&eacute;s de m&oacute;dulos de processamento do SADS.</FONT> </P>
<FONT SIZE=2><P>M&oacute;dulos de processamento s&atilde;o trechos de programa que podem ser cadastrados a fim de moldar o fonte gerado &agrave;s necessidades, incluindo, alterando ou substituindo trechos do fonte que seriam normalmente gerados.</FONT> </P>
<FONT SIZE=2><P>Esses m&oacute;dulos s&atilde;o compostos por instru&ccedil;&otilde;es Cobol e por comandos de m&oacute;dulo, que funcionam como verdadeiras macroinstru&ccedil;&otilde;es, fatorando o trabalho e diminuindo o tempo de constru&ccedil;&atilde;o de programas. Isto porque, com uma &uacute;nica linha de especifica&ccedil;&atilde;o de comando de m&oacute;dulo, pode-se, por exemplo:</FONT> </P><DIR>

<P><IMG SRC="Bullet6.gif" WIDTH=15 HEIGHT=11><FONT SIZE=2>&nbsp; Realizar acesso a datasets, incluindo tratamento de erro padronizado; </P>
</FONT><P><IMG SRC="Bullet6.gif" WIDTH=15 HEIGHT=11><FONT SIZE=2>&nbsp; Montar loops estruturados; </P>
</FONT><P><IMG SRC="Bullet6.gif" WIDTH=15 HEIGHT=11><FONT SIZE=2>&nbsp; Fazer acesso a tabelas e sub-rotinas; </P>
</FONT><P><IMG SRC="Bullet6.gif" WIDTH=15 HEIGHT=11><FONT SIZE=2>&nbsp;Emitir mensagens, de forma padronizada; </P>
</FONT><P><IMG SRC="Bullet6.gif" WIDTH=15 HEIGHT=11><FONT SIZE=2>&nbsp; Movimentar dados entre estruturas.</P></DIR>

<P>O m&oacute;dulo do SADS para gera&ccedil;&atilde;o de programas possui um grande volume de consist&ecirc;ncias das informa&ccedil;&otilde;es cadastradas para o programa, minimizando a possibilidade de gera&ccedil;&atilde;o incorreta do fonte.</FONT> </P>
<FONT SIZE=2><P>O SADS pode exigir, por exemplo, que todos os programas de determinados sistemas ou mesmo que todos os programas da instala&ccedil;&atilde;o sejam gerados de forma completa. Com isto, pode-se impedir que programas que tenham sido gerados pelo SADS possam ser alterados ou complementados via Cande. </P>
</FONT><B><FONT SIZE=5><P><A NAME="Padro">Padroniza&ccedil;&atilde;o</A></B></FONT> </P>
<P><HR></P>
<FONT SIZE=2><P>A padroniza&ccedil;&atilde;o adotada pelo SADS para os c&oacute;digos de programas &eacute; a seguinte:</FONT> </P><DIR>

<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>"ssspxx"</B> onde:</FONT> </P><DIR>

<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"sss" &eacute; o c&oacute;digo alfab&eacute;tico que identifica o sistema; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"p" &eacute; o identificador do tipo de programa e </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"xx" &eacute; o identificador do programa.</P></DIR>

<P>Os identificadores de programa s&atilde;o: </P><DIR>

</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>&nbsp;N - Para programas on-line; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>&nbsp;P - Para programa batch; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>&nbsp;S - Para sub-rotina.</P></DIR>

<P>Detalhes sobre sub-rotinas est&atilde;o descritos no item "Sub-rotinas", neste mesma se&ccedil;&atilde;o. </P>
<P>O n&uacute;mero seq&uuml;encial identificador de programa deve ser: </P><DIR>

</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>&nbsp;De "11" a "99" e de "AA" a "ZZ" - Para programas &nbsp;on-line; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>&nbsp;De "01" a "99" e de "AA" a "ZZ" - Para sub-rotinas e programas &nbsp;batch.</P></DIR>
</DIR>

</FONT><B><FONT SIZE=5><P><A NAME="Utili">Utiliza&ccedil;&atilde;o</A></B></FONT> </P>
<P><HR></P>
<FONT SIZE=2><P>Os programas, tal como dito em sua defini&ccedil;&atilde;o, s&atilde;o utilizados para executar as fun&ccedil;&otilde;es de um sistema. Geralmente, os programas s&atilde;o utilizados para:</FONT> </P><DIR>

<P><IMG SRC="Bullet6.gif" WIDTH=15 HEIGHT=11>&nbsp;<FONT SIZE=2>Captar informa&ccedil;&otilde;es do usu&aacute;rio e inclu&iacute;-las na base de dados do sistema; </P>
</FONT><P><IMG SRC="Bullet6.gif" WIDTH=15 HEIGHT=11><FONT SIZE=2>&nbsp;Alterar informa&ccedil;&otilde;es cadastradas na base de dados do sistema a partir dos dados captados do usu&aacute;rio; </P>
</FONT><P><IMG SRC="Bullet6.gif" WIDTH=15 HEIGHT=11><FONT SIZE=2>&nbsp;Excluir informa&ccedil;&otilde;es da base de dados do sistema; </P>
</FONT><P><IMG SRC="Bullet6.gif" WIDTH=15 HEIGHT=11><FONT SIZE=2>&nbsp;Consultar informa&ccedil;&otilde;es constantes na base de dados do sistema; </P>
</FONT><P><IMG SRC="Bullet6.gif" WIDTH=15 HEIGHT=11><FONT SIZE=2>&nbsp;Imprimir informa&ccedil;&otilde;es constantes na base de dados do sistema.</P></DIR>

<P>Al&eacute;m destas fun&ccedil;&otilde;es, que s&atilde;o principalmente desempenhadas pelos programas, existe ainda uma s&eacute;rie de outras que podem ser por eles executadas, por exemplo: </P><DIR>

</FONT><P><IMG SRC="Bullet6.gif" WIDTH=15 HEIGHT=11><FONT SIZE=2>&nbsp;Criar ou duplicar informa&ccedil;&otilde;es a partir de dados j&aacute; cadastrados na base de dados do sistema; </P>
</FONT><P><IMG SRC="Bullet6.gif" WIDTH=15 HEIGHT=11><FONT SIZE=2>&nbsp;Sumarizar e processar opera&ccedil;&otilde;es sobre as informa&ccedil;&otilde;es constantes na base de dados do sistema etc.</P></DIR>

<P>Programas gerados pelo SADS, ap&oacute;s suas compila&ccedil;&otilde;es, devem ser submetidos ao processo de binder a fim de agreg&aacute;-los ao programa host de modo que os mesmos possam ser utilizados, ou seja, a fim de que a fun&ccedil;&atilde;o por eles executadas possam ser disparadas pelo usu&aacute;rio final. </P>
</FONT><B><FONT SIZE=5><P><A NAME="Cadas">Cadastramento</A></B></FONT> </P>
<P><HR></P>
<FONT SIZE=2><P>Para definir um programa, &eacute; necess&aacute;rio que seu sistema e os recursos que por ele ser&atilde;o utilizados j&aacute; estejam cadastrados no reposit&oacute;rio de dados do SADS. Para programas <I>&nbsp;on-line</I>, &eacute; necess&aacute;rio, tamb&eacute;m, que os mesmos estejam cadastrados em algum menu do sistema.</FONT> </P>
<B><FONT SIZE=4><P>Roteiro</B></FONT> </P>
<FONT SIZE=2><P>Para se definir um programa no reposit&oacute;rio de dados do SADS e torn&aacute;-lo dispon&iacute;vel para utiliza&ccedil;&atilde;o, as seguintes fun&ccedil;&otilde;es devem ser executadas:</FONT> </P><DIR>

<P><IMG SRC="Bullet6.gif" WIDTH=15 HEIGHT=11><I><FONT SIZE=2>&nbsp;Defini&ccedil;&atilde;o de programa; </P>
</I></FONT><P><IMG SRC="Bullet6.gif" WIDTH=15 HEIGHT=11><I><FONT SIZE=2>&nbsp;Cadastramento de recursos; </P>
</I></FONT><P><IMG SRC="Bullet6.gif" WIDTH=15 HEIGHT=11><I><FONT SIZE=2>&nbsp;Cadastramento de &aacute;rea de trabalho (&aacute;rea de work); </P>
</I></FONT><P><IMG SRC="Bullet6.gif" WIDTH=15 HEIGHT=11><I><FONT SIZE=2>&nbsp;Cadastramento de processamento - on-line/batch; </P>
</I></FONT><P><IMG SRC="Bullet6.gif" WIDTH=15 HEIGHT=11><I><FONT SIZE=2>&nbsp;Cadastramento de campos para ordena&ccedil;&atilde;o/quebra; </P>
</I></FONT><P><IMG SRC="Bullet6.gif" WIDTH=15 HEIGHT=11><I><FONT SIZE=2>&nbsp;Sele&ccedil;&atilde;o de m&oacute;dulos; </P>
</I></FONT><P><IMG SRC="Bullet6.gif" WIDTH=15 HEIGHT=11><I><FONT SIZE=2>&nbsp;Cadastramento de m&oacute;dulos de processamento; </P>
</I></FONT><P><IMG SRC="Bullet6.gif" WIDTH=15 HEIGHT=11><I><FONT SIZE=2>&nbsp;Cadastramento de edi&ccedil;&atilde;o Cobol - trechos em linguagem Cobol (edits e excecs); </P>
</I></FONT><P><IMG SRC="Bullet6.gif" WIDTH=15 HEIGHT=11><I><FONT SIZE=2>&nbsp;Gera&ccedil;&atilde;o de programa; </P>
</I></FONT><P><IMG SRC="Bullet6.gif" WIDTH=15 HEIGHT=11><I><FONT SIZE=2>&nbsp;Compila&ccedil;&atilde;o de programa; </P>
</I></FONT><P><IMG SRC="Bullet6.gif" WIDTH=15 HEIGHT=11><I><FONT SIZE=2>&nbsp;Binder de programa: para programas on-line; </P>
</I></FONT><P><IMG SRC="Bullet6.gif" WIDTH=15 HEIGHT=11><I><FONT SIZE=2>&nbsp;Libera&ccedil;&atilde;o de programa para produ&ccedil;&atilde;o. </P></DIR>

</I><P>A seguir, cada uma dessas fun&ccedil;&otilde;es ser&aacute; explicada detalhadamente.</FONT> </P>
<B><FONT SIZE=5><P><A NAME="Defpro">Defini&ccedil;&atilde;o de programa</A></B></FONT> </P>
<FONT SIZE=2><P>Definir um programa no reposit&oacute;rio de dados do SADS significa determinar o c&oacute;digo que ir&aacute; identific&aacute;-lo, o seu tipo de l&oacute;gica, seu nome, o analista e programador respons&aacute;veis, seu usu&aacute;rio e o compilador com o qual ele ser&aacute; compilado.</FONT> </P>
<FONT SIZE=2><P>Para definir um programa no reposit&oacute;rio de dados do SADS, &eacute; necess&aacute;rio que seu sistema j&aacute; tenha sido cadastrado.</P>
<B><P>CAMPOS DA TELA</B></FONT> </P><DIR>

<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>Programa</B> - C&oacute;digo do programa no padr&atilde;o SADS (ssspxx).</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>Geracao completa pelo SADS (S/N)</B> - Controle de gera&ccedil;&atilde;o e altera&ccedil;&atilde;o do programa.</FONT> </P>
<FONT SIZE=2><P>Pode assumir os seguintes valores:</FONT> </P><DIR>

<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"S" - Para que o programa seja gerado completamente pelo SADS, sem possibilidade de altera&ccedil;&atilde;o ou complementa&ccedil;&atilde;o, via Cande, ap&oacute;s a sua gera&ccedil;&atilde;o;</FONT> </P>
<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"N" - Para que o programa seja gerado completamente pelo SADS e possa ser complementado via Cande, caso necess&aacute;rio, ap&oacute;s a sua gera&ccedil;&atilde;o.</P></DIR>

<P>Apesar de ser determinada individualmente a completeza da gera&ccedil;&atilde;o de cada programa, para definir se haver&aacute; ou n&atilde;o realmente a consist&ecirc;ncia de altera&ccedil;&atilde;o do programa via Cande, o SADS ir&aacute; consultar os par&acirc;metros de gera&ccedil;&atilde;o de programas cadastrados nas tabelas SBPM5000 e SBPM70001, em n&iacute;vel de instala&ccedil;&atilde;o e de sistema, respectivamente.</FONT> </P>
<FONT SIZE=2><P>Estas tabelas ser&atilde;o detalhadamente explicadas a seguir.</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>Tabelas SBPM5000 e SBPM7001:</B></FONT> </P>
<FONT SIZE=2><P>Para cada programa cadastrado, o valor deste campo &eacute; validado contra as tabelas SBPM5000 e SBPM7001, mantidas pelo respons&aacute;vel pelo SADS na empresa.</FONT> </P>
<B><FONT SIZE=2><P>a</B>) Tabela SBPM5000:<BR>
Considerando o argumento "GERPRO" da tabela SBPM5000 e, de acordo com o par&acirc;metros 3 (<I> on-line</I>), 4 (<I> batch</I>), 5 (sub-rotina), informados para estes argumentos, t&ecirc;m-se as seguintes possibilidades de gera&ccedil;&atilde;o de programas pelo SADS:</FONT> </P><DIR>

<B><FONT SIZE=2><P>"S"</B> - Para exigir que todos os programas da instala&ccedil;&atilde;o tenham de ser definidos com gera&ccedil;&atilde;o completa pelo SADS;</FONT> </P>
<B><FONT SIZE=2><P>"P"</B> - Para exigir que todos os programas da instala&ccedil;&atilde;o tenham que ser definidos com gera&ccedil;&atilde;o completa pelo SADS, mas que possam alterar uma vez de "S" para "N" o controle de suas gera&ccedil;&otilde;es;</FONT> </P>
<B><FONT SIZE=2><P>"L"</B>- Para que todos os programas da instala&ccedil;&atilde;o possam ser definidos com gera&ccedil;&atilde;o completa ou n&atilde;o pelo SADS - o par&acirc;metro &eacute; livre. Por&eacute;m, o que tiver sido definido no cadastramento do programa ser&aacute; consistido na tentativa de altera&ccedil;&atilde;o do programa via Cande, inclusive a falta de altera&ccedil;&atilde;o em um programa definido com gera&ccedil;&atilde;o incompleta.</FONT> </P>
<B><FONT SIZE=2><P>"N"</B> - Para que todos os programas da instala&ccedil;&atilde;o possam ser definidos com gera&ccedil;&atilde;o completa ou n&atilde;o pelo SADS - o par&acirc;metro &eacute; livre. Neste caso, o que tiver sido definido no cadastramento do programa tamb&eacute;m n&atilde;o ser&aacute; consistido na tentativa de altera&ccedil;&atilde;o do programa via Cande.</P></DIR>

<B><P>b</B>) Tabela SBPM7001:<BR>
As informa&ccedil;&otilde;es constantes na tabela SBPM7001 se sobrep&otilde;em ao par&acirc;metro de gera&ccedil;&atilde;o cadastrado na tabela SBPM5000. Desta forma, poder&atilde;o ser definidos na tabela SBPM7001 os sistemas cujos programas ser&atilde;o gerados em exce&ccedil;&atilde;o ao par&acirc;metro de gera&ccedil;&atilde;o cadastrado na tabela SBPM5000, da seguinte forma:</FONT> </P><DIR>

<P><IMG SRC="Bullet9.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>&nbsp;Se na tabela SBPM5000 estiver definido que a gera&ccedil;&atilde;o completa dos programas na empresa &eacute; obrigat&oacute;ria, na tabela SBPM7001 poder&atilde;o ser definidos os sistemas cujos programas n&atilde;o necessitam ser completamente gerados, ou,</FONT> </P>
<P><IMG SRC="Bullet9.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>&nbsp;Se na tabela SBPM5000 estiver definido que a gera&ccedil;&atilde;o completa dos programas n&atilde;o &eacute; obrigat&oacute;ria na empresa, na tabela SBPM7001 poder&atilde;o ser definidos os sistemas cujos programas necessitam ser completamente gerados pelo SADS.</P></DIR>

<P>Os campos da tabela SBPM7001 devem ser preenchidos da seguinte forma:</FONT> </P><DIR>

<P><IMG SRC="Bullet9.gif" WIDTH=15 HEIGHT=12><B><FONT SIZE=2>SISTEMA</B> - C&oacute;digo do sistema, no padr&atilde;o SADS (sss), cujo controle de gera&ccedil;&atilde;o dos programas ser&aacute; definido.</FONT> </P>
<P><IMG SRC="Bullet9.gif" WIDTH=15 HEIGHT=12><B><FONT SIZE=2>ON-LINE, BATCH e SUBROTINA</B> - Devem ser preenchidos com "S", "P", "L" ou "N", com significado conforme j&aacute; explicado para a tabela SBPM5000.</P></DIR>

<P>Maiores detalhes sobre o prenchimento destas tabelas est&atilde;o descritos na Se&ccedil;&atilde;o V, "Parametriza&ccedil;&otilde;es do SADS", neste manual.</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>Tipo de Logica</B> - Tipo de l&oacute;gica que o programa utilizar&aacute;.</FONT> </P>
<FONT SIZE=2><P>O tipo de l&oacute;gica determina qual o tipo de processamento a ser executado pelo programa e, por conseguinte, qual a estrutura das rotinas (par&aacute;grafos) que ser&atilde;o geradas em seu fonte. A partir desta estrutura de rotinas predefinida, podem ser selecionados e definidos, caso necess&aacute;rio, m&oacute;dulos de processamento complementares para o programa.</FONT> </P>
<FONT SIZE=2><P>Cumpre ressaltar que, quando se altera o tipo de sua l&oacute;gica, o programa &eacute; enquadrado em uma estrutura de rotinas diferente da anterior e todos os m&oacute;dulos definidos que n&atilde;o estiverem relacionados &agrave; nova estrutura ser&atilde;o perdidos.</FONT> </P>
<FONT SIZE=2><P>Os tipos de l&oacute;gicas de programas dispon&iacute;veis s&atilde;o os seguintes:</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>Consultas:</B></FONT> </P><DIR>

<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"CO" (Simples) - Para programas que consultam a base de dados do sistema utilizando apenas uma p&aacute;gina, podendo ou n&atilde;o conter ocorr&ecirc;ncias na tela.</FONT> </P>
<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"CP" (Paginada) - Para programas que consultam a base de dados do sistema, exibindo mais de uma p&aacute;gina de dados, podendo ou n&atilde;o conter ocorr&ecirc;ncias na tela. </P>
<P>O paginador de sa&iacute;da &eacute; um m&oacute;dulo do SADS utilizado nas transa&ccedil;&otilde;es de consulta de dados quando as informa&ccedil;&otilde;es n&atilde;o cabem em uma &uacute;nica tela.</FONT> </P>
<FONT SIZE=2><P>Esta l&oacute;gica utiliza at&eacute; duas telas diferentes e um total de at&eacute; 90 p&aacute;ginas de dados para consulta. Se for necess&aacute;rio usar mais de duas telas diferentes, devem ser utilizados os comandos de m&oacute;dulo para complementa&ccedil;&atilde;o do programa a ser gerado.</FONT> </P>
<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"CE" (Com encadeamento) - Para programas que consultam a base de dados do sistema, utilizando uma ou mais p&aacute;ginas, podendo ou n&atilde;o conter ocorr&ecirc;ncias na tela, com possibilidade de encadeamento ap&oacute;s a transmiss&atilde;o da consulta apresentada. </P></DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>Emiss&otilde;es:</B></FONT> </P><DIR>

<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"EC" (Emiss&atilde;o em impressora central) - Para programas <I>on-line</I> que emitem relat&oacute;rios em impressora central.</FONT> </P>
<FONT SIZE=2><P>Essa l&oacute;gica possibilita o uso do <I>Reprints</I> da <I>Unisys</I>, ou seja, a emiss&atilde;o em impressora remota. Caso a instala&ccedil;&atilde;o utilize esse <I>software</I>, o programa deve ser cadastrado com tipo de l&oacute;gica "EC", com utiliza&ccedil;&atilde;o do <I>Reprints</I>.</FONT> </P>
<FONT SIZE=2><P>Para um programa que utiliza este tipo de l&oacute;gica, o atributo geral "TLAIMPRE" deve ser definido como campo de <I>input</I> na estrutura da tela menu que executa o acesso &agrave; transa&ccedil;&atilde;o referente ao programa. Isto quer dizer que a impressora &eacute; um argumento obrigat&oacute;rio para executar os programas com tipo de l&oacute;gica "EC" com utiliza&ccedil;&atilde;o do <I>Reprints</I>, e ela deve ser representada pelo atributo geral "TLAIMPRE".</FONT> </P>
<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"ER" (Emiss&atilde;o em impressora remota) - Para programas <I>on-line</I> que emitem relat&oacute;rios em impressora remota endere&ccedil;ados diretamente, sem utiliza&ccedil;&atilde;o do <I>Reprints</I>. </P>
<P>Para um programa que utiliza este tipo de l&oacute;gica, o atributo geral "TLAIMPRE" deve ser definido como campo de<I> input</I> na estrutura da tela menu que executa a transa&ccedil;&atilde;o referente ao programa. Isto quer dizer que a impressora &eacute; um argumento obrigat&oacute;rio para executar os programas com tipo de l&oacute;gica "ER", devendo ser representada pelo atributo geral "TLAIMPRE".</P></DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>L&oacute;gicas de Programas <I>Batch</I>:</B> </P><DIR>

</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"BT" (L&oacute;gica de programa <I>batch</I>) - Para todos os tipos de processamento <I>batch</I>. </P></DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>Atualiza&ccedil;&otilde;es:</B></FONT> </P><DIR>

<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"AT" (Simples) - Para programas que atualizam a base de dados do sistema a partir de uma &uacute;nica p&aacute;gina de dados, podendo ou n&atilde;o conter ocorr&ecirc;ncias na tela. </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"AP" (Paginada) - Para programas que atualizam a base de dados do sistema a partir de uma ou mais p&aacute;ginas de dados, podendo ou n&atilde;o conter ocorr&ecirc;ncias na tela. </P>
<P>Este tipo de l&oacute;gica utiliza at&eacute; duas telas diferentes e um total de at&eacute; 50 p&aacute;ginas de dados para atualiza&ccedil;&atilde;o. Se for necess&aacute;rio usar mais de duas telas diferentes, devem ser utilizados os comandos de m&oacute;dulo para complementa&ccedil;&atilde;o do programa a ser gerado.</FONT> </P>
<FONT SIZE=2><P>O paginador de entrada &eacute; um m&oacute;dulo do SADS que deve ser usado nas transa&ccedil;&otilde;es de atualiza&ccedil;&atilde;o de dados cujas informa&ccedil;&otilde;es de entrada n&atilde;o couberam em uma &uacute;nica tela cujos processamentos devem ser simult&acirc;neos, ou seja, em uma mesma transa&ccedil;&atilde;o DMSII.</P></DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>Sub-rotinas:</B></FONT> </P><DIR>

<FONT SIZE=2><P>Os tipos de l&oacute;gicas de sub-rotinas dispon&iacute;veis ("SR", "SC", "ST" e "LL") podem ser consultados no item "Sub-rotina", nesta mesma se&ccedil;&atilde;o.</P></DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>Gen&eacute;ricas:</B></FONT> </P>
<P><IMG SRC="Bullet9.gif" WIDTH=15 HEIGHT=12><B><FONT SIZE=2>"SE"</B> (De Selecao) - Para programas que consultam a base de dados do sistema, exibindo mais de uma p&aacute;gina de dados, podendo ou n&atilde;o conter ocorr&ecirc;ncias na tela, com possibilidade de sele&ccedil;&atilde;o de um ou mais itens para encadeamento de telas, de acordo com a sele&ccedil;&atilde;o efetuada.</FONT> </P>
<FONT SIZE=2><P>O SADS admite l&oacute;gica de sele&ccedil;&atilde;o para programas <I>on-line</I>. </P>
</FONT><P><IMG SRC="Bullet9.gif" WIDTH=15 HEIGHT=12><B><FONT SIZE=2>"LL" </B>(L&oacute;gica livre) - Para programas que executam procedimentos desvinculados dos padr&otilde;es adotados pelas l&oacute;gicas anteriores.</FONT> </P>
<FONT SIZE=2><P>O SADS admite l&oacute;gica livre para programas <I>batch</I>, <I>on-line</I> e sub-rotinas.</FONT> </P><DIR>

<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><B><FONT SIZE=2>Nome</B> - Descri&ccedil;&atilde;o resumida do programa.</FONT> </P>
<FONT SIZE=2><P>Esta informa&ccedil;&atilde;o ir&aacute; compor o <I>remarks</I> do programa.</FONT> </P>
<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><B><FONT SIZE=2>Analista</B> - Nome do analista respons&aacute;vel pelo programa.</FONT> </P>
<FONT SIZE=2><P>Esta informa&ccedil;&atilde;o ir&aacute; compor o <I>remarks</I> do programa.</FONT> </P>
<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><B><FONT SIZE=2>Programador</B> - Nome do programador respons&aacute;vel pelo programa.</FONT> </P>
<FONT SIZE=2><P>Esta informa&ccedil;&atilde;o ir&aacute; compor o <I>remarks</I> do programa.</FONT> </P>
<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><B><FONT SIZE=2>Usuario</B> - Nome da empresa ou &oacute;rg&atilde;o usu&aacute;rio do sistema.</FONT> </P>
<FONT SIZE=2><P>Esta informa&ccedil;&atilde;o ir&aacute; compor o <I>remarks</I> do programa.</FONT> </P>
<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><B><FONT SIZE=2>Compilador</B> - C&oacute;digo do compilador que ser&aacute; utilizado na compila&ccedil;&atilde;o do programa.</FONT> </P>
<FONT SIZE=2><P>O compilador informado ser&aacute; verificado contra a tabela de compiladores da instala&ccedil;&atilde;o - Tabela SBPM7016. Portanto, deve ser informado um compilador v&aacute;lido. Detalhes a este respeito est&atilde;o descritos na Se&ccedil;&atilde;o V, "Parametriza&ccedil;&otilde;es do SADS".</FONT> </P>
<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><B><FONT SIZE=2>Operacao</B> - Opera&ccedil;&atilde;o efetuada sobre o programa.</FONT> </P>
<FONT SIZE=2><P>Pode assumir os seguintes valores:</FONT> </P><DIR>

<B><FONT SIZE=2><P>"INC"</B> - Inclus&atilde;o;</FONT> </P>
<B><FONT SIZE=2><P>"ALT"</B> - Altera&ccedil;&atilde;o;</FONT> </P>
<B><FONT SIZE=2><P>"CON" </B>- Consulta;</FONT> </P>
<B><FONT SIZE=2><P>"EXC"</B> - Exclus&atilde;o.</P></DIR>
</DIR>
</DIR>

<P>Cumpre ressaltar que, qualquer altera&ccedil;&atilde;o na defini&ccedil;&atilde;o do programa exige que as telas sejam transmitidas pelo menos at&eacute; a sele&ccedil;&atilde;o de m&oacute;dulos, inclusive.</P>
</FONT><B><FONT SIZE=5><P><A NAME="Cadrec">Cadastramento de recursos</A></B></FONT> </P>
<FONT SIZE=2><P>Recursos de programa s&atilde;o os elementos - arquivos, <I>datasets</I>, <I>libraries</I>, tabelas, telas, relat&oacute;rios, registros de uso geral e sub-rotinas - que far&atilde;o parte de seu processamento.</FONT> </P>
<FONT SIZE=2><P>O cadastramento de recursos de programas s&oacute; &eacute; poss&iacute;vel caso o programa e todos os elementos que ser&atilde;o relacionados como seus recursos estejam cadastrados no reposit&oacute;rio de dados do SADS.</FONT> </P>
<B><FONT SIZE=2><P>CAMPOS DA TELA</B></FONT> </P><DIR>

<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>Programa</B> - C&oacute;digo do programa cujos recursos ser&atilde;o cadastrados, no padr&atilde;o SADS (ssspxx).</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>Base de dados</B> - C&oacute;digo da base de dados que cont&eacute;m os bancos de dados a serem utilizados pelo programa <I>batch</I>, no padr&atilde;o SADS (sssB00xx).</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>Dataset(I/U):</B> </P><DIR>

</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><B><FONT SIZE=2>Elemento</B> - C&oacute;digo do <I>dataset</I> que o programa ir&aacute; utilizar, no padr&atilde;o SADS (sssBxx).</FONT> </P>
<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><B><FONT SIZE=2>Cpl</B> - Complemento que indica em que parte do programa a <I>library</I> ser&aacute; inclu&iacute;da.</FONT> </P>
<FONT SIZE=2><P>Pode assumir os seguintes valores:</FONT> </P><DIR>

<B><FONT SIZE=2><P>"I" </B>- Se o <I>dataset</I> &eacute; utilizado pelo programa apenas para<I> inquiry</I> (leitura);</FONT> </P>
<B><FONT SIZE=2><P>"U"</B> - Se o <I>dataset</I> &eacute; utilizado pelo programa para <I>update</I> (leitura/grava&ccedil;&atilde;o).</P></DIR>
</DIR>

<P>Podem ser definidos at&eacute; quarenta <I>datasets</I> como recursos de um mesmo programa.</FONT> </P>
<FONT SIZE=2><P>No cadastramento de um programa <I>batch</I>, o <I>dataset</I> informado deve pertencer obrigatoriamente &agrave; base de dados especificada em seus recursos. </P>
<P>No cadastramento de um programa <I>on-line</I>, o <I>dataset</I> informado deve pertencer obrigatoriamente &agrave; base de dados especificada no cadastramento de seu <I>host</I>, e, caso tenham sido especificados bancos para este <I>host</I>, o <I>dataset</I> tamb&eacute;m deve pertencer a algum deles.</FONT> </P>
<FONT SIZE=2><P>A determina&ccedil;&atilde;o do complemento para <I>dataset</I> &eacute; documental, n&atilde;o sendo gerado nenhum c&oacute;digo ou especifica&ccedil;&atilde;o a partir dela.</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>Arquivo (I/O/U):</B></FONT> </P><DIR>

<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><B><FONT SIZE=2>Elemento</B> - C&oacute;digo do arquivo que o programa ir&aacute; utilizar, no padr&atilde;o SADS (sssAxn).</FONT> </P>
<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><B><FONT SIZE=2>Cpl</B> - Complemento para determina&ccedil;&atilde;o do modo de utiliza&ccedil;&atilde;o do arquivo.</FONT> </P>
<FONT SIZE=2><P>Pode assumir os seguintes valores:</FONT> </P><DIR>

<B><FONT SIZE=2><P>"I" </B>- Se o arquivo for utilizado pelo programa como <I>input</I> (entrada ou leitura de dados);</FONT> </P>
<B><FONT SIZE=2><P>"O"</B> - Se o arquivo for utilizado pelo programa como<I> output </I>(sa&iacute;da ou grava&ccedil;&atilde;o de dados);</FONT> </P>
<B><FONT SIZE=2><P>"U"</B> - Se o arquivo for utilizado pelo programa para <I>input</I>/<I> output</I> (entrada/sa&iacute;da).</P></DIR>

<P>A determina&ccedil;&atilde;o do complemento para arquivo &eacute; documental, n&atilde;o sendo gerado nenhum c&oacute;digo ou especifica&ccedil;&atilde;o a partir dela.</P></DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>Lib.(W/P/C/I/F/M):</B></FONT> </P><DIR>

<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><B><FONT SIZE=2>Elemento</B> - C&oacute;digo da <I>&nbsp;library</I> que o programa ir&aacute; utilizar, no padr&atilde;o SADS (sssLxx).</FONT> </P>
<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><B><FONT SIZE=2>Cpl</B> - Complemento que indica em que parte do programa a <I>library</I> ser&aacute; inclu&iacute;da.</FONT> </P>
<FONT SIZE=2><P>Pode assumir os seguintes valores:</FONT> </P><DIR>

<B><FONT SIZE=2><P>"W"</B> - Se a <I>library</I> for de estrutura de <I>work</I> e ser&aacute; inclu&iacute;da na WORKING-STORAGE SECTION do programa;</FONT> </P>
<B><FONT SIZE=2><P>"P"</B> - Se a <I>library</I> for de procedimentos e ser&aacute; inclu&iacute;da ao final da PROCEDURE-DIVISION do programa;</FONT> </P>
<B><FONT SIZE=2><P>"C"</B> - Se a <I>library</I> for de &aacute;rea conversacional e tamb&eacute;m ser&aacute; inclu&iacute;da na WORKING-STORAGE<I> </I>SECTION do programa;</FONT> </P>
<FONT SIZE=2><P>N&atilde;o &eacute; permtido definir &aacute;rea conversacional como recurso de programas <I>batch</I>.</FONT> </P>
<B><FONT SIZE=2><P>"I"</B> - Se a <I>library</I> for de procedimentos e ser&aacute; inclu&iacute;da no in&iacute;cio da PROCEDURE-DIVISION do programa;</FONT> </P>
<FONT SIZE=2><P>O complemento "I" s&oacute; pode ser definido para programas <I>batch</I>.</FONT> </P>
<FONT SIZE=2><P>A <I>library</I> neste caso poder&aacute; ser definida para uso de <I>declaratives</I>. </P>
<B><P>"F"</B> - Se a <I>library</I> for de &aacute;rea de comunica&ccedil;&atilde;o com o COMS e por isso dever&aacute; ser inclu&iacute;da no final da WORKING-STORAGE<I> </I>SECTION do programa;</FONT> </P>
<FONT SIZE=2><P>Este tipo de libray poder&aacute; ser utilizada como recurso de programas <I>batch</I>.</FONT> </P>
<B><FONT SIZE=2><P>"M"</B> - Se a <I>&nbsp;library</I> for de procedimentos e n&atilde;o houver necessidade de se gerar a sua inclus&atilde;o na PROCEDURE-DIVISION do programa.</FONT> </P>
<FONT SIZE=2><P>Quando o programa for gerado, n&atilde;o ser&aacute; gerado um <I>copy</I> desta<I> library</I>, pois este <I>copy</I> dever&aacute; ser feito atrav&eacute;s de um dos comandos de m&oacute;dulo COBOL, EDIT ou EXCEC. Neste caso, o cadastramento da <I>library</I> como recurso do programa ser&aacute; &uacute;til nas consultas a refer&ecirc;ncias cruzadas de tal <I>library</I>.</FONT> </P></DIR>
</DIR>

<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>Tela:</B></FONT> </P><DIR>

<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><B><FONT SIZE=2>Elemento</B> - C&oacute;digo da tela que o programa ir&aacute; utilizar, no padr&atilde;o SADS (sssTnnmm).</FONT> </P>
<FONT SIZE=2><P>Quando a l&oacute;gica do programa for "CO" (Consulta Simples), "CP" (Consulta Paginada), "CE" (Consulta com encadeamento),"AT" (Atualiza&ccedil;&atilde;o), "AP" (Atualiza&ccedil;&atilde;o Paginada) ou "SE" (L&oacute;gica de Sele&ccedil;&atilde;o), pelo menos uma das telas informadas como recurso deve pertencer ao menu onde o programa est&aacute; cadastrado. O tipo dessa tela deve ser compat&iacute;vel com a l&oacute;gica do programa, por exemplo:</FONT> </P>
<FONT SIZE=2><P>- Se a l&oacute;gica for "AP", a tela deve ter sido cadastrada com TIPO igual a "P" (tela paginada), na fun&ccedil;&atilde;o de "Defini&ccedil;&atilde;o de tela"; </P>
<P>- Se a l&oacute;gica for "CO", a tela deve ter sido cadastrada com TIPO igual a "C" (tela de consulta), nesta mesma fun&ccedil;&atilde;o. </P>
<P>- Se a l&oacute;gica for "SE", a tela deve ter sido cadastrada com TIPO igual a "S" (tela de sele&ccedil;&atilde;o), nesta mesma fun&ccedil;&atilde;o. </P></DIR>

<P>Se nenhuma tela submenu foi definida como recurso, o gerador assumir&aacute; a tela "00" do menu em que o programa est&aacute; cadastrado, para a gera&ccedil;&atilde;o de seus procedimentos.</P>
<P>N&atilde;o &eacute; permtido definir tela como recurso de programas batch. </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>Sub-rotina</B>:</FONT> </P><DIR>

<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><B><FONT SIZE=2>Elemento</B> - C&oacute;digo da sub-rotina que o programa ir&aacute; utilizar, no padr&atilde;o SADS<BR>
(sssSxx).</FONT> </P>
<FONT SIZE=2><P>Para as l&oacute;gicas "AT" (Atualiza&ccedil;&atilde;o), "AP" (Atualiza&ccedil;&atilde;o Paginada), "CO" (Consulta), "CP" (Consulta Paginada), "CE" (Consulta com encadeamento) ou "SE" (L&oacute;gica de Sele&ccedil;&atilde;o), caso na estrutura da tela existam atributos de <I>output</I> definidos com tamanho diferente do cadastrado na sua defini&ccedil;&atilde;o no reposit&oacute;rio e estes atributos possuam sintaxe "Vari&aacute;vel definida", deve ser informada a sub-rotina SDDS04 como recurso do programa. Isto porque o SADS assume que se quer decodificar o atributo, ou seja, quer-se exibir na tela a descri&ccedil;&atilde;o de um valor assumido pelo mesmo. Deste modo, no momento da gera&ccedil;&atilde;o do programa, &eacute; inserida em seu fonte uma chamada &agrave; sub-rotina para que ela possa efetuar a decodifica&ccedil;&atilde;o do atributo.</FONT> </P>
<FONT SIZE=2><P>As sub-rotinas de acesso a telas (SSSS01), consist&ecirc;ncia geral (SSCS01), acesso a tabelas (SSTS01) e dos paginadores (STPS04 e STPS10) n&atilde;o precisam ser informadas como recursos dos programas, mesmo que eles as utilizem.</P></DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>Tabela</B>:</FONT> </P><DIR>

<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><B><FONT SIZE=2>Elemento</B> - C&oacute;digo da tabela que o programa ir&aacute; utilizar, no padr&atilde;o SADS (sssMnnnn).</P></DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>Relatorio:</B></FONT> </P><DIR>

<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><B><FONT SIZE=2>Elemento</B> - C&oacute;digo do relat&oacute;rio que o programa ir&aacute; utilizar, no padr&atilde;o SADS (sssRnnm).</P></DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>Reg.Geral:</B></FONT> </P><DIR>

<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><B><FONT SIZE=2>Elemento</B> - C&oacute;digo do registro de uso geral que o programa ir&aacute; utilizar, no padr&atilde;o SADS (sssGnnmm).</P></DIR>

<P>Neste caso, o <I>dataset</I> de uso geral (SBGB02) tamb&eacute;m deve ser informado como recurso, no campo D.SET(I/U).</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>Diversos:</B></FONT> </P><DIR>

<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><B><FONT SIZE=2>Elemento</B> - C&oacute;digos dos recursos que n&atilde;o puderam ser definidos no campo apropriado, por n&atilde;o haver espa&ccedil;o suficiente (at&eacute; cinco elementos de cada tipo).</FONT> </P>
<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><B><FONT SIZE=2>Cpl</B> - Complemento para determina&ccedil;&atilde;o do tipo de elemento, se necess&aacute;rio.</FONT> </P>
<FONT SIZE=2><P>Pode assumir os valores j&aacute; relatados anteriormente para cada elemento especificamente.</P></DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>OPERACAO</B> - Opera&ccedil;&atilde;o efetuada sobre os recursos do programa.</FONT> </P>
<FONT SIZE=2><P>Pode assumir os seguintes valores:</FONT> </P><DIR>

<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"INC" - Inclus&atilde;o; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"ALT" - Altera&ccedil;&atilde;o; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"CON" - Consulta; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"EXC" - Exclus&atilde;o</FONT>.</P></DIR>

<FONT SIZE=2><P>Cumpre ressaltar que, qualquer altera&ccedil;&atilde;o nos recursos do programa exige que as telas encadeadas sejam transmitidas pelo menos at&eacute; a sele&ccedil;&atilde;o de m&oacute;dulos, inclusive.</P></DIR>

</FONT><B><FONT SIZE=5><P><A NAME="Cadare">Cadastramento de &aacute;rea de trabalho (&aacute;rea de <I>work</I>)</A></B></FONT> </P>
<FONT SIZE=2><P>A &aacute;rea de <I>work</I> de programa compreende os campos de trabalho e os campos de par&acirc;metro que ser&atilde;o utilizados pelo programa.</FONT> </P>
<FONT SIZE=2><P>O cadastramento da &aacute;rea de <I>work</I> de programa &eacute; &uacute;til quando, em um programa completamente gerado pelo SADS, h&aacute; necessidade de incluir campos em sua WORKING-STORAGE SECTION, campos estes que n&atilde;o seriam normalmente gerados pelo SADS.</FONT> </P>
<FONT SIZE=2><P>Deste modo, a partir do cadastramento da &aacute;rea de <I>&nbsp;work</I> de programa, ser&atilde;o inclu&iacute;dos diretamente no fonte do programa, sem o aux&iacute;lio de <I>&nbsp;copies</I> de <I>&nbsp;libraries</I> de <I>&nbsp;work</I>, os campos nela especificados.</FONT> </P>
<FONT SIZE=2><P>Todos os campos definidos na &aacute;rea de <I>work</I> de programa, com exce&ccedil;&atilde;o do campo "FILLER", ser&atilde;o gerados com o prefixo "WSS".</FONT> </P>
<FONT SIZE=2><P>Para o cadastramento da &aacute;rea de <I>work</I>, &eacute; necess&aacute;rio que o programa e seus recursos j&aacute; estejam cadastrados no reposit&oacute;rio de dados do SADS.</FONT> </P>
<B><FONT SIZE=2><P>CAMPOS DA TELA</B></FONT> </P><DIR>

<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>PROGRAMA</B> - C&oacute;digo do programa cuja &aacute;rea de <I>work</I> ser&aacute; cadastrada, no padr&atilde;o SADS (ssspxx).</FONT> </P>
<FONT SIZE=2><P>Para cada um dos atributos e campos pertencentes &agrave; &aacute;rea de <I>work</I> do programa, devem ser informados:</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>SEQ </B>- N&uacute;mero sequencial para posicionamento do atributo ou campo na estrutura da &aacute;rea de <I>work</I>.</FONT> </P>
<FONT SIZE=2><P>Este campo j&aacute; vem informado, sendo o primeiro n&uacute;mero igual a "0010" e os demais, acrescidos de 10.</FONT> </P>
<FONT SIZE=2><P>Para incluir um atributo ou campo entre dois outros j&aacute; inclu&iacute;dos, deve ser preenchida uma linha que esteja em branco e o n&uacute;mero sequencial desta linha deve ser alterado para um n&uacute;mero entre os j&aacute; informados. O SADS reorganizar&aacute; automaticamente a estrutura. Na pr&oacute;xima opera&ccedil;&atilde;o, os atributos e campos j&aacute; estar&atilde;o na nova ordem.</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>ATRIB/CAMPO</B> - C&oacute;digo do atributo ou campo que far&aacute; parte da &aacute;rea de <I>work</I> do programa.</FONT> </P>
<FONT SIZE=2><P>Pode-se cadastrar o campo FILLER (NDEF = "G"ou "P") e neste caso ele ser&aacute; gerado sem o prefixo WSS, que &eacute; comum a todos os atributos da &aacute;rea de <I>work</I>. Caso este campo seja particular &agrave; &aacute;rea de <I>work</I> (NDEF = "P") e n&atilde;o sejam definidos seu formato e tamanho, ent&atilde;o ser&aacute; assumido formato <I>display</I> com tamanho 1 (um) - PIC X(01).</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>SUFIXO</B> - Sufixo num&eacute;rico para diferenciar os atributos e campos de mesmo c&oacute;digo dentro da estrutura da &aacute;rea de <I>work</I>.</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>N&Iacute;VEL</B> - N&iacute;vel hier&aacute;rquico do atributo/campo dentro da &aacute;rea de <I>work</I>.</FONT> </P>
<FONT SIZE=2><P>O n&iacute;vel &eacute; utilizado para cria&ccedil;&atilde;o de itens de grupo semelhante ao Cobol.</FONT> </P>
<FONT SIZE=2><P>Os n&iacute;veis &agrave; disposi&ccedil;&atilde;o para uso s&atilde;o 01, 05 e demais m&uacute;ltiplos de 5 at&eacute; 45, e n&iacute;vel 77.</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>NDEF</B> - N&iacute;vel de defini&ccedil;&atilde;o do atributo/campo.</FONT> </P>
<FONT SIZE=2><P>Pode assumir os seguintes valores:</FONT> </P><DIR>

<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"G" (Geral) - Para atributo ou campo global do SADS, que pode ser utilizado pelos aplicativos desenvolvidos;</FONT> </P>
<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"S" (Sistema) - Para atributo ou campo definido no mesmo sistema do programa cuja &aacute;rea de work est&aacute; sendo cadastrada ou definido no sistema indicado no campo SIS; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"P" (Pr&oacute;prio) - Para atributo ou campo pr&oacute;prio ou particular do programa. Neste caso, n&atilde;o existe defini&ccedil;&atilde;o para o atributo/campo no reposit&oacute;rio de dados do SADS e suas caracter&iacute;sticas - tamanho, formato, sinaliza&ccedil;&atilde;o e decimais devem ent&atilde;o ser especificadas no cadastramento da estrutura da &aacute;rea de work; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"R" (Redefini&ccedil;&atilde;o) - Para atributo/campo que redefine o atributo/campo anterior de mesmo n&iacute;vel hier&aacute;rquico</FONT>.</P></DIR>

<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>SIS</B> - C&oacute;digo do sistema ao qual o atributo/campo pertence.</FONT> </P>
<FONT SIZE=2><P>Se o atributo/campo estiver definido no mesmo sistema do programa em quest&atilde;o, n&atilde;o &eacute; necess&aacute;rio inform&aacute;-lo.</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>COMP</B> - Indicador de atributo/campo compactado.</FONT> </P>
<FONT SIZE=2><P>Pode assumir o seguinte valor:</FONT> </P><DIR>

<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"S" - Se o atributo/campo n&uacute;merico for compactado na estrutura da &aacute;rea de <I>&nbsp;work</I>;</FONT> </P>
<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12>"B" - Se o atributo/campo n&uacute;merico for <I><FONT SIZE=2>binary</I> na estrutura da &aacute;rea de <I>&nbsp;work</I>.</FONT> </P></DIR>

<FONT SIZE=2><P>Se o indicador de campo compactado n&atilde;o for informado, o SADS ir&aacute; assumir que o atributo/campo n&uacute;merico n&atilde;o &eacute; compactado e nem <I>binary</I> na estrutura da &aacute;rea de <I>work</I>.</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>FORM</B> - Formato do atributo/campo na &aacute;rea de <I>work</I>.</FONT> </P>
<FONT SIZE=2><P>Pode assumir os seguintes valores:</FONT> </P><DIR>

<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"A" - Alfab&eacute;tico ;</P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"D" (<I>Display</I>) - Alfanum&eacute;rico; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"N" - Num&eacute;rico; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"R"- Real. </P></DIR>

<P>Se o campo FORM n&atilde;o for informado, o formato assumido ser&aacute; o mesmo definido para o atributo/campo no reposit&oacute;rio de dados.</FONT> </P>
<FONT SIZE=2><P>Se o atributo/campo estiver definido originalmente como num&eacute;rico e decimais e o campo FORM for alterado para "A" ou "D", os decimais ser&atilde;o ignorados para esta estrutura.</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>TAM</B> - Tamanho do atributo/campo na &aacute;rea de <I>work</I>.</FONT> </P>
<FONT SIZE=2><P>Se o campo TAM n&atilde;o for informado, o tamanho assumido ser&aacute; o mesmo definido para o atributo/campo no reposit&oacute;rio de dados.</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>DEC</B> - N&uacute;mero de casas decimais que o atributo/campo n&uacute;merico ir&aacute; conter na &aacute;rea de <I>work</I> do programa.</FONT> </P>
<FONT SIZE=2><P>Se o campo DEC n&atilde;o for informado, a quantidade de decimais assumida ser&aacute; a mesma definida para o atributo/campo no reposit&oacute;rio de dados.</FONT> </P>
<FONT SIZE=2><P>N&atilde;o &eacute; poss&iacute;vel determinar que um atributo/campo definido originalmente com casas decimais continue com o formato num&eacute;rico e passe a n&atilde;o possu&iacute;-las na &aacute;rea de <I>work</I>.</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>SIN</B> - Indicador de atributo/campo sinalizado.</FONT> </P>
<FONT SIZE=2><P>Pode assumir os seguintes valores:</FONT> </P><DIR>

<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12>"<FONT SIZE=2>S" - Se o atributo/campo n&uacute;merico for sinalizado; </P><DIR>
<DIR>
<DIR>

<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12>"N" - Se o atributo/campo num&eacute;rico n&atilde;o for sinalizado ;</P>
<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=13>&nbsp;&quot;J&quot; - Para atributo a ser definido com a cl&aacute;usula &quot;JUST RIGHT&quot;.</P></DIR>
</DIR>
</DIR>
</DIR>

<P>Se o campo SIN n&atilde;o for informado, ser&aacute; assumida a indica&ccedil;&atilde;o de sinaliza&ccedil;&atilde;o definida para o atributo/campo no reposit&oacute;rio de dados.</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>VAL</B> - Valor inicial a ser assumido pelo atributo/campo.</FONT> </P>
<FONT SIZE=2><P>Pode assumir os seguintes valores:</FONT> </P><DIR>

<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"Z" (Zeros) - Para atribuir zeros como valor inicial para o atributo/campo na &aacute;rea de work; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"S" (Spaces) - Para atribuir brancos como valor inicial para o atributo/campo na &aacute;rea de work; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"H" (High-values) - Para atribuir high-values como valor inicial para o atributo/campo na &aacute;rea de work; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"L" (Low-values) - Para atribuir low-values como valor inicial para o atributo/campo na &aacute;rea de work; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"R" (Recebido como par&acirc;metro) - Para indicar que o atributo/campo &eacute; recebido como par&acirc;metro para a execu&ccedil;&atilde;o do programa. </P>
<P>Neste caso, o n&iacute;vel de estrutura&ccedil;&atilde;o no Cobol para o atributo/campo dever&aacute; ser "01", sendo somente utilizado em programas <I>batch</I>;</FONT> </P>
<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"E" (M&aacute;scara de edi&ccedil;&atilde;o para a picture do atributo/campo) - Para indicar que o atributo/campo ir&aacute; assumir a m&aacute;scara de edi&ccedil;&atilde;o para ele definida quando do seu cadastramento. </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"D" (Valor default) - Para indicar que o atributo/campo ir&aacute; assumir,como valor inicial, o mesmo valor para ele atribu&iacute;do no campo DEFAULT na sua defini&ccedil;&atilde;o no reposit&oacute;rio de dados. </P>
<P>O campo DEFAULT &eacute; limitado ao tamanho de dez posi&ccedil;&otilde;es e o gerador n&atilde;o processa nenhuma consist&ecirc;ncia quanto ao seu conte&uacute;do.</FONT> </P>
<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12>"I" (<I><FONT SIZE=2>Indexed</I> <I>By</I>) - Para indicar que o atributo/campo utilizar&aacute; a cl&aacute;usula <I>indexed</I> <I>by, </I>sendo que este deve ser um item de grupo e o c&oacute;digo do &iacute;ndice ser&aacute; composto pelo c&oacute;digo do atributo/campo e pelo prefixo "IND-".</P></DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>OCCURS</B> - N&uacute;mero de ocorr&ecirc;ncias do atributo/campo na cria&ccedil;&atilde;o de grupos repetitivos.</FONT> </P>
<FONT SIZE=2><P>Grupos repetitivos s&oacute; podem ser criados para atributos ou campos que determinem um item grupo dentro da estrutura.</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>CONTINUA (S/N)</B> - Indicador de continuidade de opera&ccedil;&atilde;o.</FONT> </P>
<FONT SIZE=2><P>Pode assumir os seguintes valores:</FONT> </P><DIR>

<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"S" - Para prosseguir a opera&ccedil;&atilde;o sobre a &aacute;rea de <I>work</I> do programa;</FONT> </P>
<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"N" - Para encerrar a opera&ccedil;&atilde;o sobre a &aacute;rea de work do programa.</P></DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>OPERACAO</B> - Opera&ccedil;&atilde;o efetuada sobre a &aacute;rea de <I>work</I> do programa.</FONT> </P>
<FONT SIZE=2><P>Pode assumir os seguintes valores:</FONT> </P><DIR>

<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"INC" - Inclus&atilde;o; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"ALT" - Altera&ccedil;&atilde;o; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"CON" - Consulta; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"EXC" - Exclus&atilde;o.</P></DIR>
</DIR>

</FONT><B><FONT SIZE=5><P><A NAME="Cadpro">Cadastramento de processamento - <I>on-line</I>/<I>batch</A></B></I></FONT> </P>
<FONT SIZE=2><P>O cadastramento do processamento de um programa compreende a defini&ccedil;&atilde;o da estrutura l&oacute;gica do programa.</FONT> </P>
<FONT SIZE=2><P>Neste cadastramento, as informa&ccedil;&otilde;es s&atilde;o relacionadas entre si, permitindo, assim, uma grande varia&ccedil;&atilde;o de subl&oacute;gicas para cada um dos tipos de l&oacute;gicas de programas.</FONT> </P>
<FONT SIZE=2><P>Existe uma tela de cadastramento de processamento espec&iacute;fica para cada tipo de l&oacute;gica definido para o programa. Estas telas ser&atilde;o explicadas a seguir.</FONT> </P>
<FONT SIZE=2><P>Para cadastrar processamento, &eacute; necess&aacute;rio que o programa e seus recursos j&aacute; estejam cadastrados no reposit&oacute;rio de dados do SADS.</FONT> </P>
<FONT SIZE=2><P>O cadastramento de processamento deve ser utilizado apenas para programas cuja l&oacute;gica seja diferente de "LL" (L&oacute;gica livre). Para programas cuja l&oacute;gica seja "SR", "SC" ou "ST" (Sub-rotina), os detalhes est&atilde;o descritos no item "Sub-rotina", nesta mesma se&ccedil;&atilde;o.</FONT> </P><DIR>

<B><FONT SIZE=2><P>CAMPOS DA TELA</B></FONT> </P>
<FONT SIZE=2><P>O SADS envia uma tela de cadastramento de processamento espec&iacute;fica para o tipo de l&oacute;gica definido para o programa, a partir da qual ser&atilde;o coletados os dados necess&aacute;rios &agrave; estrutura&ccedil;&atilde;o do mesmo.</FONT> </P>
<FONT SIZE=2><P>Cumpre ressaltar que, quando se altera o conte&uacute;do de determinados campos das telas, que ser&atilde;o explicadas a seguir, o programa pode ser enquadrado em uma estrutura de rotinas diferente da anterior e todos os m&oacute;dulos definidos que n&atilde;o estiverem relacionados &agrave; nova estrutura ser&atilde;o perdidos.</FONT> </P>
<FONT SIZE=2><P>A seguir, ser&atilde;o exibidos os campos da tela de cadastramento de processamento de programa referentes a cada tipo de l&oacute;gica.</FONT> </P>
<B><FONT SIZE=2><P><A NAME="Consim">Consulta simples</B> <B>("CO")</A></B></FONT> </P>
<FONT SIZE=2><P>Se o tipo de l&oacute;gica definido para o programa for "CO", a tela para o cadastramento de seu processamento ser&aacute; a seguinte:</FONT> </P><DIR>

<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>PROGRAMA</B> - C&oacute;digo do programa, no padr&atilde;o SADS (sssNxx).</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>TRANSACAO</B> - N&uacute;mero da transa&ccedil;&atilde;o definido para o programa na fun&ccedil;&atilde;o de cadastramento de menu.</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>DATASET</B> - C&oacute;digo do <I>dataset</I> que ser&aacute; utilizado no programa, no padr&atilde;o SADS (sssBxxnn).</FONT> </P>
<FONT SIZE=2><P>Este <I>dataset</I> deve ter sido cadastrado nos recursos do programa. Se o <I>dataset</I> possuir mais de um tipo de registro, deve-se informar, nas duas &uacute;ltimas posi&ccedil;&otilde;es do campo DATASET, qual deles ser&aacute; utilizado pelo programa. Se o campo n&atilde;o for informado, o gerador assumir&aacute; o valor <I>default</I> de registro ("00").</FONT> </P>
<FONT SIZE=2><P>Para este tipo de l&oacute;gica, pode-se informar at&eacute; dois <I>datasets</I> por programa. Acima desse limite, devem ser utilizados os m&oacute;dulos para complementa&ccedil;&atilde;o.</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>LOOP(S/N)</B> - Indicador de processamento repetitivo para o <I>dataset</I> (<I>loop</I>).</FONT> </P>
<FONT SIZE=2><P>Pode assumir os seguintes valores:</FONT> </P><DIR>

<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12>&nbsp;<FONT SIZE=2>"N" - Para que o programa seja gerado com acesso a apenas um registro do <I>dataset</I>;</FONT> </P>
<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>&nbsp;"S" - Para que o programa seja gerado com acesso a v&aacute;rios registros do dataset, ou seja, com um loop de acesso at&eacute; que n&atilde;o existam mais registros do dataset que satisfa&ccedil;am &agrave; condi&ccedil;&atilde;o informada. </P></DIR>

<P>Quando o programa utilizar dois <I>datasets</I>, apenas um deles poder&aacute; conter "S" no campo LOOP(S/N).</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>SET DE ACESSO</B> - C&oacute;digo da estrutura DMSII que o programa utilizar&aacute; para acesso ao <I>dataset</I> informado (<I> set</I>, <I>subset</I> ou <I>access</I>).</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>&Uacute;LTIMO ATRIBUTO PARA ACESSO</B> - C&oacute;digo do &uacute;ltimo atributo para acesso &agrave; estrutura informada.</FONT> </P>
<FONT SIZE=2><P>Pode assumir os seguintes valores:</FONT> </P><DIR>

<B><FONT SIZE=2><P>"&lt;C&oacute;digo de atributo&gt;"</B> - O c&oacute;digo do &uacute;ltimo atributo para acesso com qualifica&ccedil;&atilde;o parcial a uma estrutura DMSII (<I>set</I>, <I>subset</I> ou <I>access</I>), isto &eacute;, o atributo limite para acesso;</FONT> </P>
<B><FONT SIZE=2><P>"NENHUM"</B> - Para que o programa execute acesso &agrave; estrutura DMSII sem considerar os campos da chave de acesso.</P></DIR>

<P>Caso este campo n&atilde;o seja informado, o acesso &agrave; estrutura DMSII ser&aacute; completo, isto &eacute;, com todos os atributos pertencentes &agrave; chave de acesso.</P></DIR>

<B><P><A NAME="Conpag">Consulta paginada</B> <B>("CP")</A></B></FONT> </P>
<FONT SIZE=2><P>Se o tipo de l&oacute;gica definido para o programa for "CP", a tela para o cadastramento de seu processamento ser&aacute; a seguinte:</P><DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>PROGRAMA</B> - C&oacute;digo do programa, no padr&atilde;o SADS (sssNxx).</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>TRANSACAO</B> - N&uacute;mero da transa&ccedil;&atilde;o cadastrado para o programa na fun&ccedil;&atilde;o de cadastramento de menu.</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>TELA</B> - N&uacute;mero da tela que o programa utilizar&aacute;.</FONT> </P>
<FONT SIZE=2><P>Para esta l&oacute;gica pode-se utilizar at&eacute; duas telas diferentes por programa e at&eacute; dois <I>datasets</I> por tela. Acima desses limites, deve-se utilizar m&oacute;dulos para complementa&ccedil;&atilde;o. O n&uacute;mero da tela informado deve existir no cadastramento de recursos para o programa e o tipo da tela deve estar especificado como "C" (consulta) na sua defini&ccedil;&atilde;o.</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>DATASET</B> - C&oacute;digo do <I>dataset</I> que ser&aacute; utilizado no programa, no padr&atilde;o SADS (sssBxxnn).</FONT> </P>
<FONT SIZE=2><P>Este <I>dataset</I> deve ter sido cadastrado nos recursos do programa. Se o <I>dataset</I> possuir mais de um tipo de registro, deve-se informar, nas duas &uacute;ltimas posi&ccedil;&otilde;es do campo DATASET, qual deles ser&aacute; utilizado pelo programa. Se o registro n&atilde;o for informado, o gerador assumir&aacute; o valor <I>default</I> de registro ("00").</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>LOOP(S/N) </B>- Indicador de processamento repetitivo para o <I>dataset</I> (<I>loop</I>).</FONT> </P>
<FONT SIZE=2><P>Pode assumir os seguintes valores:</FONT> </P>
<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"N" - Para que o programa seja gerado com acesso a apenas um registro do dataset; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"S" - Para que o programa seja gerado com acesso a v&aacute;rios registros do dataset, ou seja, com um loop de acesso at&eacute; que n&atilde;o existam mais registros que satisfa&ccedil;am &agrave; condi&ccedil;&atilde;o informada.</P>
<P>Quando os dois <I>datasets</I> da tela estiverem preenchidos, apenas um deles poder&aacute; conter "S" no campo LOOP (S/N).</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>SET DE ACESSO</B> - C&oacute;digo do <I>set, subset </I>ou<I> access</I> que o programa utilizar&aacute; para acesso ao <I>dataset</I> informado.</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>ULTIMO ATRIBUTO PARA ACESSO</B> - C&oacute;digo do &uacute;ltimo atributo para acesso &agrave; estrutura DMSII informada.</FONT> </P>
<FONT SIZE=2><P>Pode assumir os seguintes valores:</FONT> </P><DIR>

<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"&lt;C&oacute;digo de atributo&gt;" - O c&oacute;digo do &uacute;ltimo atributo para acesso com qualifica&ccedil;&atilde;o parcial &agrave; estrutura DMSII informada, isto &eacute;, c&oacute;digo do atributo limite para acesso.</FONT> </P>
<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"NENHUM" - Para que o programa execute acesso &agrave; estrutura DMSII sem considerar os campos da chave de acesso.</P></DIR>

<P>Caso este campo n&atilde;o seja informado, o acesso &agrave; estrutura DMSII ser&aacute; completo, isto &eacute;, com todos os atributos pertencentes &agrave; chave de acesso.</P></DIR>

<B><P><A NAME="Conenc">Consulta com encadeamento</B> <B>("CE")</A></B></FONT> </P>
<FONT SIZE=2><P>Se o tipo de l&oacute;gica definido para o programa for "CE", a tela para o cadastramento de seu processamento ser&aacute; a seguinte:</FONT> </P><DIR>

<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>PROGRAMA</B> - C&oacute;digo do programa, no padr&atilde;o SADS (sssNxx).</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>TRANSACAO</B> - N&uacute;mero da transa&ccedil;&atilde;o cadastrado para o programa na fun&ccedil;&atilde;o de cadastramento de menu.</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>PAGINACAO (S/N)</B> - Indicador de pagina&ccedil;&atilde;o dos dados a serem exibidos pelo programa.</FONT> </P>
<FONT SIZE=2><P>Pode assumir os seguintes valores:</FONT> </P><DIR>

<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"S" - Para indicar que o programa ir&aacute; apresentar os dados em mais de uma p&aacute;gina; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"N" - Para indicar que o programa ir&aacute; apresentar os dados em apenas uma p&aacute;gina.</P></DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>DATASET</B> - C&oacute;digo do <I>dataset</I> que ser&aacute; utilizado no programa, no padr&atilde;o SADS (sssBxxnn).</FONT> </P>
<FONT SIZE=2><P>Este <I>dataset</I> deve ter sido cadastrado nos recursos do programa. Se o <I>dataset</I> possuir mais de um tipo de registro, deve-se informar, nas duas &uacute;ltimas posi&ccedil;&otilde;es do campo DATASET, qual deles ser&aacute; utilizado pelo programa. Se o registro n&atilde;o for informado, o gerador assumir&aacute; o valor <I>default</I> de registro ("00").</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>LOOP(S/N)</B> - Indicador de processamento repetitivo para o <I>dataset</I> (<I>loop</I>).</FONT> </P>
<FONT SIZE=2><P>Pode assumir os seguintes valores:</FONT> </P><DIR>

<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"N" - Para que o programa seja gerado com acesso a apenas um registro do dataset; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"S" - Para que o programa seja gerado com acesso a v&aacute;rios registros do dataset, ou seja, com um loop de acesso at&eacute; que n&atilde;o existam mais registros que satisfa&ccedil;am &agrave; condi&ccedil;&atilde;o informada.</P></DIR>

<P>Quando os dois <I>datasets</I> da tela estiverem preenchidos, apenas um deles poder&aacute; conter "S" no campo LOOP (S/N).</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>ACESSOS:</B></FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>SET</B> - C&oacute;digo do <I>set, subset </I>ou<I> access</I> que o programa utilizar&aacute; para acesso ao <I>dataset</I> informado.</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>ULTIMO ATRIBUTO</B> - C&oacute;digo do &uacute;ltimo atributo para acesso &agrave; estrutura DMSII informada.</FONT> </P>
<FONT SIZE=2><P>Pode assumir os seguintes valores:</FONT> </P><DIR>

<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"&lt;C&oacute;digo de atributo&gt;" - O c&oacute;digo do &uacute;ltimo atributo para acesso com qualifica&ccedil;&atilde;o parcial &agrave; estrutura DMSII informada, isto &eacute;, c&oacute;digo do atributo limite para acesso. </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"NENHUM" - Para que o programa execute acesso &agrave; estrutura DMSII sem considerar os campos da chave de acesso.</P></DIR>

<P>Caso este campo n&atilde;o seja informado, o acesso &agrave; estrutura DMSII ser&aacute; completo, isto &eacute;, com todos os atributos pertencentes &agrave; chave de acesso.</P></DIR>

<B><P><A NAME="Emimp">Emiss&atilde;o em impressora central ("EC") e emiss&atilde;o em impressora remota ("ER")</A></B></FONT> </P>
<FONT SIZE=2><P>Se o tipo de l&oacute;gica definido para o programa for "EC" ou "ER", a tela para o cadastramento de seu processamento ser&aacute; a seguinte:</P><DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>PROGRAMA</B> - C&oacute;digo do programa, no padr&atilde;o SADS (sssNxx).</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>TRANSACAO</B> - N&uacute;mero da transa&ccedil;&atilde;o cadastrado para o programa.</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>LOGICA DE EMISSAO EM IMPRESSORA CENTRAL COM USO DE "REPRINTS" </B>- Identificador de utiliza&ccedil;&atilde;o do <I>Reprints</I>.</FONT> </P>
<FONT SIZE=2><P>Pode assumir os seguintes valores:</FONT> </P><DIR>

<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"N" - Sem utiliza&ccedil;&atilde;o do Reprints; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"S" - Para gerar l&oacute;gica de emiss&atilde;o com uso do Reprints. </P></DIR>

<P>Para a l&oacute;gica "ER" (Emiss&atilde;o em impressora remota), que n&atilde;o admite o uso do Reprints, deve-se informar sempre "N" no campo LOGICA DE EMISSAO EM IMPRESSORA CENTRAL COM USO DE "REPRINTS".</FONT> </P>
<FONT SIZE=2><P>Para l&oacute;gica "EC" (Emiss&atilde;o em impressora central), se a instala&ccedil;&atilde;o possuir o <I>software</I> <I>Reprints</I> da <I>Unisys</I> e na estrutura da tela menu o atributo "TLAIMPRE" estiver definido, tem-se a op&ccedil;&atilde;o de emitir tanto em impressora remota quanto na central. Neste caso, no menu do aplicativo, deve-se informar branco ou "PRINTER", para emiss&atilde;o em impressora central, ou o c&oacute;digo de uma impressora remota da instala&ccedil;&atilde;o, para emiss&atilde;o remota.</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>DATASET</B> - C&oacute;digo do <I>dataset</I> que ser&aacute; utilizado no programa, no padr&atilde;o SADS (sssBxxnn).</FONT> </P>
<FONT SIZE=2><P>Este <I>dataset</I> deve ter sido cadastrado nos recursos do programa.</FONT> </P>
<FONT SIZE=2><P>Se o <I>dataset</I> possuir mais de um tipo de registro, deve-se informar, nas duas &uacute;ltimas posi&ccedil;&otilde;es do campo DATASET, qual deles ser&aacute; utilizado pelo programa. Se o registro n&atilde;o for informado, o gerador assumir&aacute; o valor <I>default</I> de registro ("00").</FONT> </P>
<FONT SIZE=2><P>Para este tipo de l&oacute;gica, pode-se informar at&eacute; dois <I>datasets</I> por programa. Acima desse limite, deve-se utilizar m&oacute;dulos para complementa&ccedil;&atilde;o.</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>LOOP(S/N)</B> - Indicador de processamento repetitivo para o <I>dataset</I> (<I>loop</I>).</FONT> </P>
<FONT SIZE=2><P>Pode assumir os seguintes valores:</FONT> </P><DIR>

<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"N" - Para que o programa seja gerado com acesso a apenas um registro do dataset; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"S" - Para que o programa seja gerado com acesso a v&aacute;rios registros do dataset, ou seja, com um loop de acesso at&eacute; que n&atilde;o existam mais registros do dataset que satisfa&ccedil;am &agrave; condi&ccedil;&atilde;o informada.</P></DIR>

<P>Quando o programa utilizar dois <I>datasets</I>, apenas um deles poder&aacute; conter "S" no campo LOOP(S/N).</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>SET DE ACESSO</B> - C&oacute;digo do <I>set</I>, <I>subset</I> ou <I>access</I> que o programa ir&aacute; utilizar para acesso ao <I>dataset</I> informado.</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>ULTIMO ATRIBUTO PARA ACESSO</B> - C&oacute;digo do &uacute;ltimo atributo para acesso &agrave; estrutura DMSII informada.</FONT> </P>
<FONT SIZE=2><P>Pode assumir os seguintes valores:</FONT> </P><DIR>

<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"&lt;C&oacute;digo de atributo&gt;" - O c&oacute;digo do &uacute;ltimo atributo para acesso com qualifica&ccedil;&atilde;o parcial &agrave; estrutura DMSII informada, isto &eacute;, c&oacute;digo do atributo limite para acesso; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"NENHUM" - Para que o programa execute acesso &agrave; estrutura DMSII sem considerar os campos da chave de acesso.</P></DIR>

<P>Caso este campo n&atilde;o seja informado, o acesso &agrave; estrutura DMSII ser&aacute; completo, isto &eacute;, com todos os atributos pertencentes &agrave; chave de acesso.</FONT> </P></DIR>

<B><FONT SIZE=2><P><A NAME="Logbat">L&oacute;gica <I>batch</I> ("BT")</A></B></FONT> </P>
<FONT SIZE=2><P>Se o tipo de l&oacute;gica definido para o programa for "BT", a tela para o cadastramento de seu processamento ser&aacute; a seguinte:</P><DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>PROGRAMA</B> - C&oacute;digo do programa, no padr&atilde;o SADS (sssPxx).</FONT> </P>
<FONT SIZE=2><P>Qualquer arquivo, <I>dataset</I> ou relat&oacute;rio informados nos campos descritos a seguir, t&ecirc;m de estar definidos como recurso de programa.</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>ESTRUTURA PARAMETRO</B> - C&oacute;digo do arquivo que ser&aacute; utilizado como par&acirc;metro pelo programa, no padr&atilde;o SADS (sssAxn).</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>ENTRADA DA FASE UM </B>- C&oacute;digo do elemento (arquivo ou <I>dataset</I>) que ser&aacute; utilizado como entrada (leitura) pelo programa.</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>REGISTRO DA ENTRADA DA FASE UM</B> - C&oacute;digo do registro do arquivo/<I>dataset</I> que dever&aacute; ser utilizado pelo programa.</FONT> </P>
<FONT SIZE=2><P>Se o n&uacute;mero do registro n&atilde;o for informado, ser&aacute; assumido o registro "00" para <I>datasets</I> e "01" para arquivos.</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>SAIDA DA FASE UM</B> - C&oacute;digo do elemento (arquivo, <I>dataset</I> ou relat&oacute;rio) que ser&aacute; utilizado como sa&iacute;da (grava&ccedil;&atilde;o ou impress&atilde;o) pelo programa.</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>REGISTRO DA SAIDA DA FASE UM</B> - C&oacute;digo do registro do arquivo ou <I>dataset</I> que dever&aacute; ser utilizado pelo programa.</FONT> </P>
<FONT SIZE=2><P>Se o n&uacute;mero do registro n&atilde;o for informado, ser&aacute; assumido o registro "00" para <I>datasets</I> e "01" para arquivos.</FONT> </P>
<FONT SIZE=2><P>Para relat&oacute;rio, este campo n&atilde;o deve ser informado.</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>ENTRADA PARA CLASSIFICACAO</B> - C&oacute;digo do arquivo que ser&aacute; utilizado pelo programa como entrada para a classifica&ccedil;&atilde;o, no padr&atilde;o SADS (sssAxn).</FONT> </P>
<FONT SIZE=2><P>Caso o elemento de SAIDA DA FASE UM seja informado e a fase de CLASSIFICA&Ccedil;&Atilde;O seja utilizada, o arquivo de ENTRADA PARA CLASSIFICACAO deve ser o mesmo arquivo informado na SAIDA DA FASE UM.</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>SAIDA DA CLASSIFICACAO</B> - C&oacute;digo do arquivo que ser&aacute; utilizado pelo programa como sa&iacute;da da classifica&ccedil;&atilde;o, no padr&atilde;o SADS (sssAxn).</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>ENTRADA DA FASE DOIS</B> - C&oacute;digo do arquivo que ser&aacute; utilizado pelo programa como entrada da fase dois, no padr&atilde;o SADS (sssAxn).</FONT> </P>
<FONT SIZE=2><P>Caso o arquivo de sa&iacute;da da classifica&ccedil;&atilde;o seja informado e a fase dois seja utilizada, o arquivo de entrada da fase dois tem de ser o mesmo utilizado como sa&iacute;da da fase de classifica&ccedil;&atilde;o.</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>REGISTRO DA ENTRADA DA FASE DOIS</B> - C&oacute;digo do registro do arquivo que ser&aacute; utilizado pelo programa.</FONT> </P>
<FONT SIZE=2><P>Se este campo n&atilde;o for informado, ser&aacute; assumido o registro "01" para arquivos e "00" para <I>datasets</I>.</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>SAIDA DA FASE DOIS</B> - Elemento (arquivo, <I>dataset</I> ou relat&oacute;rio) que ser&aacute; utilizado pelo programa como sa&iacute;da final do programa.</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>REGISTRO DA SAIDA DA FASE DOIS</B> - C&oacute;digo do registro do arquivo ou <I>dataset</I> utilizado pelo programa na SAIDA DA FASE DOIS.</FONT> </P>
<FONT SIZE=2><P>Se este campo n&atilde;o for informado, ser&aacute; assumido o registro "01" para arquivos e "00" para <I>datasets</I>.</FONT> </P>
<FONT SIZE=2><P>Caso o elemento de sa&iacute;da da fase dois seja um relat&oacute;rio, este campo n&atilde;o deve ser informado.</P></DIR>

<B><P><A NAME="Atusim">Atualiza&ccedil;&atilde;o</B> <B>simples ("AT")</A></B></FONT> </P>
<FONT SIZE=2><P>Se o tipo de l&oacute;gica definido para o programa for "AT", a tela para o cadastramento de seu processamento ser&aacute; a seguinte:</FONT> </P><DIR>

<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>PROGRAMA</B> - C&oacute;digo do programa em cadastramento, no padr&atilde;o SADS (sssNxx).</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>TRANSACAO</B> - N&uacute;mero da transa&ccedil;&atilde;o definido para o programa na fun&ccedil;&atilde;o de cadastramento de menu.</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>DATASET</B> - C&oacute;digo do <I>dataset</I> que ser&aacute; utilizado no programa, no padr&atilde;o SADS (sssBxxnn).</FONT> </P>
<FONT SIZE=2><P>Este <I>dataset</I> deve ter sido cadastrado como recurso do programa.</FONT> </P>
<FONT SIZE=2><P>Se o <I>dataset</I> possuir mais de um tipo de registro, deve-se informar, nas duas &uacute;ltimas posi&ccedil;&otilde;es do campo DATASET, qual deles ser&aacute; utilizado pelo programa. Se o registro n&atilde;o for informado, o gerador assumir&aacute; o valor <I>default</I> de registro ("00").</FONT> </P>
<FONT SIZE=2><P>Para este tipo de l&oacute;gica, pode-se informar at&eacute; dois <I>datasets</I> por programa. Acima desse limite, devem ser utilizados m&oacute;dulos para complementa&ccedil;&atilde;o.</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>LOOP(S/N)</B> - Indicador de processamento repetitivo para o <I>dataset</I> (<I>loops</I>).</FONT> </P>
<FONT SIZE=2><P>Pode assumir os seguintes valores:</FONT> </P><DIR>

<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"N" - Para que o programa seja gerado com acesso/atualiza&ccedil;&atilde;o a apenas um registro do dataset; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"S" - Para que o programa seja gerado com acesso/atualiza&ccedil;&atilde;o a v&aacute;rios registros do dataset, ou seja, com um loop de acesso/atualiza&ccedil;&atilde;o at&eacute; que n&atilde;o existam mais registros do dataset com a chave espec&iacute;fica a serem processados.</P></DIR>

<P>Se o programa utilizar dois <I>datasets</I>, apenas um deles deve conter "S" no campo LOOP.</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>SET DE ACESSO</B> - C&oacute;digo do <I>set</I>, <I>subset</I> ou <I>access</I> que o programa utilizar&aacute; para acesso ao <I>dataset</I> informado.</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>ULTIMO ATRIBUTO PARA ACESSO</B> - C&oacute;digo do &uacute;ltimo atributo para acesso &agrave; estrutura informada (<I>set</I>, <I>subset</I> ou <I>access</I>).</FONT> </P>
<FONT SIZE=2><P>Pode assumir os seguintes valores:</FONT> </P><DIR>

<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><B><FONT SIZE=2>"&lt;C&oacute;digo de atributo&gt;" </B>- Para que o acesso &agrave; estrutura DMSII (set, subset ou access) seja feito at&eacute; o c&oacute;digo deste atributo, ou seja, para qualifica&ccedil;&atilde;o parcial da chave de acesso &agrave; estrutura definida; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><B><FONT SIZE=2>"NENHUM" </B>- Para que o programa execute acesso &agrave; estrutura DMSII sem considerar os campos da chave de acesso.</P></DIR>

<P>Caso este campo n&atilde;o seja informado, o acesso &agrave; estrutura DMSII ser&aacute; completo, isto &eacute;, com todos os atributos pertencentes &agrave; chave de acesso.</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>USO:</B></FONT> </P>
<FONT SIZE=2><P>Os campos de USO servem para determinar em quais fases do programa o respectivo <I>dataset</I> ser&aacute; utilizado e que tipo de acesso/atualiza&ccedil;&atilde;o ele dever&aacute; sofrer.</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>PREPARA (S/N) </B>- Indicador de utiliza&ccedil;&atilde;o do <I>dataset</I> na fase de montagem da tela para ser exibida ao usu&aacute;rio.</FONT> </P>
<FONT SIZE=2><P>Pode assumir os seguintes valores:</FONT> </P><DIR>

<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"N" - Para que o dataset n&atilde;o seja utilizado na composi&ccedil;&atilde;o dos dados na tela; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"S" - Para utilizar o dataset na prepara&ccedil;&atilde;o da tela.</P></DIR>

<P>Neste caso, ser&aacute; gerado um acesso ao <I>dataset</I> atrav&eacute;s do <I>set</I>, <I>subset</I> ou <I>access</I> informado e ser&aacute; feita a movimenta&ccedil;&atilde;o dos atributos do <I>dataset</I> para os atributos correspondentes (de mesmo mnem&ocirc;nico) da tela.</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>CONSISTE (S/N)</B> - Indicador de utiliza&ccedil;&atilde;o do <I>dataset</I> na fase em que &eacute; feita a consist&ecirc;ncia contra cadastro dos dados preenchidos na tela pelo usu&aacute;rio.</FONT> </P>
<FONT SIZE=2><P>Pode assumir os seguintes valores:</FONT> </P><DIR>

<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"L" - Para que o dataset seja utilizado na consist&ecirc;ncia dos dados da tela contra cadastro e seja gerado um "LOCK" ao inv&eacute;s de um "FIND" na rotina de consist&ecirc;ncia; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"N" - Para que o dataset n&atilde;o seja utilizado na consist&ecirc;ncia dos dados da tela contra cadastro; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"S" - Para que o dataset seja utilizado na consist&ecirc;ncia dos dados da tela contra cadastro, isto &eacute;, para testar a exist&ecirc;ncia/inexist&ecirc;ncia dos dados informados na tela. Neste caso ser&aacute; gerado um comando "FIND" para localizar o dado informado pelo usu&aacute;rio no dataset.</P></DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>ATUALIZA</B> - Indicador de utiliza&ccedil;&atilde;o do <I>dataset</I> na fase em que os dados preenchidos na tela pelo usu&aacute;rio s&atilde;o atualizados nos respectivos <I>datasets</I>.</FONT> </P>
<FONT SIZE=2><P>Pode assumir os seguintes valores:</P><DIR>

</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"N" - Para que n&atilde;o seja gerado nenhum tipo de atualiza&ccedil;&atilde;o para o dataset; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"I" - Para gerar uma l&oacute;gica de inclus&atilde;o para o dataset na fase de atualiza&ccedil;&atilde;o do programa; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"A" - Para gerar uma l&oacute;gica de altera&ccedil;&atilde;o para o dataset na fase de atualiza&ccedil;&atilde;o do programa; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"E" - Para gerar uma l&oacute;gica de exclus&atilde;o para o dataset na fase de atualiza&ccedil;&atilde;o do programa.</P></DIR>
</DIR>

<B><P><A NAME="Atupag">Atualiza&ccedil;&atilde;o paginada ("AP")</A></B></FONT> </P>
<FONT SIZE=2><P>Se o tipo de l&oacute;gica definido para o programa for "AP", a tela para o cadastramento de seu processamento ser&aacute; a seguinte:</P><DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>PROGRAMA</B> - C&oacute;digo do programa, no padr&atilde;o SADS (sssNxx).</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>RETORNO DA CONSISTENCIA (S/N)</B> - Indicador de ajustes, alinhamentos e convers&otilde;es a serem passados pela consist&ecirc;ncia para o programa.</FONT> </P>
<FONT SIZE=2><P>Caso o retorno da consist&ecirc;ncia seja especificado (igual a "S"), a consist&ecirc;ncia ir&aacute; passar os dados informados pelo usu&aacute;rio com os devidos ajustes e convers&otilde;es para o programa de atualiza&ccedil;&atilde;o paginada.</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>TRANSACAO</B> - N&uacute;mero da transa&ccedil;&atilde;o definido para o programa na fun&ccedil;&atilde;o de cadastramento de menu.</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>TELA</B> - N&uacute;mero da tela que o programa utilizar&aacute;.</FONT> </P>
<FONT SIZE=2><P>Para esta l&oacute;gica pode-se utilizar at&eacute; duas telas diferentes por programa. Acima desses limites, deve-se utilizar m&oacute;dulos para complementa&ccedil;&atilde;o.</FONT> </P>
<FONT SIZE=2><P>Os n&uacute;meros informados t&ecirc;m de ser de telas definidas como recurso do programa e com tipo igual a "P" (atualiza&ccedil;&atilde;o paginada).</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>DATASET</B> - C&oacute;digo do <I>dataset</I> que ser&aacute; utilizado no programa, no padr&atilde;o SADS (sssBxxnn).</FONT> </P>
<FONT SIZE=2><P>Este <I>dataset</I> deve ter sido cadastrado como recurso do programa.</FONT> </P>
<FONT SIZE=2><P>Se o <I>dataset</I> possuir mais de um tipo de registro, deve ser informado, nas duas &uacute;ltimas posi&ccedil;&otilde;es do campo DATASET, qual deles ser&aacute; utilizado pelo programa. Se o registro n&atilde;o for informado, o gerador assumir&aacute; o valor <I>default</I> de registro ("00").</FONT> </P>
<FONT SIZE=2><P>Para este tipo de l&oacute;gica, pode-se informar at&eacute; quatro <I>datasets</I> por programa, ou seja, dois por tela. Acima desse limite, m&oacute;dulos para complementa&ccedil;&atilde;o devem ser utilizados.</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>LOOP(S/N)</B> - Indicador de processamento repetitivo para o <I>dataset</I> (<I>loop</I>).</FONT> </P>
<FONT SIZE=2><P>Pode assumir os seguintes valores:</FONT> </P><DIR>

<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"N" - Para que o programa seja gerado com acesso/atualiza&ccedil;&atilde;o a apenas um registro do <I>&nbsp;dataset</I>;</FONT> </P>
<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"S" - Para que o programa seja gerado com acesso/atualiza&ccedil;&atilde;o a v&aacute;rios registros do &nbsp;dataset, ou seja, com um loop de acesso/atualiza&ccedil;&atilde;o at&eacute; que n&atilde;o existam mais registros do dataset que satisfa&ccedil;am &agrave; condi&ccedil;&atilde;o informada.</P></DIR>

<P>Quando o programa utilizar dois <I>datasets</I>, apenas um deles poder&aacute; conter "S" no campo LOOP.</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>SET DE ACESSO</B> - C&oacute;digo do <I>set, subset</I> ou <I>access</I> que o programa ir&aacute; utilizar para acesso ao <I>dataset</I> informado.</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>ULTIMO ATRIBUTO PARA ACESSO</B> - C&oacute;digo do &uacute;ltimo atributo para acesso &agrave; estrutura informada.</FONT> </P>
<FONT SIZE=2><P>Pode assumir os seguintes valores:</FONT> </P><DIR>

<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"&lt;C&oacute;digo de atributo&gt;" - O c&oacute;digo do &uacute;ltimo atributo para acesso com qualifica&ccedil;&atilde;o parcial a uma estrutura DMSII ( set, subset ou access), ou seja, o atributo limite para acesso; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"NENHUM" - Para que o programa execute acesso &agrave; estrutura DMSII sem considerar os campos da chave de acesso.</P></DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>USO:</B></FONT> </P>
<FONT SIZE=2><P>Os campos de USO servem para informar em quais fases do programa o respectivo <I>dataset</I> ser&aacute; utilizado e que tipo de acesso/atualiza&ccedil;&atilde;o dever&aacute; sofrer.</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>PREPARA (S/N)</B> - Indicador de utiliza&ccedil;&atilde;o do <I>dataset</I> na fase de montagem da tela para ser exibida ao usu&aacute;rio.</FONT> </P>
<FONT SIZE=2><P>Pode assumir os seguintes valores:</FONT> </P><DIR>

<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"N" - Para que o dataset n&atilde;o seja utilizado na composi&ccedil;&atilde;o dos dados na tela; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"S" - Para utilizar o dataset na prepara&ccedil;&atilde;o da tela.</P></DIR>

<P>Neste caso, ser&aacute; gerado um acesso ao <I>dataset</I> atrav&eacute;s da estrutura de acesso e ser&aacute; feita a movimenta&ccedil;&atilde;o dos atributos do <I>&nbsp;dataset</I> para os atributos correspondentes (mesmo mnem&ocirc;nico) da tela .</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>CONSISTE (S/N)</B> - Indicador de utiliza&ccedil;&atilde;o do <I>dataset</I> na fase em que &eacute; feita a consist&ecirc;ncia contra cadastro dos dados preenchidos na tela pelo usu&aacute;rio.</FONT> </P>
<FONT SIZE=2><P>Pode assumir os seguintes valores:</FONT> </P><DIR>

<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"N" - Para que o dataset n&atilde;o seja utilizado na consist&ecirc;ncia contra cadastro dos dados da tela; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"S" - Para que o dataset seja utilizado para fazer consist&ecirc;ncia contra cadastro, isto &eacute;, para testar a exist&ecirc;ncia/inexist&ecirc;ncia dos dados informados na tela.</P></DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>ATUALIZA</B> - Indicador de utiliza&ccedil;&atilde;o do <I>&nbsp;dataset</I> na fase em que os dados preenchidos na tela pelo usu&aacute;rio ser&atilde;o atualizados nos respectivos <I>datasets</I>. </P>
<P>Pode assumir os seguintes valores: </P><DIR>

</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"N" - Para que n&atilde;o seja gerado nenhum tipo de atualiza&ccedil;&atilde;o para o dataset; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"I" - Para gerar uma l&oacute;gica de inclus&atilde;o para o dataset na fase de atualiza&ccedil;&atilde;o do programa; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"A" - Para gerar uma l&oacute;gica de altera&ccedil;&atilde;o para o dataset na fase de atualiza&ccedil;&atilde;o do programa; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"P" - Para gerar uma l&oacute;gica de altera&ccedil;&atilde;o/inclus&atilde;o para o dataset na fase de atualiza&ccedil;&atilde;o do programa: se o registro da tela n&atilde;o existir no dataset, ser&aacute; feita a inclus&atilde;o do mesmo; se existir, ser&aacute; alterado. </P>
<P>N&atilde;o &eacute; permitido fazer consist&ecirc;ncia contra cadastro, para atualiza&ccedil;&atilde;o tipo "P". Neste caso, deve-se informar "N" no campo CONSISTE (S/N). </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"T" - Para gerar uma l&oacute;gica de exclus&atilde;o/inclus&atilde;o para o dataset na fase de atualiza&ccedil;&atilde;o do programa: todos os registros do dataset referentes ao acesso informado ser&atilde;o exclu&iacute;dos e, a seguir, todos aqueles informados na tela ser&atilde;o inclu&iacute;dos. </P>
<P>N&atilde;o &eacute; permitido fazer consist&ecirc;ncia contra cadastro para atualiza&ccedil;&atilde;o do tipo "T". Neste caso, deve-se informar "N" no campo CONSISTE (S/N).</P></DIR>
</DIR>

<B><P><A NAME="Selenc">Sele&ccedil;&atilde;o com encadeamento</B> <B>("SE")</A></B></FONT> </P>
<FONT SIZE=2><P>Se o tipo de l&oacute;gica definido para o programa for "SE", a tela para o cadastramento de seu processamento ser&aacute; a seguinte:</P><DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>PROGRAMA</B> - C&oacute;digo do programa, no padr&atilde;o SADS (sssNxx).</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>TRANSACAO</B> - N&uacute;mero da transa&ccedil;&atilde;o cadastrado para o programa na fun&ccedil;&atilde;o de cadastramento de menu.</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>PAGINACAO (S/N)</B> - Indicador de pagina&ccedil;&atilde;o dos dados a serem exibidos pelo programa.</FONT> </P>
<FONT SIZE=2><P>Pode assumir os seguintes valores:</FONT> </P><DIR>

<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"S" - Para indicar que o programa ir&aacute; apresentar os dados a serem selecionados em mais de uma p&aacute;gina; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"N" - Para indicar que o programa ir&aacute; apresentar os dados a serem selecionados em apenas uma p&aacute;gina.</P></DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>DATASET</B> - C&oacute;digo do <I>dataset</I> que ser&aacute; utilizado no programa, no padr&atilde;o SADS (sssBxxnn).</FONT> </P>
<FONT SIZE=2><P>Este <I>dataset</I> deve ter sido cadastrado nos recursos do programa. Se o <I>dataset</I> possuir mais de um tipo de registro, deve-se informar, nas duas &uacute;ltimas posi&ccedil;&otilde;es do campo DATASET, qual deles ser&aacute; utilizado pelo programa. Se o registro n&atilde;o for informado, o gerador assumir&aacute; o valor <I>default</I> de registro ("00").</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>LOOP(S/N)</B> - Indicador de processamento repetitivo para o <I>dataset</I> (<I>loop</I>).</FONT> </P>
<FONT SIZE=2><P>Pode assumir os seguintes valores:</FONT> </P><DIR>

<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"N" - Para que o programa seja gerado com acesso a apenas um registro do dataset; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"S" - Para que o programa seja gerado com acesso a v&aacute;rios registros do dataset, ou seja, com um loop de acesso at&eacute; que n&atilde;o existam mais registros que satisfa&ccedil;am &agrave; condi&ccedil;&atilde;o informada.</P></DIR>

<P>Quando os dois <I>datasets</I> da tela estiverem preenchidos, apenas um deles poder&aacute; conter "S" no campo LOOP (S/N).</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>ACESSOS:</B></FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>SET</B> - C&oacute;digo do <I>set, subset </I>ou<I> access</I> que o programa utilizar&aacute; para acesso ao <I>dataset</I> informado.</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>ULTIMO ATRIBUTO</B> - C&oacute;digo do &uacute;ltimo atributo para acesso &agrave; estrutura DMSII informada.</FONT> </P>
<FONT SIZE=2><P>Pode assumir os seguintes valores:</FONT> </P><DIR>

<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"&lt;C&oacute;digo de atributo&gt;" - O c&oacute;digo do &uacute;ltimo atributo para acesso com qualifica&ccedil;&atilde;o parcial &agrave; estrutura DMSII informada, isto &eacute;, c&oacute;digo do atributo limite para acesso. </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"NENHUM" - Para que o programa execute acesso &agrave; estrutura DMSII sem considerar os campos da chave de acesso.</P></DIR>

<P>Caso este campo n&atilde;o seja informado, o acesso &agrave; estrutura DMSII ser&aacute; completo, isto &eacute;, com todos os atributos pertencentes &agrave; chave de acesso.</P></DIR>
</DIR>

</FONT><B><FONT SIZE=5><P><A NAME="Cadcam">Cadastramento de campos para ordena&ccedil;&atilde;o/quebra</A></B></FONT> </P>
<FONT SIZE=2><P>O SADS oferece uma fun&ccedil;&atilde;o para cadastramento dos campos e atributos utilizados no controle de quebra e classifica&ccedil;&atilde;o do arquivo manipulado pelo programa.</FONT> </P>
<FONT SIZE=2><P>O cadastramento de campos e atributos de ordena&ccedil;&atilde;o s&oacute; pode ser utilizado por programas com tipo de l&oacute;gica "BT" (<I> batch</I>) e para o qual tenha sido definida a fase de classifica&ccedil;&atilde;o.</FONT> </P>
<FONT SIZE=2><P>J&aacute; o cadastramento dos campos e atributos de quebra &eacute; uma fun&ccedil;&atilde;o dispon&iacute;vel para os programas cujos tipos de l&oacute;gica sejam "BT", "EC" ou "ER" (<I>batch</I>, emiss&atilde;o central e emiss&atilde;o remota).</FONT> </P>
<B><FONT SIZE=2><P><A NAME="Camord">Campos de ordena&ccedil;&atilde;o</A></B></FONT> </P>
<FONT SIZE=2><P>Cadastrar os atributos/campos de classifica&ccedil;&atilde;o para um programa que utiliza arquivo consiste em determinar os atributos/campos que ser&atilde;o considerados no momento de ordena&ccedil;&atilde;o sequencial dos registros do mesmo. Esta classifica&ccedil;&atilde;o, que &eacute; efetuada internamente ao programa atrav&eacute;s da rotina SORT do Cobol, pode ser feita em ordem ascendente ou descendente de cada um dos atributos/campos.</FONT> </P>
<FONT SIZE=2><P>Para melhor explicar o assunto, ser&aacute; tomada como exemplo uma empresa que possui v&aacute;rias &aacute;reas e cada &aacute;rea, por sua vez, v&aacute;rios setores.</FONT> </P>
<FONT SIZE=2><P>Existe um programa desta empresa respons&aacute;vel por emitir um relat&oacute;rio com resumos dos empregados por setor e por &aacute;rea.</FONT> </P>
<FONT SIZE=2><P>Desta forma, no cadastramento deste programa, o arquivo com os dados de todos os empregados, a partir do qual ser&aacute; emitido o relat&oacute;rio, dever&aacute; ser classificado primeiramente por &aacute;rea e, depois, por setor, ambos em ordem ascendente.</FONT> </P>
<FONT SIZE=2><P>Os campos referentes &agrave; &aacute;rea e ao setor dever&atilde;o ser informados, portanto, como campos de ordena&ccedil;&atilde;o do arquivo, no momento de cadastramento do programa de emiss&atilde;o do relat&oacute;rio.</FONT> </P>
<B><FONT SIZE=2><P><A NAME="Camque">Campos de quebra</A></B></FONT> </P>
<FONT SIZE=2><P>Os itens de dados de um arquivo a serem impressos em um relat&oacute;rio ou gravados em outro arquivo podem agrupar-se devido ao fato de possu&iacute;rem uma ou mais caracter&iacute;sticas comuns.</FONT> </P>
<FONT SIZE=2><P>Anteriormente &agrave; impress&atilde;o ou grava&ccedil;&atilde;o de um item que n&atilde;o possui as mesmas caracter&iacute;sticas comuns dos itens anteriores, finaliza-se o agrupamento antigo e d&aacute;-se in&iacute;cio a um novo. Este rompimento de agrupamentos de dados &eacute; conhecido como quebra.</FONT> </P>
<FONT SIZE=2><P>Existe a possibilidade de exist&ecirc;ncia de agrupamentos dentro de agrupamentos em um mesmo arquivo, ou seja, quebras externas e internas. A hierarquia destes agrupamentos &eacute; determinada atrav&eacute;s do n&iacute;vel de quebra de cada um deles. O n&iacute;vel de quebra &eacute; que define, pois,<B> </B>a hierarquia dos agrupamentos dos itens de dados de um arquivo a serem impressos no relat&oacute;rio ou gravados em outro arquivo.</FONT> </P>
<FONT SIZE=2><P>Tomando o mesmo exemplo anterior, de um programa encarregado de ler um arquivo com os dados de todos os empregados e emitir um relat&oacute;rio com resumos por setor e por &aacute;rea, tem-se que este programa dever&aacute; cadastrar o campo referente &agrave; &aacute;rea com n&iacute;vel de quebra 2, mais externo, e o campo referente ao setor com n&iacute;vel de quebra 1, mais interno.</FONT> </P>
<FONT SIZE=2><P>Nota-se, portanto, que as quebras s&atilde;o informadas em ordem decrescente, ou seja, a mais externa &eacute; a maior e a mais interna &eacute; a quebra 1 (um). As quebras mais externas, no caso as &aacute;reas, englobam as quebras mais internas, no caso os setores.</FONT> </P>
<FONT SIZE=2><P>Para efetuar o cadastramento dos atributos/campos de ordena&ccedil;&atilde;o e quebra de um arquivo, &eacute; necess&aacute;rio que a identifica&ccedil;&atilde;o, os recursos e a l&oacute;gica do programa estejam cadastrados no reposit&oacute;rio de dados do SADS.</FONT> </P>
<FONT SIZE=2><P>Al&eacute;m disso, para que os atributos/campos de ordena&ccedil;&atilde;o possam ser definidos, &eacute; necess&aacute;rio que tenha sido definido o arquivo na fase de classifica&ccedil;&atilde;o do programa.</FONT> </P>
<FONT SIZE=2><P>Quando se altera o conte&uacute;do de determinados campos das telas que ser&atilde;o explicadas a seguir, o programa pode ser enquadrado em uma estrutura de rotinas diferente da anterior e todos os m&oacute;dulos definidos que n&atilde;o estiverem relacionados &agrave; nova estrutura ser&atilde;o perdidos.</FONT> </P>
<FONT SIZE=2><P>A seguir, ser&atilde;o exibidos os campos da tela de ORDENA&Ccedil;&Atilde;O/QUEBRA.</FONT> </P><DIR>

<B><FONT SIZE=2><P>CAMPOS DA TELA</B></FONT> </P><DIR>

<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>PROGRAMA</B> - C&oacute;digo do programa, no padr&atilde;o SADS (sssPxx).</FONT> </P>
<FONT SIZE=2><P>A estrutura na qual se permitir&aacute; ordena&ccedil;&atilde;o/quebra ser&aacute; exibida na tela a t&iacute;tulo de consulta.</FONT> </P>
<FONT SIZE=2><P>Para cada um dos atributos/campos que ser&atilde;o utilizados na classifica&ccedil;&atilde;o ou quebra do arquivo, deve-se informar os seguintes campos:</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>ATRIBUTO</B> - C&oacute;digo do atributo ou campo que ser&aacute; utilizado na classifica&ccedil;&atilde;o ou quebra do arquivo.</FONT> </P>
<FONT SIZE=2><P>O atributo ou campo informado deve pertencer &agrave; estrutura a ser classificada ou a ser testada a quebra.</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>SUFIXO</B> - Sufixo do atributo ou campo que ser&aacute; utilizado na classifica&ccedil;&atilde;o ou quebra do arquivo.</FONT> </P>
<FONT SIZE=2><P>O atributo ou campo informado deve pertencer &agrave; estrutura a ser classificada ou a ser testada a quebra.</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>CLASSIF. (A/D)</B> - Tipo de classifica&ccedil;&atilde;o para o atributo ou campo.</FONT> </P>
<FONT SIZE=2><P>Pode assumir os seguintes valores:</FONT> </P><DIR>

<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"A" - Para classifica&ccedil;&atilde;o em ordem ascendente; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"D" - Para classifica&ccedil;&atilde;o em ordem descendente</FONT>.</P></DIR>

<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>NIVEL QUEBRA</B> - N&iacute;vel de quebra do atributo ou campo.</FONT> </P>
<FONT SIZE=2><P>O n&iacute;vel de quebra pode assumir valores de 1 a 7.</FONT> </P>
<FONT SIZE=2><P>Os atributos e campos devem ser informados em ordem decrescente de n&iacute;veis de quebra.</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>FINALIZA</B> - Indicador de atributo finalizador de impress&atilde;o ou grava&ccedil;&atilde;o.</FONT> </P>
<FONT SIZE=2><P>Deve-se informar "S" em apenas um atributo ou campo do arquivo, no n&iacute;vel de quebra em que ser&aacute; feita a impress&atilde;o ou grava&ccedil;&atilde;o.</FONT> </P>
<FONT SIZE=2><P>Caso o indicador de finaliza&ccedil;&atilde;o n&atilde;o seja informado, a impress&atilde;o ou grava&ccedil;&atilde;o ser&aacute; feita na rotina de detalhe, para cada um dos itens do arquivo.</FONT> </P>
<FONT SIZE=2><P>Cumpre ressaltar que, qualquer altera&ccedil;&atilde;o na ordena&ccedil;&atilde;o/quebra exige que as telas encadeadas sejam transmitidas pelo menos at&eacute; a sele&ccedil;&atilde;o de m&oacute;dulos, inclusive.</P></DIR>
</DIR>

</FONT><B><FONT SIZE=5><P><A NAME="Selmo">Sele&ccedil;&atilde;o de m&oacute;dulos</A></B></FONT> </P>
<FONT SIZE=2><P>O SADS possibilita aos usu&aacute;rios visualizar a l&oacute;gica do programa a ser gerada, exibindo todos os seus par&aacute;grafos em seus respectivos n&iacute;veis hier&aacute;rquicos.</FONT> </P>
<FONT SIZE=2><P>Atrav&eacute;s desta visualiza&ccedil;&atilde;o estrutural dos par&aacute;grafos, o usu&aacute;rio pode selecionar m&oacute;dulos para complementa&ccedil;&atilde;o ou altera&ccedil;&atilde;o do fonte do programa a ser gerado.</FONT> </P>
<FONT SIZE=2><P>M&oacute;dulos de processamento s&atilde;o trechos de programas que podem ser cadastrados pelo usu&aacute;rio, a fim de moldar o fonte gerado &agrave;s suas necessidades, incluindo, alterando ou substituindo trechos que seriam normalmente gerados pelo SADS.</FONT> </P>
<FONT SIZE=2><P>Esses m&oacute;dulos s&atilde;o compostos por instru&ccedil;&otilde;es Cobol e por comandos de m&oacute;dulo, que funcionam como verdadeiras macroinstru&ccedil;&otilde;es, fatorando o trabalho e diminuindo o tempo de constru&ccedil;&atilde;o de programas.</FONT> </P>
<FONT SIZE=2><P>No momento da sele&ccedil;&atilde;o, determinam-se quais s&atilde;o os m&oacute;dulos, dentre a estrutura de m&oacute;dulos exibida, que se deseja cadastrar. Esta estrutura, por sua vez, &eacute; exibida de acordo com os tipos de l&oacute;gica e de processamento definidos para o programa.</FONT> </P>
<FONT SIZE=2><P>Os m&oacute;dulos, quando pass&iacute;veis de serem selecionados, poder&atilde;o ser inclu&iacute;dos no in&iacute;cio, no final ou no tratamento de exce&ccedil;&atilde;o de cada par&aacute;grafo, conforme necessidade determinada pelo usu&aacute;rio. Por&eacute;m, aqueles m&oacute;dulos que n&atilde;o puderem ser selecionados para inclus&atilde;o no par&aacute;grafo espec&iacute;fico ser&atilde;o apresentados na tela como campos protegidos transmiss&iacute;veis.</FONT> </P>
<FONT SIZE=2><P>Para cada m&oacute;dulo que puder ser selecionado &eacute; apresentado, anteriormente ao campo destinado &agrave; sua sele&ccedil;&atilde;o, o n&uacute;mero com que o mesmo ser&aacute; criado no programa, caso o mesmo seja selecionado.</FONT> </P>
<FONT SIZE=2><P>Ap&oacute;s selecionados, cada um dos m&oacute;dulos dever&aacute; ter seus comandos cadastrados no reposit&oacute;rio do SADS.</FONT> </P>
<FONT SIZE=2><P>Para efetuar a sele&ccedil;&atilde;o de m&oacute;dulos, &eacute; necess&aacute;rio que a identifica&ccedil;&atilde;o, os recursos e a l&oacute;gica do programa estejam cadastrados no reposit&oacute;rio de dados do SADS. Se o programa possuir campos para ordena&ccedil;&atilde;o e quebra, eles j&aacute; devem ter sido definidos antes de efetuar a sele&ccedil;&atilde;o de m&oacute;dulos, pois a estrutura dos m&oacute;dulos de programas varia de acordo com esta especifica&ccedil;&atilde;o.</FONT> </P>
<FONT SIZE=2><P>A sele&ccedil;&atilde;o de m&oacute;dulos &eacute; executada atrav&eacute;s do paginador de entrada do SADS e sua tela possui os campos descritos a seguir:</FONT> </P><DIR>

<B><FONT SIZE=2><P>CAMPOS DA TELA</B></FONT> </P><DIR>

<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>PAGINA</B> - N&uacute;mero da p&aacute;gina de sele&ccedil;&atilde;o de m&oacute;dulos utilizada.</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>PROGRAMA</B> - C&oacute;digo do programa, no padr&atilde;o SADS (ssspxx).</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>LOGICA</B> - C&oacute;digo do tipo de l&oacute;gica definida para o programa.</FONT> </P>
<FONT SIZE=2><P>Os tr&ecirc;s campos descritos a seguir (MODULO DE INICIO, MODULO DE FIM e MODULO DE EXCECAO) nem sempre poder&atilde;o ser selecionados. Quando n&atilde;o puderem, ser&atilde;o apresentados como campos protegidos transmiss&iacute;veis.</FONT> </P>
<FONT SIZE=2><P>Antes de cada m&oacute;dulo a ser selecionado &eacute; apresentado o n&uacute;mero com que o mesmo ser&aacute; criado no programa, caso seja selecionado.</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>MODULO DE INICIO</B> - Indicador de sele&ccedil;&atilde;o de m&oacute;dulo para inclus&atilde;o no in&iacute;cio do par&aacute;grafo.</FONT> </P>
<FONT SIZE=2><P>Pode assumir os seguintes valores:</FONT> </P><DIR>

<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"N" ( Default) - Para indicar que o m&oacute;dulo de in&iacute;cio n&atilde;o ser&aacute; selecionado para o par&aacute;grafo; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"L" - Para indicar que o m&oacute;dulo de in&iacute;cio ser&aacute; selecionado e que seus comandos de m&oacute;dulo ser&atilde;o gerados linearmente no in&iacute;cio do par&aacute;grafo em quest&atilde;o; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"S" - Para indicar que o m&oacute;dulo de in&iacute;cio ser&aacute; selecionado e que seus comandos de m&oacute;dulo ser&atilde;o executados atrav&eacute;s de um comando PERFORM, no in&iacute;cio do par&aacute;grafo em quest&atilde;o; </P>
<P>Neste caso, a rotina que cont&eacute;m os comandos deste m&oacute;dulo ser&aacute; gerada logo ap&oacute;s o par&aacute;grafo para o qual o m&oacute;dulo foi selecionado.</FONT> </P>
<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"T" - Para indicar que o m&oacute;dulo de in&iacute;cio ser&aacute; selecionado e que os comandos de m&oacute;dulo ser&atilde;o gerados linearmente no par&aacute;grafo em quest&atilde;o, substituindo por completo a gera&ccedil;&atilde;o padr&atilde;o do par&aacute;grafo. </P>
<P>Se o m&oacute;dulo de in&iacute;cio for selecionado com a op&ccedil;&atilde;o de troca "T", os m&oacute;dulos de fim e de exce&ccedil;&atilde;o para este par&aacute;grafo n&atilde;o poder&atilde;o ser selecionados.</P></DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>MODULO DE FIM</B> - Indicador de sele&ccedil;&atilde;o de m&oacute;dulo para inclus&atilde;o no fim do par&aacute;grafo.</FONT> </P>
<FONT SIZE=2><P>Pode assumir os seguintes valores:</FONT> </P><DIR>

<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"N" ( Default) - Para indicar que o m&oacute;dulo de fim n&atilde;o ser&aacute; selecionado para o par&aacute;grafo; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"L" - Para indicar que o m&oacute;dulo de fim ser&aacute; selecionado e que os comandos de m&oacute;dulo ser&atilde;o gerados linearmente no final do par&aacute;grafo em quest&atilde;o; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"S" - Para indicar que o m&oacute;dulo de fim ser&aacute; selecionado e que os comandos de m&oacute;dulo ser&atilde;o executados atrav&eacute;s de um comando PERFORM, no final do par&aacute;grafo em quest&atilde;o.</P></DIR>

<P>Neste caso, a rotina que cont&eacute;m os comandos deste m&oacute;dulo ser&aacute; gerada logo ap&oacute;s o par&aacute;grafo para o qual o m&oacute;dulo foi selecionado.</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>MODULO DE EXCECAO</B> - Indicador de sele&ccedil;&atilde;o de m&oacute;dulo para tratamento de exce&ccedil;&atilde;o do acesso ao <I>dataset</I> ou arquivo efetuado no par&aacute;grafo.</FONT> </P>
<FONT SIZE=2><P>Este tipo de m&oacute;dulo deve ser utilizado quando se desejar substituir a gera&ccedil;&atilde;o padr&atilde;o do SADS para tratamento de exce&ccedil;&atilde;o de acesso aos <I>datasets</I> ou para tratamento de exce&ccedil;&atilde;o de leitura/grava&ccedil;&atilde;o nos arquivos existentes no par&aacute;grafo.</FONT> </P>
<FONT SIZE=2><P>N&atilde;o &eacute; permitido selecionar um m&oacute;dulo de exce&ccedil;&atilde;o ("S") quando o respectivo m&oacute;dulo de in&iacute;cio estiver selecionado como troca ("T").</FONT> </P>
<FONT SIZE=2><P>O tratamento padr&atilde;o gerado pelo SADS para acesso aos <I>datasets</I> &eacute; o seguinte:</P><DIR>

<P>- Para acessos que testam a exist&ecirc;ncia do elemento:</P><DIR>

<P>ON EXCEPTION<BR>
IF DMSTATUS(NOTFOUND)</P><DIR>

<P>MOVE 1 TO GBL-ERRO<BR>
STRING &lt;Nome do<I> dataset</I>&gt; DELIMITED SIZE</P><DIR>

<P>" INEXISTENTE" INTO GBL-MENSAGEM</P></DIR>

<P>GO TO 99000-99-EXIT-PROGRAM<BR>
ELSE</P><DIR>

<P>DISPLAY "PRG = (<I>usercode</I> de an&aacute;lise)ss/s/xF/nn"<BR>
DISPLAY "NUMERO DE SEQUENCIA mmmmm"<BR>
GO TO 98000-00-EXCECAO-FATAL.</P></DIR>
</DIR>

<P>- Para acessos que testam a inexist&ecirc;ncia do elemento:</P><DIR>

<P>ON EXCEPTION<BR>
IF DMSTATUS(NOTFOUND)</P><DIR>

<P>GO TO &lt;Num. parag.&gt;-99-EXIT</P></DIR>

<P>ELSE</P><DIR>

<P>DISPLAY "PRG = (<I>usercode</I> de an&aacute;lise)ss/s/xF/nn"<BR>
&nbsp; DISPLAY "NUMERO DE SEQUENCIA mmmmm"<BR>
GO TO 98000-00-EXCECAO-FATAL.</P></DIR>

<P><BR>
MOVE 1 TO GBL-ERRO<BR>
STRING &lt;Nome do <I>dataset</I>&gt; DELIMITED SIZE</P><DIR>

<P>" EXISTENTE" INTO GBL-MENSAGEM</P></DIR>

<P>GO TO 99000-99-EXIT-PROGRAM.</P></DIR>

<P>O tratamento padr&atilde;o gerado pelo SADS para acesso aos arquivos, tanto em programas <I>on-line</I> como em <I>batch</I>, &eacute; o seguinte:</FONT> </P>
<FONT SIZE=2><P>- Para o comando READ:</P><DIR>

<P>MOVE HIGH-VALUE TO EOF-sssAxn<BR>
GO TO &lt;num_parag&gt;-99-EXIT.</P></DIR>

<P>- Para o comando WRITE: </P><DIR>
<DIR>

<P>DISPLAY "ERRO NA GRAVACAO DO ARQUIVO sssAxn" <BR>
SET MYSELF(STATUS) TO -1.</P></DIR>
</DIR>

<P>O indicador de sele&ccedil;&atilde;o de m&oacute;dulo para tratamento de exce&ccedil;&atilde;o pode assumir os seguintes valores:</FONT> </P>
<P><IMG SRC="Bullet6.gif" WIDTH=15 HEIGHT=11><B><FONT SIZE=2>&nbsp;"N"</B> ( Default) - Para indicar que o m&oacute;dulo de exce&ccedil;&atilde;o n&atilde;o ser&aacute; selecionado para o par&aacute;grafo; </P>
</FONT><P><IMG SRC="Bullet6.gif" WIDTH=15 HEIGHT=11><B><FONT SIZE=2>&nbsp;"L"</B> - Para indicar que o m&oacute;dulo de exce&ccedil;&atilde;o ser&aacute; selecionado e que os seus comandos ser&atilde;o inseridos linearmente, em substitui&ccedil;&atilde;o ao tratamento de exce&ccedil;&atilde;o padr&atilde;o.</P></DIR>

<P>Neste caso, o m&oacute;dulo de exce&ccedil;&atilde;o s&oacute; aceitar&aacute; a defini&ccedil;&atilde;o de um comando "EXCEC", o que apresentar&aacute; uma tela para especifica&ccedil;&atilde;o em linguagem Cobol do tratamento de exce&ccedil;&atilde;o. Todos os comandos devem ser especificados, inclusive o "ON EXCEPTION", que vir&aacute; informado na primeira linha. Caso alguma especifica&ccedil;&atilde;o de campo do <I>set/subset</I> seja inserida antes do "ON EXCEPTION", um <I>linear search</I> poder&aacute; ser causado.</P></DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>DESCRICAO DO PARAGRAFO</B> - Nome do par&aacute;grafo e sua posi&ccedil;&atilde;o hier&aacute;rquica dentro da estrutura de par&aacute;grafos do programa.</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>OPERACAO</B> - Opera&ccedil;&atilde;o efetuada para sele&ccedil;&atilde;o de m&oacute;dulos de programa.</FONT> </P>
<FONT SIZE=2><P>Pode assumir os seguintes valores:</FONT> </P><DIR>

<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"INC" - Inclus&atilde;o; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"ALT" - Altera&ccedil;&atilde;o; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"CON" - Consulta; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"EXC" - Exclus&atilde;o.</P></DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>CONTINUA (S/N)</B> - Indicador de continuidade de opera&ccedil;&atilde;o.</FONT> </P>
<FONT SIZE=2><P>Pode assumir os seguintes valores:</P><DIR>

</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"S" - Para que seja exibida a pr&oacute;xima p&aacute;gina da sele&ccedil;&atilde;o de m&oacute;dulos; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"N" - Para encerrar o tratamento da fun&ccedil;&atilde;o de sele&ccedil;&atilde;o de m&oacute;dulos. Neste caso, o campo PROXIMA PAGINA deve estar preenchido com "99".</P></DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>PROXIMA PAGINA</B> - N&uacute;mero da pr&oacute;xima p&aacute;gina a ser exibida ou "99", para encerrar a sele&ccedil;&atilde;o de m&oacute;dulo.</FONT> </P>
<FONT SIZE=2><P>Ao se transmitir a tela com "99" no campo PROXIMA PAGINA, ser&aacute; efetivada a transa&ccedil;&atilde;o de sele&ccedil;&atilde;o de m&oacute;dulo. Neste momento, os m&oacute;dulos que passar&atilde;o a fazer parte do programa ser&atilde;o apenas os que foram selecionados. Caso algum m&oacute;dulo tenha sido alterado de "S", "L" ou "T" para "N", o mesmo ser&aacute; exclu&iacute;do.</FONT> </P>
<FONT SIZE=2><P>Caso alguma altera&ccedil;&atilde;o nas fun&ccedil;&otilde;es anteriores tenha causado mudan&ccedil;a na estrutura do programa apresentada nesta fun&ccedil;&atilde;o, e algum m&oacute;dulo anteriormente selecionado n&atilde;o apare&ccedil;a nesta fun&ccedil;&atilde;o de sele&ccedil;&atilde;o de m&oacute;dulos, caso se transmita "99" no campo PROXIMA PAGINA, o mesmo tamb&eacute;m ser&aacute; exclu&iacute;do.</FONT> </P>
<FONT SIZE=2><P>A tela de sele&ccedil;&atilde;o de m&oacute;dulos &eacute; de atualiza&ccedil;&atilde;o paginada e possui todas as caracter&iacute;sticas deste tipo de transa&ccedil;&atilde;o, conforme descrito na Se&ccedil;&atilde;o III, "Fun&ccedil;&otilde;es de apoio", neste manual.</P></DIR>
</DIR>

</FONT><B><FONT SIZE=5><P><A NAME="Cadmod">Cadastramento de m&oacute;dulos de processamento</A></B></FONT> </P>
<FONT SIZE=2><P>M&oacute;dulos de processamento s&atilde;o trechos de programa que podem ser cadastrados a fim de moldar o fonte gerado &agrave;s necessidades, incluindo, alterando ou substituindo trechos que seriam normalmente gerados.</FONT> </P>
<FONT SIZE=2><P>Esses m&oacute;dulos s&atilde;o compostos por instru&ccedil;&otilde;es Cobol e por comandos de m&oacute;dulo, que funcionam como verdadeiras macroinstru&ccedil;&otilde;es, fatorando o trabalho e diminuindo o tempo de constru&ccedil;&atilde;o de programas. Isto porque, com uma &uacute;nica linha de especifica&ccedil;&atilde;o de comando de m&oacute;dulo, pode-se, por exemplo:</FONT> </P><DIR>

<P><IMG SRC="Bullet6.gif" WIDTH=15 HEIGHT=11><FONT SIZE=2>&nbsp;Realizar acesso a <I>datasets</I>, incluindo tratamento de erro padronizado;</FONT> </P>
<P><IMG SRC="Bullet6.gif" WIDTH=15 HEIGHT=11><FONT SIZE=2>&nbsp;Montar <I>loops</I> estruturados;</FONT> </P>
<P><IMG SRC="Bullet6.gif" WIDTH=15 HEIGHT=11><FONT SIZE=2>&nbsp;Fazer acesso a tabelas e sub-rotinas;</FONT> </P>
<P><IMG SRC="Bullet6.gif" WIDTH=15 HEIGHT=11><FONT SIZE=2>&nbsp;Emitir mensagens, de forma padronizada;</FONT> </P>
<P><IMG SRC="Bullet6.gif" WIDTH=15 HEIGHT=11><FONT SIZE=2>&nbsp;Movimentar dados entre estruturas.</P></DIR>

<P>No momento da sele&ccedil;&atilde;o de m&oacute;dulos do programa, determinam-se quais s&atilde;o os m&oacute;dulos, dentre a estrutura de m&oacute;dulos exibida pelo SADS, que se deseja cadastrar. Esta estrutura, por sua vez, &eacute; exibida de acordo com o tipo de l&oacute;gica e processamento definidos para o programa.</FONT> </P>
<FONT SIZE=2><P>Ap&oacute;s selecionados, cada um dos m&oacute;dulos deve ter seus comandos cadastrados no reposit&oacute;rio do SADS.</FONT> </P>
<FONT SIZE=2><P>O SADS gera programas segundo l&oacute;gicas padronizadas que atendem &agrave; maioria das necessidades de aplicativos <I>on-line</I> e <I>batch</I>.</FONT> </P>
<FONT SIZE=2><P>Para os programas mais complexos e para os que possuem peculiaridades funcionais, entretanto, os m&oacute;dulos de processamento do SADS s&atilde;o utilizados para complementar e moldar o fonte gerado &agrave;s necessidades.</FONT> </P>
<FONT SIZE=2><P>Para que se possa definir m&oacute;dulos de processamento, &eacute; necess&aacute;rio que a identifica&ccedil;&atilde;o, os recursos, a l&oacute;gica e a sele&ccedil;&atilde;o dos m&oacute;dulos para o programa j&aacute; estejam cadastrados no reposit&oacute;rio de dados do SADS.</FONT> </P><DIR>

<B><FONT SIZE=2><P>CAMPOS DA TELA</B></FONT> </P><DIR>

<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>PAGINA</B> - N&uacute;mero da p&aacute;gina para cadastramento do m&oacute;dulo.</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>ELEMENTO</B> - C&oacute;digo do programa cujo m&oacute;dulo est&aacute; sendo cadastrado, no padr&atilde;o SADS (ssspxx).</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>MODULO</B> - N&uacute;mero do m&oacute;dulo a ser cadastrado.</FONT> </P>
<FONT SIZE=2><P>Os n&uacute;meros poss&iacute;veis para os m&oacute;dulos s&atilde;o determinados pelo SADS. Desta forma, eles n&atilde;o podem ser escolhidos aleatoriamente pelo pr&oacute;prio usu&aacute;rio.</FONT> </P>
<FONT SIZE=2><P>No momento da sele&ccedil;&atilde;o de m&oacute;dulos do programa, determinam-se quais s&atilde;o os m&oacute;dulos, dentre a estrutura de m&oacute;dulos exibida pelo SADS, que se deseja cadastrar. Esta estrutura, por sua vez, &eacute; exibida de acordo com os tipos de l&oacute;gica e de processamento definidos para o programa.</FONT> </P>
<FONT SIZE=2><P>Desta forma, cada um dos m&oacute;dulos selecionados, que j&aacute; possui um n&uacute;mero preestabelecido, deve ser cadastrado no reposit&oacute;rio de dados do SADS.</FONT> </P>
<FONT SIZE=2><P>Os n&uacute;meros dos m&oacute;dulos, compostos por tr&ecirc;s d&iacute;gitos, possuem a seguinte regra de forma&ccedil;&atilde;o: os dois primeiros d&iacute;gitos identificam o par&aacute;grafo no qual ser&atilde;o inseridos e o terceiro d&iacute;gito &eacute; um diferencial que identifica a posi&ccedil;&atilde;o em que ser&atilde;o inclu&iacute;dos internamente ao par&aacute;grafo, da seguinte forma: 1 - m&oacute;dulo a ser inclu&iacute;do no in&iacute;cio do par&aacute;grafo, 6 - m&oacute;dulo a ser inclu&iacute;do no fim do par&aacute;grafo e 0 - m&oacute;dulo de tratamento de exce&ccedil;&atilde;o do par&aacute;grafo.</FONT> </P>
<FONT SIZE=2><P>Para cada um dos comandos de m&oacute;dulos a serem cadastrados, os campos a seguir s&atilde;o pass&iacute;veis de serem informados. A obrigatoriedade ou n&atilde;o de se preencher um campo no momento de cadastramento de um determinado comando e a explica&ccedil;&atilde;o detalhada de como preench&ecirc;-lo encontra-se no t&oacute;pico "Comandos de m&oacute;dulo", neste mesmo item.</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>SEQ</B>. - Sequ&ecirc;ncia do comando dentro do m&oacute;dulo.</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>COMANDO/TIPO</B> - C&oacute;digo do comando de m&oacute;dulo que ser&aacute; utilizado pelo programa.</FONT> </P>
<FONT SIZE=2><P>Caso necess&aacute;rio, deve-se fazer a complementa&ccedil;&atilde;o do comando, informando seu tipo.</FONT> </P>
<FONT SIZE=2><P>Todos os comandos de m&oacute;dulos dispon&iacute;veis, bem como seus tipos, est&atilde;o descritos detalhadamente mais a seguir, no t&oacute;pico "Comandos de m&oacute;dulo", neste mesmo item.</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>ORIGEM</B> - C&oacute;digo do elemento que ser&aacute; utilizado pelo programa como origem (entrada) para o comando informado.</FONT> </P>
<FONT SIZE=2><P>&Eacute; necess&aacute;rio que o elemento utilizado na origem tenha sido cadastrado como recurso do programa, exceto nos seguintes casos:</FONT> </P><DIR>

<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>&nbsp;Quando o elemento for o nome de um dos comandos DO, EDIT, EXCEC;</FONT> </P>
<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>&nbsp;Quando o elemento for a &aacute;rea de <I>work</I> do pr&oacute;prio programa, que deve ser indicada nos comandos de m&oacute;dulo pelo pr&oacute;prio c&oacute;digo do programa (ssspxx); ou</FONT> </P>
<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>&nbsp;Quando o elemento for o c&oacute;digo do banco de dados, cujo registro global ser&aacute; gravado atrav&eacute;s do comando STR;</FONT> </P>
<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>&nbsp;Quando o elemento for o literal "NENHUM" (para os comandos de m&oacute;dulo FIND e TAB), indicando que nenhuma movimenta&ccedil;&atilde;o deve ser efetuada para a chave de acesso do<I> dataset</I> ou tabela informado no campo DESTINO.</P></DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>DESTINO</B> - C&oacute;digo do elemento que ser&aacute; utilizado pelo programa como destino (sa&iacute;da) para o comando informado.</FONT> </P>
<FONT SIZE=2><P>&Eacute; necess&aacute;rio que o elemento utilizado no destino tenha sido cadastrado como recurso para o programa, exceto nos seguintes casos:</FONT> </P><DIR>

<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>&nbsp;Quando o elemento for a &aacute;rea de <I>work</I> do pr&oacute;prio programa, que deve ser indicada nos comandos de m&oacute;dulo pelo pr&oacute;prio c&oacute;digo do programa (ssspxx);</FONT> </P>
<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>&nbsp;Quando o elemento for o c&oacute;digo da tela na qual existam ocorr&ecirc;ncias, para o comando de m&oacute;dulo "DO".. Desta forma, a rotina ser&aacute; executada o n&uacute;mero de vezes correspondente ao n&uacute;mero de ocorr&ecirc;ncias definido para a primeira tabela cadastrada na estrutura da tela informada.</FONT> </P>
<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>&nbsp;Para o comando de m&oacute;dulo "DO", o campo DESTINO e N. VEZES s&atilde;o mutuamente exclusivos, somente um dos dois deve ser informado.</FONT> </P>
<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>&nbsp;Quando o elemento for o c&oacute;digo do banco de dados, cujo registro global ser&aacute; acessado atrav&eacute;s dos comandoS FIND ou LOCK.</P></DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>SET</B> - C&oacute;digo da estrutura DMSII (<I>set, subset </I>ou<I> access</I>) de acesso ao <I>dataset</I> ou c&oacute;digo da chave secund&aacute;ria de acesso a uma tabela, quando o <I>dataset</I> ou tabela forem utilizados pelo comando de m&oacute;dulo.</FONT> </P>
<FONT SIZE=2><P>Caso o <I>set</I> n&atilde;o seja informado para acesso a um <I>dataset</I>, ser&aacute; gerado ent&atilde;o acesso direto ao <I>dataset</I>. Neste caso, o campo ATRIBUTO n&atilde;o deve ser preenchido. Esta situa&ccedil;&atilde;o &eacute; similar ao se informar o c&oacute;digo do <I>set</I> e informar NENHUM no campo ATRIBUTO.</FONT> </P>
<FONT SIZE=2><P>Este campo tamb&eacute;m pode indicar, para os comandos de m&oacute;dulo READ e START, caso informado "S", que o acesso ao arquivo ser&aacute; feito via chave secund&aacute;ria.</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>ATRIBUTO</B> - C&oacute;digo de um atributo ou campo cadastrado no reposit&oacute;rio de dados do SADS.</FONT> </P>
<FONT SIZE=2><P>Pode assumir os seguintes valores:</FONT> </P><DIR>

<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>&nbsp;"&lt;C&oacute;digo do &uacute;ltimo atributo para acesso a uma estrutura DMSII&gt;" - Para acesso parcial a uma estrutura DMSII (<I>set</I>, <I>subset</I> ou <I>access</I>), isto &eacute;, para acesso at&eacute; este atributo limite. Utilizado nos comandos que utilizam <I>dataset</I>.</FONT> </P>
<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>&nbsp;" " - Para que o acesso &agrave; estrutura DMSII seja com chave completa, isto &eacute;, com qualifica&ccedil;&atilde;o de todos os atributos da chave. Utilizado nos comandos que utilizam <I>dataset</I>.</FONT> </P>
<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>&nbsp;"NENHUM" - Para que o acesso &agrave; estrutura DMSII seja feito sem considerar os campos da chave. Utilizado nos comandos que utilizam <I>dataset</I>.</FONT> </P>
<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>&nbsp;"&lt;C&oacute;digo do atributo de uma f&oacute;rmula&gt;"- Para identifica&ccedil;&atilde;o do atributo nos comandos de gera&ccedil;&atilde;o de f&oacute;rmula.</P></DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>INDICE</B> - Indicador de indexa&ccedil;&atilde;o de ocorr&ecirc;ncias nas estruturas origem e destino.</FONT> </P>
<FONT SIZE=2><P>Pode assumir os seguintes valores:</FONT> </P><DIR>

<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><B>&nbsp;"</B><FONT SIZE=2>O" - Quando se desejar indexar as ocorr&ecirc;ncias do elemento definido na origem; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>&nbsp;"D" - Quando se desejar indexar as ocorr&ecirc;ncias do elemento definido no destino; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>&nbsp;"A" - Quando se desejar indexar as ocorr&ecirc;ncias de ambos os elementos definidos na origem e no destino.</P></DIR>

<P>Caso este campo n&atilde;o seja informado, o SADS assumir&aacute; que n&atilde;o se deseja indexar as ocorr&ecirc;ncias tanto na origem como no destino.</FONT> </P>
<FONT SIZE=2><P>O campo INDICE poder&aacute; ser utilizado em comandos de m&oacute;dulo de movimenta&ccedil;&atilde;o de dados - MVE, MOVE e MVEFOR - ou em comandos de m&oacute;dulo que efetuam a movimenta&ccedil;&atilde;o de dados impl&iacute;cita - FIND, LOCK, ALTERA etc.</FONT> </P>
<FONT SIZE=2><P>O SADS ir&aacute; gerar a movimenta&ccedil;&atilde;o dos itens correspondentes - de mesmo mnem&ocirc;nico - do elemento origem para o destino de acordo com a informa&ccedil;&atilde;o cadastrada no campo INDICE e de acordo com a localiza&ccedil;&atilde;o do comando de m&oacute;dulo dentro do programa. </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>N.VEZES OU N.FORMULA</B> - N&uacute;mero de vezes que ser&aacute; executado o <I>Perform</I> a ser gerado pelo comando de m&oacute;dulo DO ou n&uacute;mero da f&oacute;rmula do atributo a ser calculada. </P>
<P>Este campo dever&aacute; ser informado somente para o comando de m&oacute;dulo DO e para comandos de m&oacute;dulo que utilizam f&oacute;rmula. </P>
<P>Na gera&ccedil;&atilde;o do fonte Cobol, o comando DO ser&aacute; transformado em comando <I>Perform</I>. </P>
<P>Para o comando de m&oacute;dulo DO, pode assumir os seguintes valores: </P><DIR>

<P>"99" - Para indicar que o comando gerado ser&aacute; um PERFORM UNTIL EOF: </P><DIR>

<P>PERFORM nnnmm-00-&lt;nome com. DO&gt; THRU nnnmm-99-EXIT </P><DIR>

<P>UNTIL EOF-nnnmm EQUAL HIGH-VALUES;</P></DIR>
</DIR>

<P>sendo que, no c&oacute;digo da chave de fim de arquivo "EOF-nnnmm", "nnn" &eacute; o n&uacute;mero do m&oacute;dulo e "mm", o n&uacute;mero do DO. </P>
<P>Neste caso, o campo "EOF-nnnmm" ser&aacute; composto no<I> </I>tratamento de exce&ccedil;&atilde;o<I> notfound</I> do comando de acesso cadastrado entre o comando DO e o END, se houver. </P>
<P>De "02" a "98" - Para indicar que o comando gerado ser&aacute; um PERFORM VARYING de acordo com o &iacute;ndice indicado no campo N.VEZES ou N.FORMULA: </P><DIR>

<P>PERFORM nnnnn-00-&lt;nome com. DO&gt; THRU nnnnn-99-EXIT </P><DIR>

<P>VARYING IND-nnnmm FROM 1 BY 1 UNTIL </P>
<P>IND-nnnmm GREATER "numero de vezes"; </P></DIR>
</DIR>

<P>sendo que, no c&oacute;digo do &iacute;ndice "IND-nnnmm", "nnn" &eacute; o n&uacute;mero do m&oacute;dulo e "mm", o n&uacute;mero do DO. </P>
<P>Caso este campo n&atilde;o seja informado no comando de m&oacute;dulo DO, o SADS ir&aacute; gerar um <I>Perform</I> simples da seguinte forma: </P><DIR>

<P>PERFORM nnnnn-00-&lt;nome com. DO&gt; THRU nnnnn-99-EXIT;</P></DIR>

<P>Para comandos que utilizam f&oacute;rmula, pode assumir os seguintes valores: </P>
<P>De "01" a "99" - Para indicar o n&uacute;mero da f&oacute;rmula do atributo que ser&aacute; utilizada pelo programa.</P></DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>Linha livre</B> - Linha para detalhamento do comando informado no campo COMANDO/TIPO. </P>
<P>Os comandos de m&oacute;dulo que utilizam a linha livre s&atilde;o: COB (COBOL), LAB (LABEL), EXCEPT, COPY, COMENT, MSG e MSGIND. </P>
<P>Na linha livre devem ser utilizados prefixos, sufixos, pontos e outras refer&ecirc;ncias espec&iacute;ficas para o comando em quest&atilde;o, pois esta linha ser&aacute; gerada no programa tal como foi cadastrada. </P>
<P>Para os comandos de m&oacute;dulo de edi&ccedil;&atilde;o - COB, EDIT e EXCEC - foi criada a constante "SADSM", a fim de facilitar na determina&ccedil;&atilde;o dos desvios (GO TO), &iacute;ndices e chaves de fim (EOF). </P>
<P>Para se utilizar a constante, ao inv&eacute;s de se definir o n&uacute;mero do par&aacute;grafo para os desvios, &iacute;ndices ou chaves de fim (EOF), deve-se definir a constante "SADSM". Deste modo, na gera&ccedil;&atilde;o do programa, a constante ser&aacute; substitu&iacute;da pelo n&uacute;mero do par&aacute;grafo correspondente. </P>
<P>A seguir, ser&aacute; exibido um trecho de um programa - ABCN11 - gerado a partir da utiliza&ccedil;&atilde;o da constante SADSM no cadastramento dos comandos COB em seu m&oacute;dulo linear 251. </P>
</FONT><PRE><font size=3>                                               <U>N.VEZES OU
COMANDO/TIPO ORIGEM DESTINO SET ATRIBUTO INDICE N.FORMULA
</U>DO            EXEMPLO 99. 
COB
         IF C0200-ATRMNE EQUAL "LOJCOD"
COB
            GO TO SADSM-99-EXIT. 
COB
         MOVE HIGH-VALUE TO EOF-SADSM. 
COB 
         MOVE CO200-ATRMNE TO CT11I-ATRMNE(IND-SADSM). 
END</PRE></font>
<B><FONT SIZE=2><P>O fonte ser&aacute; gerado com os seguintes comandos: </P>
</B><P>134011 25110-00-EXEMPLO.</P>
<P>134111</P>
<P>134211 IF C0200-ATRMNE EQUAL "LOJCOD"</P>
<P>134311 GO TO 25110-99-EXIT.</P>
<P>134411 MOVE HIGH-VALUE TO EOF-25110.</P>
<P>134511 MOVE CO200-ATRMNE TO CT11I-ATRMNE(IND-25110).</P>
<P>134611</P>
<P>134711 25110-99-EXIT.</P>
<P>134811 EXIT.</P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>OPERACAO</B> - Opera&ccedil;&atilde;o a ser efetuada sobre o cadastramento do m&oacute;dulo. </P>
<P>Pode assumir os seguintes valores: </P><DIR>

<B><P>"INC"</B> (Inclus&atilde;o); </P>
<B><P>"ALT"</B> (Altera&ccedil;&atilde;o); </P>
<B><P>"EXC"</B> (Exclus&atilde;o); </P>
<B><P>"CON"</B> (Consulta).</P></DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>CONTINUA (S/N)</B> - Indicador de continuidade de opera&ccedil;&atilde;o. </P>
<P>Pode assumir os seguintes valores: </P><DIR>

<B><P>"S"</B> - Para que seja exibida a pr&oacute;xima p&aacute;gina de opera&ccedil;&atilde;o sobre o m&oacute;dulo; </P>
<B><P>"N"</B> - Para encerrar a opera&ccedil;&atilde;o sobre o m&oacute;dulo.</P></DIR>

<P>Neste caso, o campo PROXIMA PAGINA deve estar preenchido com "99". </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>PROXIMA PAGINA</B> - N&uacute;mero da pr&oacute;xima p&aacute;gina a ser exibida ou "99" para encerrar a opera&ccedil;&atilde;o sobre o m&oacute;dulo. </P>
<P>O cadastramento de m&oacute;dulos segue a l&oacute;gica de atualiza&ccedil;&atilde;o paginada e possui todas as caracter&iacute;sticas deste tipo de transa&ccedil;&atilde;o, conforme descrito na Se&ccedil;&atilde;o I, "Conceitos preliminares para a utiliza&ccedil;&atilde;o do SADS, item "Paginador de entrada de dados".</P></DIR>
</DIR>

</FONT><B><P><font size=5><A NAME="Coman">Comandos de m&oacute;dulo</A></B></FONT>


<p><Center><b><FONT SIZE=4>&Iacute;ndice de Comandos</center></b></font></tr>
<P>
<P>
<center><table>
<TR>
<td><a href="#Altera"><IMG ALT=Altera Hspace=3 vspace=3 border=0 src="Bullet2.gif">ALT 
<td><a href="#Dmsbot"><IMG ALT=DMSBOT Hspace=3 vspace=3 border=0 src="Bullet2.gif">DMSBOT
<td><a href="#Inclui"><IMG ALT=INC Hspace=3 vspace=3 border=0 src="Bullet2.gif">INC 
<td><a href="#Rewrit"><IMG ALT=REWRITE Hspace=3 vspace=3 border=0 src="Bullet2.gif">REWRIT</tr>

<TR><td><a href="#Branco"><IMG ALT=BRANCO Hspace=3 vspace=3 border=0 src="Bullet2.gif">BRANCO
<td><a href="#Dmseot"><IMG ALT=DMSEOT Hspace=3 vspace=3 border=0 src="Bullet2.gif">DMSEOT
<td><a href="#Insert"><IMG ALT=INSERT Hspace=3 vspace=3 border=0 src="Bullet2.gif">INSERT
<td><a href="#Segele"><IMG ALT=SEGELE Hspace=3 vspace=3 border=0 src="Bullet2.gif">SEGELE</TR>

<TR><td><a href="#Call"><IMG ALT=CAL Hspace=3 vspace=3 border=0 src="Bullet2.gif">CAL 
<td><a href="#Comado"><IMG ALT=DO Hspace=3 vspace=3 border=0 src="Bullet2.gif">DO
<td><a href="#Invdat"><IMG ALT=INVDAT Hspace=3 vspace=3 border=0 src="Bullet2.gif">INVDAT
<td><a href="#Start"><IMG ALT=START Hspace=3 vspace=3 border=0 src="Bullet2.gif">START</TR>

<TR><td><a href="#Close"><IMG ALT=CLOSE Hspace=3 vspace=3 border=0 src="Bullet2.gif">CLOSE
<td><a href="#Comend"><IMG ALT=END Hspace=3 vspace=3 border=0 src="Bullet2.gif">END
<td><a href="#Label"><IMG ALT=LAB Hspace=3 vspace=3 border=0 src="Bullet2.gif">LAB 
<td><a href="#Store"><IMG ALT=STR Hspace=3 vspace=3 border=0 src="Bullet2.gif">STR </TR>

<TR><td><a href="#Cobol"><IMG ALT=COB Hspace=3 vspace=3 border=0 src="Bullet2.gif">COB 
<td><a href="#Edit"><IMG ALT=EDIT Hspace=3 vspace=3 border=0 src="Bullet2.gif">EDIT
<td><a href="#Lock"><IMG ALT=LOK Hspace=3 vspace=3 border=0 src="Bullet2.gif">LOK 
<td><a href="#Tabela"><IMG ALT=TAB Hspace=3 vspace=3 border=0 src="Bullet2.gif">TAB </TR>

<TR><td><a href="#Coment"><IMG ALT=COMENT Hspace=3 vspace=3 border=0 src="Bullet2.gif">COMENT
<td><a href="#Exclui"><IMG ALT=EXCLUI Hspace=3 vspace=3 border=0 src="Bullet2.gif">EXCLUI
<td><a href="#Msg"><IMG ALT=MSG Hspace=3 vspace=3 border=0 src="Bullet2.gif">MSG
<td><a href="#Tel"><IMG ALT=TEL Hspace=3 vspace=3 border=0 src="Bullet2.gif">TEL
</TR>

<TR><td><a href="#Consul"><IMG ALT=CON Hspace=3 vspace=3 border=0 src="Bullet2.gif">CON 
<td><a href="#Excec"><IMG ALT=EXCEC Hspace=3 vspace=3 border=0 src="Bullet2.gif">EXCEC
<td><a href="#Msgind"><IMG ALT=MSGIND Hspace=3 vspace=3 border=0 src="Bullet2.gif">MSGIND
<td><a href="#Teq"><IMG ALT=TEQ Hspace=3 vspace=3 border=0 src="Bullet2.gif">TEQ</TR>

<TR><td><a href="#Conusu"><IMG ALT=CONUSU Hspace=3 vspace=3 border=0 src="Bullet2.gif">CONUSU
<td><a href="#Except"><IMG ALT=EXCEPT Hspace=3 vspace=3 border=0 src="Bullet2.gif">EXCEPT
<td><a href="#Move"><IMG ALT=MVE Hspace=3 vspace=3 border=0 src="Bullet2.gif">MVE 
<td><a href="#Teqko"><IMG ALT=TEQKO Hspace=3 vspace=3 border=0 src="Bullet2.gif">TEQKO</TR>


<TR><td><a href="#Copy"><IMG ALT=COPY Hspace=3 vspace=3 border=0 src="Bullet2.gif">COPY
<td><a href="#Find"><IMG ALT=FIN Hspace=3 vspace=3 border=0 src="Bullet2.gif">FIN 
<td><a href="#Open"><IMG ALT=OPEN Hspace=3 vspace=3 border=0 src="Bullet2.gif">OPEN
<td><a href="#Write"><IMG ALT=WRITE Hspace=3 vspace=3 border=0 src="Bullet2.gif">WRITE</TR>

<TR><td><a href="#Create"><IMG ALT=CREA Hspace=3 vspace=3 border=0 src="Bullet2.gif">CRE 
<td><a href="#Findko"><IMG ALT=FINDKO Hspace=3 vspace=3 border=0 src="Bullet2.gif">FINDKO
<td><a href="#Read"><IMG ALT=READ Hspace=3 vspace=3 border=0 src="Bullet2.gif">READ</TR>


<TR><td><a href="#Delete"><IMG ALT=DEL Hspace=3 vspace=3 border=0 src="Bullet2.gif">DEL 
<td><a href="#Formul"><IMG ALT=FORMUL Hspace=3 vspace=3 border=0 src="Bullet2.gif">FORMUL
<td><a href="#Recrea"><IMG ALT=RECREA Hspace=3 vspace=3 border=0 src="Bullet2.gif">RECREA</tr>


<TR><td><a href="#Descvd"><IMG ALT=DESCVD Hspace=3 vspace=3 border=0 src="Bullet2.gif">DESCVD
<td><a href="#Impres"><IMG ALT=IMPRES Hspace=3 vspace=3 border=0 src="Bullet2.gif">IMPRES
<td><a href="#Remove"><IMG ALT=REMOVE Hspace=3 vspace=3 border=0 src="Bullet2.gif">REMOVE
</tr></center>
</TABLE>
<P>Os m&oacute;dulos de programa s&atilde;o compostos por trechos de instru&ccedil;&otilde;es 
Cobol e por comandos de m&oacute;dulo, que funcionam como verdadeiras macroinstru&ccedil;&otilde;es, 
fatorando o trabalho e diminuindo o tempo de constru&ccedil;&atilde;o de programas. Isto porque,
com uma &uacute;nica linha de especifica&ccedil;&atilde;o de comando de m&oacute;dulo, pode-se, por exemplo: </P><DIR>
</FONT><P><IMG SRC="Bullet6.gif" WIDTH=15 HEIGHT=11><FONT SIZE=2>&nbsp;Realizar acesso a <I>datasets</I>, incluindo tratamento de erro padronizado; </P>
</FONT><P><IMG SRC="Bullet6.gif" WIDTH=15 HEIGHT=11><FONT SIZE=2>&nbsp;Montar <I>loops</I> estruturados; </P>
</FONT><P><IMG SRC="Bullet6.gif" WIDTH=15 HEIGHT=11><FONT SIZE=2>&nbsp;Fazer acesso a tabelas e sub-rotinas; </P>
</FONT><P><IMG SRC="Bullet6.gif" WIDTH=15 HEIGHT=11><FONT SIZE=2>&nbsp;Emitir mensagens, de forma padronizada; </P>
</FONT><P><IMG SRC="Bullet6.gif" WIDTH=15 HEIGHT=11><FONT SIZE=2>&nbsp;Movimentar dados entre estruturas.</P>
<B></DIR>

<P>Movimenta&ccedil;&atilde;o de atributos boolean</P>
</B><P>A movimenta&ccedil;&atilde;o de/para atributos com formato <I>boolean</I> pode ser gerada de tr&ecirc;s diferentes formas, conforme o elemento cadastrado na estrutura de origem e destino e conforme o formato do outro atributo que est&aacute; sendo composto ou usado na composi&ccedil;&atilde;o do atributo <I>boolean</I>. </P>
<P>Estas tr&ecirc;s possibilidades de gera&ccedil;&atilde;o s&atilde;o apresentadas a seguir: </P>
<OL>

<LI>IF ATR-ENTRADA</LI>
<P>MOVE 1 TO ATR-SAIDA</P>
<P>ELSE </P>
<P>MOVE 0 TO ATR-SAIDA.</P>
<LI>IF ATR-ENTRADA </LI>
<P>COMPUTE ATR-SAIDA = TRUE</P>
<P>ELSE </P>
<P>COMPUTE ATR-SAIDA = FALSE.</P>
<LI>IF ATR-ENTRADA = 1</LI></OL>
<DIR>
<DIR>
<DIR>

<P>COMPUTE ATR-SAIDA = TRUE</P></DIR>

<P>ELSE </P><DIR>

<P>COMPUTE ATR-SAIDA = FALSE.</P></DIR>
</DIR>
</DIR>

<P>A tabela a seguir apresenta o tipo (1, 2 ou 3) de movimenta&ccedil;&atilde;o de atributos <I>boolean</I> que ser&aacute; gerado de acordo com os elementos origem e destino e de acordo com o formato do atributo que est&aacute; sendo composto ou usado na composi&ccedil;&atilde;o do atributo <I>boolean</I>: </P></FONT>
<TABLE BORDER CELLSPACING=1 WIDTH=556>
<TR><TD WIDTH="21%" VALIGN="MIDDLE">
<P ALIGN="CENTER"><B><FONT SIZE=2>ESTRUTURA ORIGEM</B></FONT></TD>
<TD WIDTH="20%" VALIGN="MIDDLE">
<B><FONT SIZE=2><P ALIGN="CENTER">FORMATO DO ATRIB.</B></FONT></TD>
<TD WIDTH="21%" VALIGN="MIDDLE">
<B><FONT SIZE=2><P ALIGN="CENTER">ESTRUTURA DESTINO</B></FONT></TD>
<TD WIDTH="20%" VALIGN="MIDDLE">
<B><FONT SIZE=2><P ALIGN="CENTER">FORMATO DO ATRIB </B></FONT></TD>
<TD WIDTH="18%" VALIGN="MIDDLE">
<B><FONT SIZE=2><P ALIGN="CENTER">TIPO DE GERA&Ccedil;&Atilde;O</B></FONT></TD>
</TR>
<TR><TD WIDTH="21%" VALIGN="TOP">
<I><FONT SIZE=2><P>Dataset</I> </FONT></TD>
<TD WIDTH="20%" VALIGN="TOP">
<I><FONT SIZE=2><P>Boolean</I> </FONT></TD>
<TD WIDTH="21%" VALIGN="TOP">
<I><FONT SIZE=2><P>Dataset </P>
</I><P>&Aacute;rea de work </FONT></TD>
<TD WIDTH="20%" VALIGN="MIDDLE">
<I><FONT SIZE=2><P>Boolean</I> </P>
<P>Num&eacute;rico </P>
<I><P>Display</I> </P>
<P>Boolean </P>
<P>Num&eacute;rico </P>
<P>Display </FONT></TD>
<TD WIDTH="18%" VALIGN="MIDDLE">
<FONT SIZE=2><P ALIGN="CENTER">2</P>
<P ALIGN="CENTER">1</P>
<P ALIGN="CENTER">1</P>
<P ALIGN="CENTER">2</P>
<P ALIGN="CENTER">1</P>
<P ALIGN="CENTER">1</FONT></TD>
</TR>
<TR><TD WIDTH="21%" VALIGN="MIDDLE">
<I><FONT SIZE=2><P>Dataset</I> </FONT></TD>
<TD WIDTH="20%" VALIGN="MIDDLE">
<FONT SIZE=2><P>Num&eacute;rico</FONT></TD>
<TD WIDTH="21%" VALIGN="MIDDLE">
<I><FONT SIZE=2><P>Dataset</I> </FONT></TD>
<TD WIDTH="20%" VALIGN="MIDDLE">
<I><FONT SIZE=2><P>Boolean</I> </P>
<I><P>Display</I> </FONT></TD>
<TD WIDTH="18%" VALIGN="MIDDLE">
<FONT SIZE=2><P ALIGN="CENTER">3</P>
<P ALIGN="CENTER">3</FONT></TD>
</TR>
<TR><TD WIDTH="21%" VALIGN="TOP">
<I><FONT SIZE=2><P>Dataset</I> </FONT></TD>
<TD WIDTH="20%" VALIGN="TOP">
<I><FONT SIZE=2><P>Boolean</I> </FONT></TD>
<TD WIDTH="21%" VALIGN="TOP">
<FONT SIZE=2><P>Tela/tab/relat&oacute;rio </P>
<P>Outro</FONT></TD>
<TD WIDTH="20%" VALIGN="MIDDLE">
<I><FONT SIZE=2><P>Boolean</I> </P>
<P>Num&eacute;rico </P>
<I><P>Display</I> </FONT></TD>
<TD WIDTH="18%" VALIGN="MIDDLE">
<FONT SIZE=2><P ALIGN="CENTER">N&atilde;o gera</P>
<P ALIGN="CENTER">1</P>
<P ALIGN="CENTER">1</FONT></TD>
</TR>
<TR><TD WIDTH="21%" VALIGN="TOP">
<FONT SIZE=2><P>Tela/tab/relat&oacute;rio</FONT></TD>
<TD WIDTH="20%" VALIGN="TOP">
<I><FONT SIZE=2><P>Boolean</I> </FONT></TD>
<TD WIDTH="21%" VALIGN="TOP">
<I><FONT SIZE=2><P>Datase</I> </P>
<P>Outro </FONT></TD>
<TD WIDTH="20%" VALIGN="MIDDLE">
<I><FONT SIZE=2><P>Boolean</I> </P>
<P>Num&eacute;rico<I> </P>
<P>Display</I> </FONT></TD>
<TD WIDTH="18%" VALIGN="MIDDLE">
<FONT SIZE=2><P ALIGN="CENTER">N&atilde;o gera</P>
<P ALIGN="CENTER">3</P>
<P ALIGN="CENTER">3</FONT></TD>
</TR>
</TABLE>

<FONT SIZE=2><P>Qualquer elemento &eacute; entendido como "Outro", exceto <I>dataset</I>, tela, <I>set</I> de acesso, tabela e relat&oacute;rio. </P>
<P>Cumpre ressaltar que, caso o atributo booleano n&atilde;o tenha seu formato alterado nas estruturas de <I>library</I>, arquivo, sub-rotina e uso geral, poder&aacute; ocorrer erro na compila&ccedil;&atilde;o do programa. Os atributos booleanos nestas estruturas devem ser definidos com algum formato diferente de "B" (<I>Boolean</I>) para a correta gera&ccedil;&atilde;o do programa, pois o COBOL n&atilde;o admite atributo <I>boolean</I>. </P>
<P>Para atributos booleanos nas estruturas de tela, tabela e relat&oacute;rio, o gerador n&atilde;o gerar&aacute; movimenta&ccedil;&atilde;o, devendo esta ser feita atrav&eacute;s de m&oacute;dulo. </P>
<B><P>Movimenta&ccedil;&atilde;o para atributos com datas</P>
</B><P>Na movimenta&ccedil;&atilde;o de atributos contendo datas, se o mesmo possuir padr&atilde;o "DMA", "AMD", "M/A", "A/M" ou "INV", com destino diferente de tela ou relat&oacute;rio e os tamanhos dos atributos na origem e destino forem diferentes (ano com duas e quatro posi&ccedil;&otilde;es), &eacute; gerada a convers&atilde;o do atributo data no momento da movimenta&ccedil;&atilde;o. </P>
<P>Para atributos data com padr&atilde;o "INV" e destino igual a tela ou relat&oacute;rio, &eacute; gerada a sua convers&atilde;o no momento da movimenta&ccedil;&atilde;o, levando em considera&ccedil;&atilde;o que o atributo deve ser invertido.</P>
<P>A convers&atilde;o do tamanho do atributo data no momento da movimenta&ccedil;&atilde;o pode ser parametrizada na tabela SBPM5000, c&oacute;digo "MOVDAT". Para este c&oacute;digo, se PAR-3 for igual a "S", a convers&atilde;o dos atributos data ser&aacute; gerada no momento da movimenta&ccedil;&atilde;o. Caso PAR-3 seja igual a "N" ou o par&acirc;metro "MOVDAT" n&atilde;o exista, a convers&atilde;o n&atilde;o ser&aacute; gerada. O gerador de programas tamb&eacute;m ir&aacute; pesquisar pelas 2 (duas) primeiras posi&ccedil;&otilde;es do PAR-6 do par&acirc;metro "MOVDAT", a fim de identificar o ano at&eacute; o qual as datas ser&atilde;o consideradas pertencentes ao s&eacute;culo 21 (somar&aacute; 2000 ao ano). A partir deste ano parametrizado, a data ser&aacute; considerada pertencente ao s&eacute;culo 20 e ser&aacute; somado 1900 ao ano. Para o correto funcionamento, se houver a parametriza&ccedil;&atilde;o da convers&atilde;o - PAR-3 = &quot;S&quot;, o ano lim&iacute;trofe dos s&eacute;culos deve obrigatoriamente ser informado nos dois primeiros bytes do campo PAR-6.</P>
<P>Podem ser cadastrados comandos de m&oacute;dulo referenciando tela menu, mesmo que esta n&atilde;o esteja cadastrada como recurso do programa. </P>
<P>Alguns comandos de m&oacute;dulo s&atilde;o espec&iacute;ficos para l&oacute;gicas de programa <I>batch,</I> <I>on-line </I>ou sub-rotina. </P>
<P>A seguir, ser&aacute; explicado como cadastrar cada um dos comandos de m&oacute;dulo, os tipos de l&oacute;gica em que podem ser empregados e o que ser&aacute; gerado a partir deles no fonte Cobol dos programas. </P>
<B><P><A NAME="Altera">Comando ALT ou ALTERA (l&oacute;gicas batch ou on-line)</A></B> </P>
<P>Este comando gera a altera&ccedil;&atilde;o de um registro em uma estrutura DMSII (<I>dataset</I>). </P>
<P>Para cadastrar o comando ALT ou ALTERA no reposit&oacute;rio de dados do SADS, os campos abaixo devem ser preenchidos da seguinte forma: </P><DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>COMANDO</B> - "ALT" ou "ALTERA". </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>TIPO</B> - Qualificador para acesso ao <I>dataset</I> que ser&aacute; alterado. </P>
<P>Pode assumir os seguintes valores: </P><DIR>

</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"F" - Para obter acesso ao primeiro registro: LOCK FIRST; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"N" - Para obter acesso ao pr&oacute;ximo registro: LOCK NEXT;</FONT> </P>
<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12>"L" - Para obter acesso ao &uacute;ltimo registro: LOCK LAST; </P>
<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12>"P" - Para obter acesso ao registro anterior: LOCK PRIOR.</P></DIR>

<FONT SIZE=2><P>Caso n&atilde;o seja informado o tipo, ser&aacute; gerado acesso puro: LOCK.</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>ORIGEM</B> - C&oacute;digo da estrutura de origem que servir&aacute; como base para a composi&ccedil;&atilde;o da chave de acesso ao <I>dataset</I>.</FONT> </P>
<FONT SIZE=2><P>Os atributos correspondentes contidos nesta estrutura tamb&eacute;m ser&atilde;o utilizados para a altera&ccedil;&atilde;o do <I>dataset</I> informado no campo DESTINO.</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>DESTINO</B> - C&oacute;digo do <I>dataset</I> que ser&aacute; alterado.</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>&nbsp;SET - C&oacute;digo da estrutura DMSII (set, subset ou access) para acesso ao dataset de destino.</B></FONT> </P>
<FONT SIZE=2><P>Para executar acesso direto ao <I>dataset</I>, este campo n&atilde;o deve ser preenchido.</FONT> </P>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>ATRIBUTO</B> - C&oacute;digo do atributo para acesso &agrave; estrutura origem.</FONT> </P>
<FONT SIZE=2><P>Pode assumir os seguintes valores:</FONT> </P><DIR>

<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"&lt;C&oacute;digo do &uacute;ltimo atributo&gt;" - Para acesso com chave parcial, at&eacute; este atributo limite; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"NENHUM" - Para n&atilde;o qualificar os atributos da chave de acesso.</P></DIR>

<P>Caso este campo n&atilde;o seja informado, o acesso ser&aacute; com chave completa, ou seja, com todos os atributos da chave.</FONT> </P></DIR>
<dir>
<P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B>INDICE</B> - Indicador de indexa&ccedil;&atilde;o de ocorr&ecirc;ncias nas estruturas origem e destino. </P>
<P>Observar explica&ccedil;&atilde;o para o campo INDICE no t&oacute;pico referente a "Cadastramento de m&oacute;dulos de processamento". </P><DIR>

<P>Pode assumir os seguintes valores: </P>
<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12>"O" - Para indexar os atributos da origem que apresentarem ocorr&ecirc;ncias em suas estruturas; </P>
<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12>"D" - Para indexar os atributos do destino que apresentarem ocorr&ecirc;ncias em suas estruturas; </P>
<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12>"A" - Para indexar os atributos da origem e destino que apresentarem ocorr&ecirc;ncias em suas estruturas. </P></DIR>
</dir>
<P>Caso este campo n&atilde;o seja informado, indica que n&atilde;o ser&atilde;o considerados os atributos da ORIGEM nem do DESTINO que apresentam ocorr&ecirc;ncias, tamb&eacute;m conforme explicado anteriormente no t&oacute;pico referente a "Cadastramento de m&oacute;dulo de processamento".A seguir, ser&aacute; exibido um exemplo de cadastramento do comando de m&oacute;dulo ALT ou ALTERA:</P><DIR>

<pre><font size=3>                                                    <U>N.VEZES OU
COMANDO/TIPO ORIGEM  DESTINO  SET ATRIBUTO  INDICE  N.FORMULA
</U>ALTERA  L    SXYT0114 SXYB0400  A  PRJCOD     O</pre></font>
<FONT SIZE=2><P>O fonte Cobol gerado ser&aacute; o seguinte: </P>
</FONT><pre><font size=3>100114       MOVE YT14I-ATVCOD     TO Y04A-ATVCOD. 
100214       MOVE YT14I-PRJCOD     TO Y04A-PRJCOD.
100314
100414       LOCK LAST SXYB04A AT
100514               Y0400-ATVCOD        = Y04A-ATVCOD
100614           AND Y0400-PRJCOD        = Y04A-PRJCOD
100714       ON EXCEPTION
100814          IF DMSTATUS(NOTFOUND)
100914             MOVE HIGH-VALUES TO EOF-SXYB04
101014             GO TO 36014-99-EXIT
101114          ELSE
101214             GO TO 98000-00-EXCECAO-FATAL.
101314
101414      MOVE YT14I-ATVCOD-RED        TO Y0400-ATVCOD.
101514      MOVE YT14I-PRJCOD-RED        TO Y0400-PRJCOD.
101614      MOVE YT14I-ATVNOM(IND-GER)   TO Y0400-ATVNOM.
101714
101814      MOVE GBL-DATA                TO Y0400-HDRDATA.
101914      MOVE GBL-HORA                TO Y0400-HDRHORA.
102014
102114      STORE SXYB04
102214      ON EXCEPTION 
102314         GO TO 98000-00-EXCECAO-FATAL.</pre></font>
<FONT SIZE=2><P>Devem ser observados: </P><DIR>

</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>&nbsp;A composi&ccedil;&atilde;o dos campos da chave de acesso a partir da origem; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>&nbsp;A composi&ccedil;&atilde;o (altera&ccedil;&atilde;o) de todos os atributos, considerando os que ocorrem na estrutura da tela (origem) e os que n&atilde;o ocorrem no <I>dataset</I> (destino); </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>&nbsp;A composi&ccedil;&atilde;o de todos os atributos do <I>header</I> do <I>dataset</I>; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>&nbsp;A grava&ccedil;&atilde;o do <I>dataset</I> com todas as altera&ccedil;&otilde;es processadas atrav&eacute;s do comando STORE; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>&nbsp;O tratamento padr&atilde;o da exce&ccedil;&atilde;o, gerado no acesso ao registro do <I>dataset</I>; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>&nbsp;Cumpre ressaltar que, na gera&ccedil;&atilde;o do fonte de um programa, caso este possua como recurso um <I>dataset</I> definido como "externo", todas as refer&ecirc;ncias a seus atributos ser&atilde;o feitas pelos seus c&oacute;digos externos e n&atilde;o pelos seus c&oacute;digos. </P></DIR>
</DIR>
</DIR>

<B><P><a name="Branco">Comando BRANCO (l&oacute;gicas <I>batch</I>, <I>on-line</I> ou sub-rotina) </P></a>
</B><P>Este comando gera linhas em branco nos fontes dos programas. </P>
<P>Para cadastrar o comando "BRANCO" no reposit&oacute;rio de dados do SADS, os campos da tela de cadastramento de m&oacute;dulo devem ser preenchidos conforme a seguir:</P><DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>&nbsp;COMANDO</B> - Informe "BRANCO". </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>&nbsp;NUMERO DE VEZES</B> - N&uacute;mero de linhas em branco que ser&atilde;o geradas. &Eacute; opcional e pode assumir os valores 01 a 99. </P>
<P>A seguir ser&aacute; apresentado um exemplo de como cadastrar o comando de m&oacute;dulo "BRANCO": </P>
</FONT><pre><font size=3>                                                    <U>N.VEZES OU
COMANDO/TIPO ORIGEM  DESTINO  SET  ATRIBUTO  INDICE  N.FORMULA
</U>COMENT COMENTARIO 1
BRANCO                                                 05
COMENT COMENTARIO 2</pre></font>
<FONT SIZE=2><P>O fonte COBOL gerado ser&aacute; o seguinte: </P>
<P>130011* COMENTARIO 1 </P>
<P>130111 </P>
<P>130211 </P>
<P>130311 </P>
<P>130411 </P>
<P>130511 </P>
<P>130611 </P>
<P>130711* COMENTARIO 2</P></DIR>

<B><P><A NAME="Call">Comando CAL ou CALL (l&oacute;gicas <I>batch</I>, <I>on-line</I> ou sub-rotina) </P></B></A>
<P>Este comando gera a chamada a uma sub-rotina. </P> 
<P>Se o sistema utilizar sub-rotinas como globais - UTILIZACAO SUB-ROTINAS GLOBAIS (S/N) = "S" OU "T" na defini&ccedil;&atilde;o do sistema - o comando CALL ser&aacute; gerado para chamada ao Programa chamador de sub-rotinas. Caso contr&aacute;rio, ser&aacute; gerado o comando de chamada convencional da sub-rotina. </P>
<P>Todos os detalhes referentes &agrave; utiliza&ccedil;&atilde;o de sub-rotinas globais, deve-se consultar o item "Sub-rotina", nesta se&ccedil;&atilde;o. </P>
<P>A descri&ccedil;&atilde;o resumida da sub-rotina, cadastrada no reposit&oacute;rio de dados, &eacute; colocada antes do comando CALL para melhor documenta&ccedil;&atilde;o do fonte gerado. </P>
<P>Para cadastrar o comando CAL ou CALL no reposit&oacute;rio de dados do SADS, os campos abaixo devem ser preenchidos da seguinte forma: </P><DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>COMANDO</B> - "CAL" ou "CALL". </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>ORIGEM</B> - C&oacute;digo da sub-rotina a qual ser&aacute; executado o acesso, cadastrada como recurso do programa. </P>
<P>A seguir, ser&aacute; exibido um exemplo de cadastramento do comando de m&oacute;dulo CAL ou CALL: </P>
</FONT><pre><font size=3>                                                   <U>N.VEZES OU
COMANDO/TIPO ORIGEM DESTINO  SET ATRIBUTO  INDICE  N.FORMULA
</U>CALL         SXYS04</pre></font>
<FONT SIZE=2><P>O fonte Cobol de um programa que n&atilde;o utiliza sub-rotinas globais (UTILIZACAO SUB-ROTINAS GLOBAIS = "N" na defini&ccedil;&atilde;o do sistema) gerado pelo SADS ser&aacute; o seguinte: </P>
</FONT><pre><font size=3>
100114    CALL "SXYS04 OF SXYS04" USING YS0401-SXYS04.
100214
100314*   TESTAR A CONDICAO DE ERRO DE ACESSO A SUBROTINA.</pre></font>
<FONT SIZE=2><P>O fonte Cobol de um programa que utiliza sub-rotinas globais em ambos os ambientes (UTILIZACAO SUB-ROTINAS GLOBAIS = "S" na defini&ccedil;&atilde;o do sistema) gerado pelo SADS ser&aacute; o seguinte: </P>
</FONT><pre><font size=3>
100014    MOVE "SXYS04"         TO GBL-SUB
100114    CALL SISTSUBS USING YS0401-SXYS04.
100214
100314*   TESTAR A CONDICAO DE ERRO DE ACESSO A SUBROTINA.</pre></font>
<FONT SIZE=2><P>O fonte Cobol de um programa que utiliza sub-rotinas globais apenas em teste (UTILIZACAO SUB-ROTINAS GLOBAIS = "T" na defini&ccedil;&atilde;o do sistema) gerado pelo SADS ser&aacute; o seguinte: </P>
</FONT><pre><font size=3>
100014$SET OMIT = SADSSUBGBL 
100114     CALL "SXYS04 OF SXYS04" USING YS0401-SXYS04.
100214$POP OMIT
100314$SET OMIT = NOT SADSSUBGBL 
100414     MOVE "SXYS04"         TO GBL-SUB
100514     CALL SISTSUBS USING YS0401-SXYS04.
100614$POP OMIT
100714
100814*    TESTAR A CONDICAO DE ERRO DE ACESSO A SUBROTINA.</pre></font>
<FONT SIZE=2><P>Deve ser observado que o comando CAL ou CALL n&atilde;o comp&otilde;e a &aacute;rea de comunica&ccedil;&atilde;o com a sub-rotina nem testa as condi&ccedil;&otilde;es de retorno da mesma. Portanto, a &aacute;rea de comunica&ccedil;&atilde;o da sub-rotina deve ser composta antes do comando CALL. </P></DIR>

<B><P><A NAME="Close">Comando CLOSE (l&oacute;gicas </A><I>batch</I>, <I>on-line</I> ou sub-rotina)</B> </P></a>
<P>Este comando gera o fechamento de um arquivo convencional ou de um arquivo de relat&oacute;rio. </P>
<P>Este fechamento pode ser usado para salvar, liberar ou remover um arquivo de um diret&oacute;rio. </P>
<P>Para cadastrar o comando CLOSE no reposit&oacute;rio de dados do SADS, os campos abaixo devem ser preenchidos da seguinte forma: </P><DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>COMANDO</B> - "CLOSE". </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>TIPO</B> - Tipo do fechamento do arquivo. </P>
<P>Pode assumir os seguintes valores: </P><DIR>

</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"C" - Para salvar o arquivo com CLOSE CRUNCH, liberando as &aacute;rea n&atilde;o utilizadas; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"L" - Para salvar o arquivo com CLOSE LOCK, sem permitir nova utiliza&ccedil;&atilde;o do arquivo dentro do mesmo programa; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"P" - Para remover o arquivo do diret&oacute;rio CLOSE PURGE; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"S" - Para salvar o arquivo com CLOSE SAVE, permitindo nova utiliza&ccedil;&atilde;o do arquivo dentro do mesmo programa; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"R" - Para liberar o uso do arquivo CLOSE RELEASE. </P>
<P>Caso o tipo n&atilde;o seja informado, ser&aacute; assumido "R" (CLOSE RELEASE). </P></DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>ORIGEM</B> - C&oacute;digo do arquivo ou relat&oacute;rio que ser&aacute; fechado. </P><DIR>

<P>A seguir, ser&aacute; exibido um exemplo de como cadastrar o comando de m&oacute;dulo CLOSE:</P></DIR>

</FONT><pre><font size=3>                                                  <U>N.VEZES OU
COMANDO/TIPO ORIGEM DESTINO SET  ATRIBUTO INDICE  N.FORMULA
</U>CLOSE   S   SXYA51</pre></font>
<FONT SIZE=2><P>O fonte Cobol gerado ser&aacute; o seguinte: </P>
</FONT><pre><font size=3> 100114      CLOSE SXYA51 SAVE.</pre></font></DIR>

<B><FONT SIZE=2><P><A NAME="Cobol">Comando COB ou COBOL (l&oacute;gicas </A><I>batch</I>, <I>on-line</I> ou sub-rotina)</B> </P></a>
<P>Este comando permite que se escreva uma linha de comando em linguagem Cobol que ser&aacute; utilizada na gera&ccedil;&atilde;o do programa. </P>
<P>O comando a ser definido na linha livre deve seguir todos os padr&otilde;es exigidos pelo Cobol - posicionamento, ponto final, prefixos, sufixos etc -, pois n&atilde;o haver&aacute; nenhuma consist&ecirc;ncia pr&eacute;via pelo SADS. Tal como foi definida a linha do comando Cobol, tal qual ser&aacute; transposta para o fonte do programa. </P>
<P>Para cadastrar o comando COB ou COBOL no reposit&oacute;rio de dados do SADS, os campos a seguir devem ser preenchidos da seguinte forma: </P><DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>COMANDO</B> - "COB" ou "COBOL". </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>Linha livre</B> - Comando Cobol a ser executado. </P>
<P>A seguir ser&aacute; exibido um exemplo de como cadastrar o comando de m&oacute;dulo COB ou COBOL:</P>
</FONT><pre><font size=3>                                                   <U>N.VEZES OU
</U> <U>COMANDO/TIPO ORIGEM DESTINO SET  ATRIBUTO  INDICE N.FORMULA
</U> COBOL
              COMPUTE WSST-TOTAL=WSS-TOTAL+ YT14I-VALOR.</pre></font>
<FONT SIZE=2><P>O fonte Cobol gerado ser&aacute; o seguinte:</P>
</FONT><pre><font size=3> 100114       COMPUTE WSS-TOTAL = WSS-TOTAL + YT14I-VALOR.</pre></font>
<FONT SIZE=2><P>Deve ser observado que, no exemplo anterior, o comando Cobol foi gerado exatamente como foi cadastrado, e isto constitui uma regra geral para o comando de m&oacute;dulo COB. </P>
<P>Para os comandos de m&oacute;dulo COB ou COBOL, foi criada a constante "SADSM", a fim de facilitar na determina&ccedil;&atilde;o e utiliza&ccedil;&atilde;o dos desvios (GO TO), &iacute;ndices (IND) e chaves de fim (EOF). </P>
<P>Para se utilizar da constante, ao inv&eacute;s de se definir o n&uacute;mero do par&aacute;grafo desejado para os desvios, &iacute;ndices ou chaves de fim (EOF), deve-se definir a constante "SADSM". Deste modo, no momento da gera&ccedil;&atilde;o do programa, a constante ser&aacute; substitu&iacute;da pelo n&uacute;mero do par&aacute;grafo correspondente. </P>
<P>Sendo assim, com a utiliza&ccedil;&atilde;o desta constante, evita-se o inconveniente de se ter de definir explicitamente os n&uacute;meros de par&aacute;grafos nos comandos COB e, caso o cadastramento dos m&oacute;dulos venha a ser alterado, de adequar novamente todos os n&uacute;meros de par&aacute;grafos definidos nestes comandos, antes de gerar novamente o programa. </P>
<P>A seguir, ser&aacute; exibido um trecho de programa - ABCN11 - gerado a partir da utiliza&ccedil;&atilde;o da constante "SADSM" no cadastramento dos comandos COB em seu m&oacute;dulo linear 251. </P>
</FONT><pre><font size=3>                                                     <U>N.VEZES OU
COMANDO/TIPO ORIGEM  DESTINO  SET  ATRIBUTO  INDICE  N.FORMULA
</U>DO          EXEMPLO
COB
            IF  C0200-ATRMNE EQUAL "LOJCOD"
COB
                GO TO SADSM-99-EXIT.
COB
            MOVE HIGH-VALUE   TO EOF-SADSM.
COB
            MOVE CO200-ATRMNE TO CT11I-ATRMNE (IND-SADSM).
END         EXEMPLO</pre></font>
<FONT SIZE=2><P>O fonte ser&aacute; gerado com os seguintes comandos:</P>
</FONT><pre><font size=3> 121911 25110-00-EXEMPLO.
 122011
 122111     IF C0200-ATRMNE EQUAL "LOJCOD"
 122211        GO TO 25110-99-EXIT.
 122311
 122411     MOVE HIGH-VALUE   TO EOF-25110.
 122511     MOVE CO200-ATRMNE TO CT11I-ATRMNE(IND-25110).
 122611
 122711 25110-99-EXIT.
 122811     EXIT.</pre></font></DIR>

<B><FONT SIZE=2><P><A NAME="Coment">Comando COMENT (l&oacute;gicas <I>batch</I>, <I>on-line</I> ou sub-rotina)</B> </P></A>
<P>Este comando gera linhas de coment&aacute;rios no fonte Cobol. </P>
<P>Para cadastrar o comando COMENT no reposit&oacute;rio de dados do SADS, os campos abaixo devem ser preenchidos da seguinte forma: </P><DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>COMANDO</B> - "COMENT". </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>Linha livre</B> - Linha de coment&aacute;rio a ser inclu&iacute;do no fonte. </P>
<P>A seguir, ser&aacute; exibido um exemplo de como cadastrar o comando de m&oacute;dulo COMENT:</P>
</FONT><pre><font size=3>                                                     <U>N.VEZES OU
COMANDO/TIPO ORIGEM  DESTINO  SET  ATRIBUTO  INDICE  N.FORMULA
</U> COMENT
              ISTO &Eacute; UM COMENTARIO.</pre></font>
<FONT SIZE=2><P>O fonte Cobol gerado ser&aacute; o seguinte: </P>
</FONT><pre><font size=3>
 100114*      ISTO E UM COMENTARIO.</pre></font>
<FONT SIZE=2><P>Deve ser observado que o comando COMENT &eacute; gerado a partir da coluna 12, de acordo com o seu cadastramento, acrescido de um "*" (asterisco) na coluna sete, indicador de coment&aacute;rio para o compilador Cobol.</P></DIR>

<B><P><A NAME="Consul">Comando CON ou CONSUL (l&oacute;gicas <I>batch</I> ou <I>on-line</I>)</B> </P></A>
<P>Este comando gera uma consulta a uma estrutura DMSII (<I>dataset</I>). </P>
<P>Para cadastrar o comando CON ou CONSUL no reposit&oacute;rio de dados do SADS, os campos abaixo devem ser preenchidos da seguinte forma: </P><DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>COMANDO - </B>"CON" ou "CONSUL". </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>TIPO</B> - Tipo da consulta a ser gerada. </P>
<P>Pode assumir os seguintes valores: </P><DIR>

</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"F" - Para obter acesso ao primeiro registro: FIND FIRST; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"N" - Para obter acesso ao pr&oacute;ximo registro: FIND NEXT; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"L" - Para obter acesso ao &uacute;ltimo registro: FIND LAST; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"P" - Para obter acesso ao registro anterior: FIND PRIOR. </P></DIR>

<P>Caso o tipo n&atilde;o seja informado, ser&aacute; gerado acesso puro: FIND. </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>ORIGEM - </B>C&oacute;digo do dataset que ser&aacute; consultado. </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>DESTINO </B>- C&oacute;digo da estrutura de destino que receber&aacute; os dados da estrutura do dataset. </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>SET - </B>C&oacute;digo da estrutura DMSII (set, subset ou access) para acesso ao dataset de origem. </P>
<P>Para obter acesso direto ao dataset, este campo n&atilde;o deve ser preenchido. </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>ATRIBUTO </B>- C&oacute;digo do &uacute;ltimo atributo para acesso &agrave; estrutura DMSII. </P>
<P>Pode assumir os seguintes valores: </P><DIR>

</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"&lt;C&oacute;digo do &uacute;ltimo atributo&gt;" - Para acesso com a chave parcial, at&eacute; este atributo limite; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"NENHUM" - Para n&atilde;o qualificar os atributos da chave de acesso.</P></DIR>

<P>Caso este campo n&atilde;o seja informado, o acesso ser&aacute; feito com a chave completa, ou seja, com todos os atributos da chave. </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>INDICE </B>- Indicador de indexa&ccedil;&atilde;o de ocorr&ecirc;ncias das estruturas origem e destino. </P>
<P>Observar explica&ccedil;&atilde;o para o campo INDICE no t&oacute;pico referente a "Cadastramento de m&oacute;dulos de processamento". </P>
<P>Pode assumir os seguintes valores: </P><DIR>

</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"O" - Para indexar os atributos da origem que apresentarem ocorr&ecirc;ncias em suas estruturas; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"D" - Para indexar os atributos do destino que apresentarem ocorr&ecirc;ncias em suas estruturas; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"A" - Para indexar os atributos da origem e do destino que apresentarem ocorr&ecirc;ncias em suas estruturas.</P></DIR>

<P>Caso este campo n&atilde;o seja informado, n&atilde;o ser&atilde;o consideradas as ocorr&ecirc;ncias da estrutura determinada nos campos ORIGEM e DESTINO, tamb&eacute;m conforme explicado anteriormente, no t&oacute;pico referente a "Cadastramento de m&oacute;dulos de processamento". </P>
<P>A seguir, ser&aacute; exibido um exemplo de como cadastrar o comando de m&oacute;dulo CON ou CONSUL: </P>
</FONT><pre><font size=3>                                                       <U>N.VEZES OU
COMANDO/TIPO  ORIGEM  DESTINO  SET  ATRIBUTO  INDICE   N.FORMULA
</U>CONSUL     N    SXYB0400  SXYT0114 A               D</pre></font><DIR>

<FONT SIZE=2><P>&nbsp;</P></DIR>

<P>O fonte Cobol gerado ser&aacute; o seguinte: </P>
</FONT><pre><font size=3>
 100114      FIND NEXT SXYB04A AT
 100214              Y0400-ATVCOD         = Y04A-ATVCOD
 100314          AND Y0400-PRJCOD         = Y04A-PRJCOD
 100414      ON  EXCEPTION
 100514          IF DMSTATUS(NOTFOUND)
 100614             MOVE HIGH-VALUES TO EOF-SXYB04
 100714             GO TO 36014-99-EXIT
 100814          ELSE
 100914             GO TO 98000-00-EXCECAO-FATAL.
 101014 
 101114      MOVE Y0400-ATVCOD        TO YT14O-ATVCOD-RED.
 101214      MOVE Y0400-PRJCOD        TO YT14O-PRJCOD-RED.
 101314      MOVE Y0400-ATVNOM        TO YT14O-ATVNOM(IND-GER).</pre></font>

<FONT SIZE=2><P>Deve ser observado que: </P><DIR>

</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>&nbsp;Houve movimenta&ccedil;&atilde;o de todos os atributos correspondentes da estrutura de origem para a estrutura de destino, considerando os que ocorrem e os que n&atilde;o ocorrem. </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>&nbsp;N&atilde;o houve composi&ccedil;&atilde;o dos campos auxiliares para acesso ao <I>dataset</I>. </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>&nbsp;Foi gerado o tratamento padr&atilde;o da exce&ccedil;&atilde;o, no acesso. </P></DIR>

<P>Conforme comprovado pelo exemplo anterior, a composi&ccedil;&atilde;o dos atributos-chaves da estrutura origem n&atilde;o &eacute; gerada pelo comando CONSUL, devendo ser aproveitada a composi&ccedil;&atilde;o efetuada pela movimenta&ccedil;&atilde;o dos atributos do menu para os atributos- chaves. </P>
<P>Caso se queira fazer alguma altera&ccedil;&atilde;o, a movimenta&ccedil;&atilde;o complementar deve ser codificada antes do comando CONSUL. </P>
<P>Cumpre ressaltar que, na gera&ccedil;&atilde;o do fonte de um programa, caso este possua como recurso um dataset definido como "externo", todas as refer&ecirc;ncias aos atributos deste dataset ser&atilde;o feitas pelos seus c&oacute;digos externos e n&atilde;o pelos seus c&oacute;digos.</P></DIR>

<B><P><A NAME="Conusu">Comando CONUSU (l&oacute;gicas <I>batch</I>, <I>on-line</I> ou sub-rotina) </P></a>
</B><P>Este comando gera comandos para obten&ccedil;&atilde;o dos dados do usu&aacute;rio via sub-rotina SBTS05. </P>
<P>Para utilizar este comando, &eacute; necess&aacute;rio que a sub-rotina SBTS05 seja definida como recurso do programa. </P>
<P>Na tela de cadastramento de m&oacute;dulo, devem ser informados os seguintes campos:</P><DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>&nbsp;COMANDO -</B> "CONUSU". </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>ORIGEM </B>- C&oacute;digo da estrutura origem onde est&aacute; o c&oacute;digo do usu&aacute;rio (USUNUM). </P>
<P>Se a estrutura for informada sem especifica&ccedil;&atilde;o de registro, ser&aacute; assumido o registro default para o elemento. </P>
<P>Para os programas on-line n&atilde;o &eacute; necess&aacute;ria a informa&ccedil;&atilde;o do campo ORIGEM. Neste caso, o SADS gerar&aacute; como default a movimenta&ccedil;&atilde;o da vari&aacute;vel global GBL-USUNUM. </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><FONT SIZE=2>&nbsp;<B>DESTINO</B> - C&oacute;digo da estrutura destino para a qual ser&atilde;o movidos os atributos em comum com a &aacute;rea de comunica&ccedil;&atilde;o TS0501-SBTS01, que cont&eacute;m os dados do usu&aacute;rio consultado. </P>
<P>Pelo menos um dos campos ORIGEM ou DESTINO deve ser informado. </P>
<P>O campo ORIGEM sempre deve ser informado para programas <I>batch</I> e sub-rotinas, pois estes programas n&atilde;o t&ecirc;m acesso &agrave; vari&aacute;vel global GBL-USUNUM. </P>
<P>A seguir, ser&aacute; exibido um exemplo de como cadastrar o comando de m&oacute;dulo CONUSU. </P>
</FONT><pre><font size=3>                                                 <U>N.VEZES OU
COMANDO/TIPO ORIGEM  DESTINO SET ATRIBUTO INDICE N.FORMULA
</U>CONUSU PEDT0112</pre></font>
<FONT SIZE=2><P>O fonte Cobol gerado ser&aacute; o seguinte: </P>
</FONT><pre><font size=3>
127312 MOVE GBL-USUNUM          TO TS0501-USUNUM.
127412
127512 MOVE 01                  TO TS0501-OPCAO.
127612
127712 MOVE "SBTS05             TO GBL-SUB
127812
127912 CALL SISTSUBS USING TS0501-SBTS05.
128012
128112 IF TS0501-MENSAGEM GREATER SPACES
128212    MOVE SPACES           TO TS0501-REGISTRO1.
128312
128412 MOVE TS0501-USUNOM       TO DT12O-USUNOM.
128512 MOVE TS0501-MENSAGEM     TO DT12O-MENSAGEM.
128612 MOVE TS0501-OPCAO        TO DT12O-OPCAO-RED.
128712 MOVE TS0501-STATUS       TO DT12O-STATUS-RED.
128812 MOVE TS0501-USUNUM       TO DT12O-USUNUM-RED.
128912 MOVE TS0501-ETCCOD       TO DT12O-ETCCOD.
129012 MOVE TS0501-USUNIVACES   TO DT12O-USUNIVACES-RED.
129112 MOVE TS0501-USUEMP       TO DT12O-USUEMP.
129212 MOVE TS0501-USUAREA      TO DT12O-USUAREA.
129312 MOVE TS0501-USUSTA       TO DT12O-USUSTA.</pre></font>
<FONT SIZE=2><P>Observe que, se a sub-rotina SBTS05 retornar alguma mensagem em TS0501-MENSAGEM, significa que foi detectado algum erro durante a consulta. Neste caso, os dados do &uacute;ltimo usu&aacute;rio consultado ser&aacute; limpado da &aacute;rea de comunica&ccedil;&atilde;o. Este procedimento &eacute; adotado porque, em uma mesma transa&ccedil;&atilde;o, v&aacute;rios usu&aacute;rios podem ser consultados, e, entre uma chamada e outra da SBTS05, os dados do &uacute;ltimo usu&aacute;rio consultado normalmente n&atilde;o s&atilde;o limpos.</P></DIR>

<B><P><a name="Copy">Comando COPY (l&oacute;gicas </A><I>batch</I>, <I>on-line</I> ou sub-rotina)</B> </P></a>
<P>Este comando gera o comando de <I>copy</I> de <I>library</I> de <I>procedure</I>. </P>
<P>Para cadastrar o comando COPY no reposit&oacute;rio de dados do SADS, os campos abaixo devem ser preenchidos da seguinte forma: </P><DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>COMANDO</B> - "COPY". </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>Linha</B> <B>livre</B> - C&oacute;digo da <I>library</I> de <I>procedure</I> entre aspas, no padr&atilde;o SADS ("sx/y/PL/nn"). </P>
<P>Caso seja necess&aacute;rio copiar apenas parte da <I>library</I>, a sequ&ecirc;ncia desejada deve ser definida atrav&eacute;s dos comandos: FROM nnnnnn THRU mmmmmm. </P>
<P>Ap&oacute;s a defini&ccedil;&atilde;o da <I>library</I> a ser copiada e ap&oacute;s a sele&ccedil;&atilde;o da sequ&ecirc;ncia desejada, caso seja necess&aacute;rio, deve-se finalizar a linha livre por um ponto. </P>
<P>A seguir, ser&aacute; exibido um exemplo de como cadastrar o comando de m&oacute;dulo COPY:</P>
</FONT><pre><font size=3>                                                      <U>N.VEZES OU</U>                                      
<U>COMANDO/TIPO  ORIGEM  DESTINO  SET  ATRIBUTO  INDICE  N.FORMULA
</U> COPY
             "SX/Y/PL/04" FROM 250000 THRU 300000.</pre></font>
<FONT SIZE=2><P>O fonte Cobol gerado ser&aacute; o seguinte: </P>
</FONT><pre><font size=3> 100114      COPY "SX/Y/PL/04" FROM 250000 THRU 300000.</pre></font>
<FONT SIZE=2><P>Deve ser observado que o comando COPY &eacute; gerado a partir da coluna 12, de acordo com o cadastramento, precedido da constante COPY. </P></DIR>

<B><P><a name="Create">Comando CRE ou CREATE (l&oacute;gicas <I>batch</I> ou <I>on-line</I>)</B> </P></a>
<P>Este comando gera um CREATE para um <I>dataset</I>. </P>
<P>Para cadastrar o comando CRE ou CREATE no reposit&oacute;rio de dados do SADS, os campos abaixo devem ser preenchidos da seguinte forma: </P><DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>COMANDO</B> - "CRE" ou "CREATE".</A> </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>ORIGEM</B> - C&oacute;digo do <I>dataset</I> cujo registro ser&aacute; criado. </P>
<P>A seguir, ser&aacute; exibido um exemplo de como cadastrar o comando de m&oacute;dulo CREATE: </P>
</FONT><pre><font size=3>                                                     <U>N.VEZES OU
COMANDO/TIPO ORIGEM  DESTINO  SET  ATRIBUTO  INDICE  N.FORMULA
</U> CREATE      SXYB0401</pre></font>
<FONT SIZE=2><P>O fonte Cobol gerado ser&aacute; o seguinte:</P>
</FONT><pre><font size=3> 100114       CREATE SXYB04(01)
 100214       ON  EXCEPTION
 100314           GO TO 98000-00-EXCECAO-FATAL.</pre></font>
<FONT SIZE=2><P>Deve ser observado que: </P></DIR>


<UL>
<LI>A gera&ccedil;&atilde;o do comando CREATE &eacute; feita para o registro indicado. Se o <I>dataset</I> tiver tipos de registros (RECORD TYPE) e nenhum deles for informado, o CREATE ser&aacute; feito para o registro "00"; </LI>
<LI>Foi gerado o tratamento padr&atilde;o da exce&ccedil;&atilde;o para o CREATE. </LI></UL>
<DIR>

<P>Cumpre ressaltar que, na gera&ccedil;&atilde;o do fonte de um programa, caso este possua como recurso um <I>dataset</I> definido como "externo", todas as refer&ecirc;ncias aos atributos deste <I>dataset</I> ser&atilde;o feitas pelos seus c&oacute;digos externos e n&atilde;o pelos seus c&oacute;digos.</P></DIR>

<B><P><A NAME="Delete">Comando DEL ou DELETE (l&oacute;gicas <I>batch</I> ou <I>on-line</I>)</B> </P></A>
<P>Este comando gera uma sequ&ecirc;ncia de c&oacute;digo para exclus&atilde;o de um registro do <I>dataset</I>. </P>
<P>Para cadastrar o comando DEL ou DELETE no reposit&oacute;rio de dados do SADS, os campos abaixo devem ser preenchidos da seguinte forma: </P><DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>COMANDO</B> - "DEL" ou "DELETE". </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>ORIGEM</B> - C&oacute;digo do <I>dataset</I> do qual ser&aacute; exclu&iacute;do o registro. </P>
<P>A seguir, ser&aacute; exibido um exemplo de como cadastrar o comando de m&oacute;dulo DEL ou DELETE:</P>
</FONT><pre><font size=3>                                                     <U>N.VEZES OU
COMANDO/TIPO  ORIGEM  DESTINO  SET  ATRIBUTO  INDICE  N.FORMULA
</U> DELETE       SXYB04</pre></font>
<FONT SIZE=2><P>O fonte Cobol gerado ser&aacute; o seguinte:</P>
</FONT><pre><font size=3> 100114       DELETE SXYB04
 100214       ON EXCEPTION 
 100314          GO TO 98000-00-EXCECAO-FATAL.</pre></font>
<FONT SIZE=2><P>Deve ser observado que foi gerado o tratamento padr&atilde;o da exce&ccedil;&atilde;o.<Basefont size=2></P></DIR>

<B><P><A NAME="Descvd">Comando DESCVD (l&oacute;gicas <I>batch</I>, <I>on-line</I> ou sub-rotina)</B> </P></A>
<P>Este comando determina a gera&ccedil;&atilde;o de uma sequ&ecirc;ncia de c&oacute;digos para acesso &agrave; descri&ccedil;&atilde;o da vari&aacute;vel definida no reposit&oacute;rio de dados do SADS. </P>
<P>Para utilizar este comando, &eacute; necess&aacute;rio que a sub-rotina SDDS04 seja definida como recurso do programa. </P>
<P>Para cadastrar o comando DESCVD no reposit&oacute;rio de dados do SADS, os campos abaixo devem ser preenchidos da seguinte forma: </P><DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>COMANDO</B> - "DESCVD". </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>ORIGEM</B> - C&oacute;digo da estrutura de origem que cont&eacute;m o c&oacute;digo a ser descodificado e a partir do qual ser&aacute; feita a pesquisa da descri&ccedil;&atilde;o da vari&aacute;vel definida. </P>
<P>Se a estrutura for informada sem especifica&ccedil;&atilde;o de registro, ser&aacute; assumido o registro <I>default</I> para o elemento. </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>DESTINO</B> - C&oacute;digo da linha do relat&oacute;rio ou arquivo que receber&aacute; a descri&ccedil;&atilde;o da vari&aacute;vel definida. </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>ATRIBUTO</B> - C&oacute;digo do atributo que esteja definido no reposit&oacute;rio de dados como vari&aacute;vel definida (Sintaxe = "VD"). </P>
<P>O atributo informado deve existir tanto na estrutura de origem quanto na de destino. </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>INDICE</B> - Indicador de indexa&ccedil;&atilde;o de ocorr&ecirc;ncias na estrutura origem e destino. </P>
<P>O preenchimento deste campo e a gera&ccedil;&atilde;o dos programas a partir deste preenchimento est&atilde;o detalhadamente explicados anteriormente no t&oacute;pico referente a "Cadastramento de m&oacute;dulos de processamento". </P>
<P>Pode assumir os seguintes valores: </P><DIR>

</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"O" - Para indexar atributos da origem que apresentarem ocorr&ecirc;ncias em suas estruturas; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"D" - Para indexar atributos do destino que apresentarem ocorr&ecirc;ncias. </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"A" - Para indexar atributos que apresentarem ocorr&ecirc;ncias em sua estrutura de origem e de destino; </P></DIR>

<P>Caso o indicador de &iacute;ndice n&atilde;o seja informado, n&atilde;o ser&atilde;o considerados os atributos da origem e do destino que apresentarem ocorr&ecirc;ncias em sua estrutura. </P>
<P>A seguir, ser&aacute; exibido um exemplo de como cadastrar o comando de m&oacute;dulo DESCVD: </P>
</FONT><pre><font size=3>                                                      <U>N.VEZES OU
COMANDO/TIPO  ORIGEM  DESTINO  SET  ATRIBUTO  INDICE  N.FORMULA
</U> DESCVD      SXYB0400  SXYR01  05   PRJSEXO</pre></font>
<FONT SIZE=2><P>O fonte Cobol gerado ser&aacute; o seguinte:</P>
</FONT><pre><font size=3>  100114      MOVE Y0400-PRJSEXO            TO DS0401-VLDOPDO-1.
  100214      MOVE "PRJSEXO     "           TO DS0401-ATRCODIDE.
  100314      MOVE "SXY"                    TO DS0401-SISCOD.
  100414 
  100514      CALL "SDDS04 OF SDDS04" USING DS0401-SDDS04.
  100614 
  100714      IF DS0401-STATUS GREATER 0 
  100814         MOVE SPACES                TO DS0401-VLDDESOPDO.
  100914 
  101014       MOVE DS0401-VLDDESOPDO       TO Y010-05-PRJSEXO.</pre></font>
<FONT SIZE=2><P>Deve ser observado que o comando DESCVD busca a descri&ccedil;&atilde;o da vari&aacute;vel definida atrav&eacute;s do acesso &agrave; sub-rotina SDDS04 e comp&otilde;e o atributo de destino. </P>
<P>Cumpre ressaltar que, na gera&ccedil;&atilde;o do fonte de um programa, caso este possua como recurso um dataset definido como "externo", todas as refer&ecirc;ncias aos atributos deste dataset ser&atilde;o feitas pelos seus c&oacute;digos externos e n&atilde;o pelos seus c&oacute;digos.</P></DIR>

<B><P><A NAME="Dmsbot">Comando DMSBOT (l&oacute;gicas <I>batch</I> ou <I>on-line</I>)</B> </P></A>
<P>Este comando gera a chamada ao procedimento de BEGIN TRANSACTION. </P>
<P>Para cadastrar o comando DMSBOT no reposit&oacute;rio de dados do SADS, o campo abaixo deve ser preenchido da seguinte forma: </P><DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>COMANDO</B> - "DMSBOT". </P>
<P>Na gera&ccedil;&atilde;o do fonte Cobol para o comando, ser&aacute; gerada uma chamada (PERFORM) &agrave; rotina de BEGIN TRANSACTION. </P>
<P>A seguir, ser&aacute; exibido um exemplo de como cadastrar o comando de m&oacute;dulo DMSBOT:</P>
</FONT><pre><font size=3>                                                      <U>N.VEZES OU
COMANDO/TIPO  ORIGEM  DESTINO  SET  ATRIBUTO  INDICE  N.FORMULA
</U> DMSBOT</pre></font>
<FONT SIZE=2><P>O fonte Cobol gerado ser&aacute; o seguinte: </P>
</FONT><pre><font size=3>
 100114     PERFORM 91000-00-DMS-BOT THRU 91000-99-EXIT.</pre></font></DIR>

<B><FONT SIZE=2><P><A NAME="Dmseot">Comando DMSEOT (l&oacute;gicas <I>batch</I> ou <I>on-line</I>)</B> </P></A>
<P>Este comando gera a chamada ao procedimento de END TRANSACTION. </P>
<P>Para cadastrar o comando DMSEOT no reposit&oacute;rio de dados do SADS, o campo abaixo deve ser preenchido da seguinte forma: </P><DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>COMANDO</B> - "DMSEOT". </P>
<P>Na gera&ccedil;&atilde;o do fonte Cobol para o comando, ser&aacute; gerada uma chamada (PERFORM) &agrave; rotina de END TRANSACTION. </P>
<P>A seguir, ser&aacute; exibido um exemplo de como cadastrar o comando de m&oacute;dulo DMSEOT:</P>
</FONT><pre><font size=3>                                                      <U>N.VEZES OU
COMANDO/TIPO  ORIGEM  DESTINO  SET  ATRIBUTO  INDICE  N.FORMULA
</U>DMSEOT</pre></font>
<FONT SIZE=2><P>Na gera&ccedil;&atilde;o do fonte Cobol, tem-se:</P>
</FONT><pre><font size=3> 100114         PERFORM 92000-00-DMS-EOT THRU 92000-99-EXIT.</pre></font></DIR>

<B><FONT SIZE=2><P><A NAME="Comado">Comando DO (l&oacute;gicas <I>batch</I>, <I>on-line</I> ou sub-rotina)</B> </P></A>
<P>O comando DO &eacute; respons&aacute;vel por gerar uma rotina - par&aacute;grafo - que ser&aacute; chamada atrav&eacute;s do comando Cobol PERFORM. </P>
<P>O comando de m&oacute;dulo DO &eacute; determinado pelo par de comandos DO/END, sendo que entre eles deve existir um ou mais comandos de m&oacute;dulo, que ir&atilde;o compor a rotina. </P>
<P>O comando END tem por fun&ccedil;&atilde;o determinar o t&eacute;rmino dos comandos pertencentes ao DO. </P>
<P>O limite m&aacute;ximo de comandos DO &eacute; de 45 (quarenta e cinco) por m&oacute;dulo e 60 (sessenta) por programa. </P>
<P>Para cadastrar o comando DO no reposit&oacute;rio de dados do SADS, os campos abaixo devem ser preenchidos da seguinte forma: </P><DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>COMANDO</B> - "DO". </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>TIPO</B> - Indicador de gera&ccedil;&atilde;o do ponto ao final do comando PERFORM, que pode assumir o seguinte valor: </P><DIR>

</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"N" - Para que n&atilde;o seja gerado o ponto (".") ao final do comando PERFORM. </P>
<P>Caso o tipo n&atilde;o seja informado, ser&aacute; gerado o ponto (".") ao final do comando PERFORM. </P></DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>ORIGEM - </B>Nome do comando DO, que &eacute; composto de, no m&aacute;ximo, dez caracteres. </P>
<P>Este nome ir&aacute; compor o label do par&aacute;grafo gerado. </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>DESTINO</B> - C&oacute;digo da tela em que exista ocorr&ecirc;ncias. </P>
<P>Neste caso, a rotina ser&aacute; executada o n&uacute;mero de vezes correspondente ao n&uacute;mero de ocorr&ecirc;ncias definido para a primeira tabela cadastrada na estrutura da tela informada. </P>
<P>Para implementar o <I>loop</I> de ocorr&ecirc;ncias, ser&aacute; utilizado o &iacute;ndice IND-ssstmmnn, onde "ssstmmnn" &eacute; o c&oacute;digo da tela pertencente &agrave; l&oacute;gica do programa. Esta vari&aacute;vel de &iacute;ndice &eacute; gerada pelo SADS na <I>working storage section</I> do programa e &eacute; inicializada com o n&uacute;mero de ocorr&ecirc;ncias da primeira tabela encontrada na estrutura da referida tela. </P>
<P>O campo DESTINO e N. VEZES s&atilde;o mutuamente exclusivos, somente um dos dois deve ser informado. </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>N. VEZES</B> - N&uacute;mero de vezes que a rotina ser&aacute; executada. </P>
<P>Pode assumir os seguintes valores: </P><DIR>

<P>"99" - Para que a rotina seja executada at&eacute; que o campo de controle EOF-nnnmm seja igual a HIGH-VALUES. </P></DIR>

<P>Desta forma, o comando gerado &eacute; um PERFORM UNTIL EOF: </P><DIR>

<P>PERFORM nnnmm-00-&lt;nome com. DO&gt; THRU nnnmm-99-EXIT </P><DIR>

<P>UNTIL EOF-nnnmm EQUAL HIGH-VALUES.</P></DIR>
</DIR>

<P>Neste caso, o campo EOF-nnnmm ser&aacute; composto no tratamento de exce&ccedil;&atilde;o - notfound - do comando de acesso cadastrado entre o comando DO e o END, se houver, onde "nnn" &eacute; o n&uacute;mero do m&oacute;dulo e "mm", o n&uacute;mero do comando DO. </P>
<P>De "02" a "98" - Para que a rotina seja executada o n&uacute;mero de vezes informado. </P>
<P>Desta forma, o comando gerado ser&aacute; um PERFORM VARYING, de acordo com o &iacute;ndice da rotina: </P><DIR>

<P>PERFORM nnnmm-00-&lt;nome com. DO&gt; THRU nnnmm-99-EXIT </P><DIR>
<DIR>

<P>VARYING IND-nnnmm FROM 1 BY 1 UNTIL </P>
<P>IND-nnnmm GREATER "numero de vezes"; </P></DIR>
</DIR>
</DIR>

<P>sendo que, no c&oacute;digo do &iacute;ndice "IND-nnnmm", "nnn" &eacute; o n&uacute;mero do m&oacute;dulo e "mm", o n&uacute;mero do DO. </P>
<P>Caso o n&uacute;mero de vezes n&atilde;o seja informado, a rotina ser&aacute; executada uma &uacute;nica vez e, desta forma, o SADS ir&aacute; gerar um perform simples: </P><DIR>

<P>PERFORM nnnmm-00-&lt;nome com. DO&gt; THRU nnnmm-99-EXIT;</P></DIR>

<P>A seguir, ser&aacute; exibido um exemplo de como cadastrar o comando de m&oacute;dulo DO:</P>
</FONT><pre><font size=3>                                                <U>N.VEZES OU
COMANDO/TIPO ORIGEM DESTINO SET ATRIBUTO INDICE N.FORMULA
</U>COMENT
             EXEMPLO DE TRES COMANDOS DO/END
DO           EXTERNO 
DO           TESTE-UM                       99 
FIND     N   SXYB0400 A NENHUM 
END          TESTE-UM 
DO           TESTE-DOIS                     15
MOVE         SXYB0400 SXYT0114 D  
END          TESTE-DOIS 
COMENT 
             TESTE-UM E TESTE-DOIS PERTENCEM A ROT. EXTERNO
COMENT 
             PORTANTO PODE-SE TER UM "DO" INTERNO A OUTRO
END EXTERNO 
COMENT 
             ESTE COMANDO NAO PERTENCE A NENHUM COMANDO DO</pre></font>
<FONT SIZE=2><P>O fonte Cobol gerado ser&aacute; o seguinte: </P>
</FONT><pre><font size=3>
100014  36014-00-COMPOE-DETALHE.
100014
100114*     EXEMPLO DE TRES COMANDOS DO/END
100214
100314      PERFORM 36110-00-EXTERNO THRU 36110-99-EXIT.
100414 
100514*     ESTE COMANDO NAO PERTENCE A NENHUM COMANDO DO.
100614
100714  36014-99-EXIT.
100814      EXIT. 
100914  36110-00-EXTERNO.
101014
101114      PERFORM 36120-00-TESTE-UM THRU 36120-99-EXIT
101214              UNTIL EOF-36120 EQUAL HIGH-VALUES.
101314
101414      PERFORM 36130-00-TESTE-DOIS THRU 36130-99-EXIT
101514              VARYING IND-36130 FROM 1 BY 1
101614              UNTIL IND-36130 GREATER 15.
101714
101814*     TESTE-UM E TESTE-DOIS PERTENCEM A ROT. EXTERNO
101914*     PORTANTO PODE-SE TER UM "DO" INTERNO A OUTRO
102014
102114  36110-99-EXIT.
102214      EXIT.
102314  36120-00-TESTE-UM.
102414
102514      FIND NEXT SXYB04A
102614      ON EXCEPTION
102714         IF DMSTATUS(NOTFOUND)
102814            MOVE HIGH-VALUES TO EOF-SXYB04
102914            MOVE HIGH-VALUES TO EOF-36120
103014            GO TO 36120-99-EXIT
103114         ELSE
103214            GO TO 98000-00-EXCECAO-FATAL.
103314
103414  36120-99-EXIT.
103514      EXIT.
103614  36130-00-TESTE-DOIS.
103714
103814      MOVE Y0400-ATVCOD TO YT14O-ATVCOD-RED(IND-GER).
103914      MOVE Y0400-PRJCOD TO YT14O-PRJCOD-RED(IND-GER).
104114      MOVE Y0400-ATVNOM TO YT14O-ATVNOM(IND-GER).
104114
104214  36130-99-EXIT.
104314      EXIT.</pre></font>
<FONT SIZE=2><P>Deve ser observado no exemplo anterior que:</P></DIR>


<UL>
<LI>A numera&ccedil;&atilde;o dos par&aacute;grafos &eacute; crescente e varia dependendo da hierarquia existente entre eles; </LI>
<LI>Foi gerado o tratamento padr&atilde;o de exce&ccedil;&atilde;o no acesso; </LI>
<LI>O &iacute;ndice e o controle de EOF relativos aos comandos DO herdam sua sequ&ecirc;ncia. </LI></UL>
<DIR>

<P>Cumpre ressaltar que, na gera&ccedil;&atilde;o do fonte de um programa, caso este possua como recurso um <I>dataset</I> definido como "externo", todas as refer&ecirc;ncias aos atributos deste <I>dataset</I> ser&atilde;o feitas pelos seus c&oacute;digos externos e n&atilde;o pelos seus c&oacute;digos.</P></DIR>

<B><P><A NAME="Comend">Comando END (l&oacute;gicas <I>batch</I>, <I>on-line</I> ou sub-rotina)</B> </P></A>
<P>Este comando &eacute; utilizado para determinar o encerramento dos comandos de m&oacute;dulo internos &agrave; rotina definida pelo comando DO. </P>
<P>Para cadastrar o comando END no reposit&oacute;rio de dados do SADS, os campos abaixo devem ser preenchidos da seguinte forma: </P><DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>COMANDO</B> - "END". </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>ORIGEM</B> - Nome do comando DO (composto de, no m&aacute;ximo, dez caracteres) que originou o comando END (opcional). </P>
<P>Este nome &eacute; utilizado apenas para melhorar a visualiza&ccedil;&atilde;o de in&iacute;cio e fim da rotina, pois n&atilde;o &eacute; considerado pelo SADS. Isto porque, no momento de gera&ccedil;&atilde;o do programa, vale apenas a ordem com que os comandos END est&atilde;o cadastrados, da seguinte forma: cada comando END encerrar&aacute; o comando DO anteriormente mais pr&oacute;ximo que ainda n&atilde;o tenha nenhum END correspondente. </P>
<P>A seguir, ser&aacute; exibido um exemplo de como cadastrar o comando de m&oacute;dulo END:</P>
</FONT><pre><font size=3>                                                      <U>N.VEZES OU
COMANDO/TIPO  ORIGEM  DESTINO  SET  ATRIBUTO  INDICE  N.FORMULA
</U>END           TESTE </pre></font>
<FONT SIZE=2><P>Este comando &eacute; utilizado para marcar o fim do comando DO, n&atilde;o sendo gerado nada a partir dele.</P></DIR>

<B><P><A NAME="Edit">Comando EDIT (l&oacute;gicas <I>batch</I>, <I>on-line</I> ou sub-rotina)</B> </P></A>
<P>Atrav&eacute;s deste comando, torna-se poss&iacute;vel ao usu&aacute;rio definir uma sequ&ecirc;ncia qualquer de comandos em Cobol a serem inseridos, tal e qual cadastrados, no fonte do programa. </P>
<P>Podem existir determinados comandos do programa que n&atilde;o s&atilde;o gerados, da maneira como se deseja, pelos comandos de m&oacute;dulo oferecidos pelo SADS. Desta forma, torna-se necess&aacute;rio incluir no fonte do programa diretamente comandos em Cobol. Isto pode ser feito de duas formas: </P>

<UL>
<LI>Cadastrando cada comando em Cobol a ser inserido no programa atrav&eacute;s de comando de m&oacute;dulo COB; </LI>
<LI>Cadastrando todos os comandos em Cobol atrav&eacute;s de um &uacute;nico comando de m&oacute;dulo, que &eacute; o EDIT.</LI></UL>

<P>Atrav&eacute;s do cadastramento do comando EDIT no m&oacute;dulo, que &eacute; identificado por um nome, define-se a localiza&ccedil;&atilde;o no programa onde ser&aacute; inserido o trecho com comandos Cobol. Depois, ap&oacute;s a finaliza&ccedil;&atilde;o do cadastramento do m&oacute;dulo, o SADS apresenta uma tela inicial para cadastramento do comando EDIT, dispondo de 21 linhas para codifica&ccedil;&atilde;o dos comandos em Cobol. Caso necess&aacute;rio, outras telas poder&atilde;o ser encadeadas para continua&ccedil;&atilde;o da codifica&ccedil;&atilde;o. </P>
<P>Para cadastrar o comando EDIT no reposit&oacute;rio de dados do SADS, os campos abaixo devem ser preenchidos da seguinte forma: </P><DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>COMANDO</B> - "EDIT". </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>ORIGEM</B> - Nome do comando EDIT, que &eacute; composto de, no m&aacute;ximo, dez caracteres. </P>
<P>Pode-se informar o nome "ENCADEAR" para o comando EDIT a fim de que o SADS abra uma tela contendo alguns comandos j&aacute; codificados que ser&atilde;o utilizados para encadeamento de uma pr&oacute;xima transa&ccedil;&atilde;o, quais sejam: </P>
</FONT><pre><font size=3>
 -----&gt;    * 
 -----&gt;    *  SALVAR CAMPOS DE INPUT NECESSARIOS 
 -----&gt;    *
 -----&gt;
 -----&gt;          MOVE SPACES TO MENSAGEM 

 -----&gt;
 -----&gt;    * 
 -----&gt;    *  COMPOR CAMPOS DE INPUT DO MENU A SER DISPARADO
 -----&gt;    * 
 -----&gt;
 -----&gt;          MOVE NNNN TO H-TAMANHO 
 -----&gt;          MOVE 9 TO GBL-STATUS. 
 -----&gt;          GO TO 99000-99-EXIT-PROGRAM. 
 -----&gt; </pre></font>
<FONT SIZE=2><P>A seguir, ser&aacute; exibido um exemplo de como cadastrar o comando de m&oacute;dulo EDIT:</P>
</FONT><pre><font size=3>                                                      <U>N.VEZES OU
COMANDO/TIPO  ORIGEM  DESTINO  SET  ATRIBUTO  INDICE  N.FORMULA
</U> EDIT         ROT-TESTE </pre></font>
<FONT SIZE=2><P>Ap&oacute;s a finaliza&ccedil;&atilde;o da transa&ccedil;&atilde;o de cadastramento do m&oacute;dulo, ser&aacute; apresentada uma tela para cadastramento do comando EDIT, dispondo de 21 linhas para codificar os comandos em Cobol. </P>
<P>Caso necess&aacute;rio, outras telas poder&atilde;o ser encadeadas para continua&ccedil;&atilde;o da codifica&ccedil;&atilde;o. Para propiciar este encadeamento, &eacute; apresentado o campo CONTINUA, com as seguintes possibilidades de preenchimento: </P><DIR>

</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"A" - Avan&ccedil;a para a pr&oacute;xima p&aacute;gina; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"V" - Volta para a p&aacute;gina anterior; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"R" - Restaura a p&aacute;gina atual, desconsiderando as altera&ccedil;&otilde;es efetuadas; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"I" - Inclui nova p&aacute;gina; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"N" - N&atilde;o continua - Encerra o cadastramento do comando EDIT.</P></DIR>

<P>A seguir, ser&aacute; exibido um exemplo de como cadastrar os comandos em Cobol no m&oacute;dulo EDIT: </P>
</FONT><pre><font size=3>
 -----&gt;       MOVE GBL-EMPCOD           TO Y0400-EMPRESA.
 -----&gt;       ADD 1 TO WSS-TOTACM.
 -----&gt;*      ESTE E UM EXEMPLO DE COMO CADASTRAR COMANDOS EDIT
 -----&gt;       SUBTRACT WSS-TOTFUNC FROM WSS-TOTGER.</pre></font>
<FONT SIZE=2><P>O fonte Cobol gerado ser&aacute; o seguinte: </P>
</FONT><pre><font size=3>
 110114          MOVE GBL-EMPCOD           TO Y0400-EMPRESA.
 110214          ADD 1                     TO WSS-TOTACM.
 110314*         ESTE E UM EXEMPLO DE COMO CADASTRAR COMANDOS EDIT
 110414          SUBTRACT WSS-TOTFUNC FROM WSS-TOTGER. </pre></font>
<FONT SIZE=2><P>Deve ser observado que os comandos foram gerados exatamente como foram cadastrados. Isto constitui regra geral para o comando EDIT.</P></DIR>

<B><P><A NAME="Exclui">Comando EXC ou EXCLUI (l&oacute;gicas <I>batch</I> ou <I>on-line</I>)</B> </P></A>
<P>Este comando gera uma sequ&ecirc;ncia de c&oacute;digos para exclus&atilde;o de um registro do <I>dataset</I>. </P>
<P>Para cadastrar o comando EXC ou EXCLUI no reposit&oacute;rio de dados do SADS, os campos abaixo devem ser preenchidos da seguinte forma: </P><DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>COMANDO</B> - "EXC" ou "EXCLUI". </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>TIPO</B> - Tipo de acesso ao registro que ser&aacute; exclu&iacute;do. </P>
<P>Pode assumir os seguintes valores:</P><DIR>

</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"F" - Para obter acesso ao primeiro registro: LOCK FIRST; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"N" - Para obter acesso ao pr&oacute;ximo registro: LOCK NEXT; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"L" - Para obter acesso ao &uacute;ltimo registro: LOCK LAST; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"P" - Para obter acesso ao registro anterior: LOCK PRIOR.</P></DIR>

<P>Caso o tipo n&atilde;o seja informado, ser&aacute; gerado um acesso puro: LOCK. </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>ORIGEM - </B>C&oacute;digo da estrutura de origem a partir da qual ser&aacute; composta a chave de acesso ao dataset. </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>DESTINO</B> - C&oacute;digo do <I>dataset</I> que ter&aacute; o registro exclu&iacute;do. </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>SET</B> - C&oacute;digo da estrutura DMSII (<I>set</I>, <I>subset</I> ou <I>access</I>) de acesso ao <I>dataset</I> informado no destino. </P>
<P>Para obter acesso direto ao <I>dataset</I>, este campo n&atilde;o deve ser preenchido. </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>ATRIBUTO</B> - C&oacute;digo do &uacute;ltimo atributo para acesso &agrave; estrutura DMSII. </P>
<P>Pode assumir os seguintes valores: </P><DIR>

</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"&lt;C&oacute;digo do &uacute;ltimo atributo&gt;" - Para obter acesso com chave parcial, at&eacute; este atributo limite; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"NENHUM" - Para n&atilde;o qualificar a chave de acesso &agrave; estrutura DMSII.</P></DIR>

<P>Caso este campo n&atilde;o seja informado, ser&aacute; assumido pelo SADS que o acesso ser&aacute; com a chave completa, ou seja, com todos os atributos da chave. </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>INDICE</B> - Indicador de indexa&ccedil;&atilde;o de ocorr&ecirc;ncias nas estruturas origem e destino. </P>
<P>Observar explica&ccedil;&atilde;o para o campo INDICE no t&oacute;pico referente a "Cadastramento de m&oacute;dulos de processamento". </P>
<P>Pode assumir os seguintes valores: </P><DIR>

</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"O" - Para indexar os atributos da origem que apresentarem ocorr&ecirc;ncias em suas estruturas; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"D" - Para indexar os atributos do destino que apresentarem ocorr&ecirc;ncias em suas estruturas; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"A" - Para indexar os atributos da origem e do destino que apresentarem ocorr&ecirc;ncias em suas estruturas.</P></DIR>

<P>Caso este campo n&atilde;o seja informado, n&atilde;o ser&atilde;o consideradas as ocorr&ecirc;ncias da estrutura determinada nos campos ORIGEM e DESTINO, tamb&eacute;m conforme explicado anteriormente, no t&oacute;pico referente a "Cadastramento de m&oacute;dulos de processamento". </P>
<P>A seguir, ser&aacute; exibido um exemplo de como cadastrar o comando de m&oacute;dulo EXC ou EXCLUI: </P>
</FONT><pre><font size=3>                                                   <U>N.VEZES OU
COMANDO/TIPO  ORIGEM  DESTINO SET ATRIBUTO INDICE  N.FORMULA
</U>
EXCLUI F   SXYT0114  SXYB0400  A  PRJCOD     O</pre></font>
<FONT SIZE=2><P>O fonte Cobol gerado ser&aacute; o seguinte: </P>
</FONT><pre><font size=3>
 100114       MOVE YT14I-ATVCOD             TO Y04A-ATVCOD. 
 100214       MOVE YT14I-PRJCOD(IND-GER)    TO Y04A-PRJCOD.
 100314 
 100414       LOCK FIRST SXYB04A AT
 100514               Y0400-ATVCOD           = Y04A-ATVCOD
 100614           AND Y0400-PRJCOD           = Y04A-PRJCOD
 100714       ON  EXCEPTION
 100814           IF  DMSTATUS(NOTFOUND)
 100914               MOVE HIGH-VALUES       TO EOF-SXYB04
 101014               GO TO 36014-99-EXIT
 101114           ELSE
 101214               GO TO 98000-00-EXCECAO-FATAL.
 101314
 101414       DELETE SXYB04
 101514       ON  EXCEPTION 
 101614           GO TO 98000-00-EXCECAO-FATAL.</pre></font>
<FONT SIZE=2><P>Devem ser observados: </P></DIR>


<UL>

<UL>
<LI>A composi&ccedil;&atilde;o dos campos da chave de acesso a partir da origem obedecendo a indica&ccedil;&atilde;o de indexa&ccedil;&atilde;o; </LI>
<LI>O tratamento padr&atilde;o de exce&ccedil;&atilde;o para o acesso e para a exclus&atilde;o. </LI></UL>
</UL>
<DIR>

<P>Cumpre ressaltar que, na gera&ccedil;&atilde;o do fonte de um programa, caso este possua como recurso um <I>dataset</I> definido como "externo", todas as refer&ecirc;ncias aos atributos deste <I>dataset </I>ser&atilde;o feitas pelos seus c&oacute;digos externos e n&atilde;o pelos seus c&oacute;digos.</P></DIR>

<B><P><A NAME="Excec">Comando EXCEC (l&oacute;gicas <I>batch</I>, <I>on-line</I> ou sub-rotina)</B> </P></A>
<P>Este comando &eacute; utilizado para determinar sequ&ecirc;ncias de c&oacute;digo Cobol que ir&atilde;o substituir os comandos de tratamento de exce&ccedil;&atilde;o padr&atilde;o para estruturas DMSII e arquivos convencionais gerados pelo SADS. </P>
<P>Ele pode ser cadastrado ap&oacute;s comandos que tratam estruturas DMSII ou ap&oacute;s comandos que executam acesso a arquivos convencionais, para substituir o tratamento de exce&ccedil;&atilde;o que seria normalmente gerado pelo SADS nestes comandos. </P>
<P>O tratamento de exce&ccedil;&atilde;o padr&atilde;o gerado pelo SADS para acesso aos <I>datasets</I> &eacute; o seguinte: </P><DIR>

<P>- Para acessos que testam a exist&ecirc;ncia do elemento: </P>
</FONT><pre><font size=3>
 100114        ON EXCEPTION
 100214        IF DMSTATUS(NOTFOUND)
 100314           MOVE 1                        TO GBL-ERRO
 100414           STRING &lt;Nome dodatasetgt; DELIMITED SIZE
 100514                  " INEXISTENTE" INTO GBL-MENSAGEM
 100614           GO TO 99000-99-EXIT-PROGRAM
 100714        ELSE
 100814           DISPLAY "PRG = (usercode)ss/s/xF/nn"
 100914           DISPLAY "NUMERO DE SEQUENCIA mmmmm"
 101014           GO TO 98000-00-EXCECAO-FATAL.</pre></font>
<FONT SIZE=2><P>Nos programas com l&oacute;gica de atualiza&ccedil;&atilde;o simples ou paginada, caso o elemento pesquisado perten&ccedil;a a um grupo de ocorr&ecirc;ncias, ser&aacute; informado o n&uacute;mero da ocorr&ecirc;ncia testada junto &agrave; mensagem de erro, da seguinte forma: </P>
</FONT><pre><font size=3> 100114        ON EXCEPTION
 100214        IF DMSTATUS(NOTFOUND)
 100314           MOVE 1                        TO GBL-ERRO
 100414           MOVE IND-GER                  TO IND-GERMSG
 100514           STRING  &lt;Nome do <I>dataset</I>&gt;
 100614                   " INEXISTENTE - " IND-GERMSG
 100714           DELIMITED SIZE INTO GBL-MENSAGEM
 100814           GO TO 99000-99-EXIT-PROGRAM
 100914        ELSE
 101014           DISPLAY "PRG = (Iusercode)ss/s/xF/nn"
 101114           DISPLAY "NUMERO DE SEQUENCIA mmmmm"
 101214           GO TO 98000-00-EXCECAO-FATAL.</pre></font>
<FONT SIZE=2><P>-Para acessos que testam a inexist&ecirc;ncia do elemento: </P>
</FONT><pre><font size=3> 100114        ON EXCEPTION
 100214        IF DMSTATUS(NOTFOUND)
 100314           GO TO &lt;Num. parag. &gt;-99-EXIT
 100414        ELSE
 100514           DISPLAY "PRG = (<I>usercode</I>)ss/s/xF/nn"
 100614           DISPLAY "NUMERO DE SEQUENCIA mmmmm"
 100714           GO TO 98000-00-EXCECAO-FATAL.
 100814 
 100914        MOVE 1         TO GBL-ERRO
 101014        STRING &lt;Nome do <I>dataset</I>&gt; DELIMITED SIZE
 101114               " EXISTENTE" INTO GBL-MENSAGEM
 101214        GO TO 99000-99-EXIT-PROGRAM.
 101314</pre></font>
<FONT SIZE=2><P>Nos programas com l&oacute;gica de atualiza&ccedil;&atilde;o simples ou paginada, caso o elemento pesquisado perten&ccedil;a a um grupo de ocorr&ecirc;ncias, ser&aacute; informado o n&uacute;mero da ocorr&ecirc;ncia testada junto &agrave; mensagem de erro, da seguinte forma: </P>
</FONT><pre><font size=3> 100114        ON EXCEPTION
 100214        IF DMSTATUS(NOTFOUND)
 100314           GO TO &lt;Num. parag.&gt;-99-EXIT
 100414        ELSE
 100514           DISPLAY "PRG = (<I>usercode</I>)ss/s/xF/nn"
 100614           DISPLAY "NUMERO DE SEQUENCIA mmmmm"
 100714           GO TO 98000-00-EXCECAO-FATAL.
 100814
 100914        MOVE 1         TO GBL-ERRO
 101014        MOVE IND-GER   TO IND-GERMSG
 101114        STRING &lt;Nome do <I>dataset</I>&gt; 
 101214               " EXISTENTE - " IND-GERMSG
 100314             DELIMITED SIZE INTO GBL-MENSAGEM
 101414        GO TO 99000-99-EXIT-PROGRAM.
 101514</pre></font>
<FONT SIZE=2><P>O tratamento padr&atilde;o gerado pelo SADS para acesso aos arquivos, tanto em programas <I>on-line</I> como <I>batch</I>, &eacute; o seguinte: </P>
<P>-Para o comando READ: </P>
</FONT><pre><font size=3> 100114        MOVE HIGH-VALUE TO EOF-sssAnn
 100214        GO TO &lt;num_parag&gt;-99-EXIT.</pre></font>
<FONT SIZE=2><P>-Para o comando WRITE: </P>
</FONT><pre><font size=3>
 100114       DISPLAY "ERRO NA GRAVACAO DO ARQUIVO sssAnn"
 100214       SET MYSELF(STATUS) TO -1.</pre></font></DIR>

<FONT SIZE=2><P>Para cadastrar o comando EXCEC no reposit&oacute;rio de dados do SADS, os campos abaixo devem ser preenchidos da seguinte forma: </P><DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>COMANDO</B> - "EXCEC". </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>ORIGEM</B> - Nome do comando EXCEC (composto de, no m&aacute;ximo, dez caracteres). </P>
<P>A seguir, ser&aacute; exibido um exemplo de como cadastrar o comando de m&oacute;dulo EXCEC: </P>
</FONT><pre><font size=3>                                                      <U>N.VEZES OU
COMANDO/TIPO  ORIGEM  DESTINO  SET  ATRIBUTO  INDICE  N.FORMULA
</U> FIND    F    SXYB04           A    NENHUM 
 EXCEC        EXCECAODMS</pre></font>
<FONT SIZE=2><P>Ap&oacute;s a finaliza&ccedil;&atilde;o da transa&ccedil;&atilde;o de cadastramento do m&oacute;dulo, ser&aacute; apresentada uma tela para cadastramento do comando EXCEC, dispondo de 21 linhas para codificar os comandos em Cobol. Esta tela j&aacute; ir&aacute; apresentar os seguintes comandos, a partir dos quais poder&atilde;o ser definidos os novos comandos desej&aacute;veis: </P>
</FONT><pre><font size=3> -----&gt;   ON EXCEPTION
 -----&gt;      IF DMSTATUS(NOTFOUND)
 -----&gt;
 -----&gt;      ELSE
 -----&gt;         GO TO 98000-00-EXCECAO-FATAL. </pre></font>
<FONT SIZE=2><P>A seguir, ser&aacute; exibido um exemplo de como cadastrar os comandos de exce&ccedil;&atilde;o no m&oacute;dulo EXCEC: </P>
</FONT><pre><font size=3> -----&gt;   ON EXCEPTION
 -----&gt;      IF DMSTATUS(NOTFOUND)
 -----&gt;      MOVE 1            TO GBL-ERRO
 -----&gt;      MOVE "REGISTRO NAO CADASTRADO"
 -----&gt;                        TO GBL-MENSAGEM
 -----&gt;      GO TO 99000-99-EXIT-PROGRAM
 -----&gt;   ELSE
 -----&gt;      GO TO 98000-00-EXCECAO-FATAL. </pre></font>
<FONT SIZE=2><P>O fonte Cobol gerado ser&aacute; o seguinte: </P>
</FONT><pre><font size=3>
 120014      FIND FIRST SXYB04A
 120114      ON EXCEPTION
 120214         IF DMSTATUS(NOTFOUND)
 120314         MOVE 1            TO GBL-ERRO
 120414         MOVE "REGISTRO NAO CADASTRADO"
 120514                           TO GBL-MENSAGEM
 120614         GO TO 99000-99-EXIT-PROGRAM
 120714      ELSE
 120814         GO TO 98000-00-EXCECAO-FATAL.</pre></font><DIR>

<FONT SIZE=2><P>Deve ser observado que os comandos em Cobol s&atilde;o gerados exatamente como foram cadastrados, em substitui&ccedil;&atilde;o aos comandos de exce&ccedil;&atilde;o <I>defaults</I> que seriam gerados para o comando FIND. </P>
<P>Cumpre ressaltar que, na gera&ccedil;&atilde;o do fonte de um programa, caso este possua como recurso um <I>dataset</I> definido como "externo", todas as refer&ecirc;ncias aos atributos deste <I>dataset</I> ser&atilde;o feitas pelos seus c&oacute;digos externos e n&atilde;o pelos seus c&oacute;digos.</P></DIR>
</DIR>


<B><P><A NAME="Except">Comando EXCEPT (l&oacute;gicas <I>batch</I>, <I>on-line</I> ou sub-rotina)</B> </P></A>
<P>Este comando &eacute; utilizado para substituir os comandos de tratamento de exce&ccedil;&atilde;o padr&atilde;o para estruturas DMSII gerados pelo SADS. </P>
<P>Ele pode ser cadastrado ap&oacute;s comandos que tratam estruturas DMSII, para substituir o tratamento de exce&ccedil;&atilde;o que seria normalmente gerado pelo SADS nestes comandos. Se utilizado o comando de acesso a estruturas DMSII, ser&aacute; gerado apenas at&eacute; o "ON EXCEPTION", inclusive, ficando a cargo do EXCEPT o restante do tratamento de exce&ccedil;&atilde;o. </P>
<P>Para cadastrar o comando EXCEPT no reposit&oacute;rio de dados do SADS, os campos abaixo devem ser preenchidos da seguinte forma: </P><DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>COMANDO</B> - "EXCEPT". </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>Linha livre</B> - O tratamento de exce&ccedil;&atilde;o a ser executado. </P>
<P>A seguir, ser&aacute; exibido um exemplo de como cadastrar o comando de m&oacute;dulo EXCEPT:</P>
</FONT><pre><font size=3>                                                      <U>N.VEZES OU
COMANDO/TIPO  ORIGEM  DESTINO  SET  ATRIBUTO  INDICE  N.FORMULA
</U> FIND    F     SXYB04           A   NENHUM 
 EXCEPT 
          IF     DMSTATUS(NOTFOUND) 
 EXCEPT 
                 MOVE 1         TO GBL-ERRO 
 EXCEPT 
                 MOVE "PEDIDO NAO CADASTRADO" 
 EXCEPT  
                                TO GBL-MENSAGEM 
 EXCEPT 
                 GO TO 99000-99-EXIT-PROGRAM 
 EXCEPT 
          ELSE 
 EXCEPT 
                 GO TO 98000-00-EXCECAO-FATAL. </pre></font>
<FONT SIZE=2><P>O fonte Cobol gerado ser&aacute; o seguinte: </P>
</FONT><pre><font size=3>
 120014   FIND FIRST SXYB04A
 120114   ON EXCEPTION
 120214      IF DMSTATUS(NOTFOUND)
 120314      MOVE 1             TO GBL-ERRO
 120414      MOVE "PEDIDO NAO CADASTRADO"
 120514                         TO GBL-MENSAGEM
 120614      GO TO 99000-99-EXIT-PROGRAM
 120714   ELSE
 120814      GO TO 98000-00-EXCECAO-FATAL. </pre></font>
<FONT SIZE=2><P>Deve ser observado que os comandos em Cobol s&atilde;o gerados exatamente como foram cadastrados, em substitui&ccedil;&atilde;o aos comandos de exce&ccedil;&atilde;o <I>defaults</I> que seriam gerados para o comando FIND. </P>
<P>Cumpre ressaltar que, na gera&ccedil;&atilde;o do fonte de um programa, caso este possua como recurso um <I>dataset</I> definido como "externo", todas as refer&ecirc;ncias aos atributos deste <I>dataset</I> ser&atilde;o feitas pelos seus c&oacute;digos externos e n&atilde;o pelos seus c&oacute;digos.</P></DIR>

<B><P><A NAME="Find">Comando FIN ou FIND (l&oacute;gicas <I>batch</I>, <I>on-line</I> ou sub-rotina)</B> </P></A>
<P>Este comando gera acesso a um <I>dataset</I> ou a um registro global do banco de dados. </P>
<P>Para cadastrar o comando FIN ou FIND no reposit&oacute;rio de dados do SADS, os campos abaixo devem ser preenchidos da seguinte forma: </P><DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>COMANDO</B> - "FIN" ou "FIND". </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>TIPO</B> - Tipo do comando FIND a ser efetuado para acesso ao <I>dataset</I>. </P>
<P>Pode assumir os seguintes valores: </P><DIR>

</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"F" - Para obter acesso ao primeiro registro: FIND FIRST; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"N" - Para obter acesso o pr&oacute;ximo registro: FIND NEXT; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"L" - Para obter acesso ao &uacute;ltimo registro: FIND LAST; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"P" - Para obter acesso ao registro anterior: FIND PRIOR.</P></DIR>

<P>Caso o tipo n&atilde;o seja informado no acesso a um datasetser&aacute; gerado pelo SADS o acesso puro: FIND. </P>
<P>O tipo n&atilde;o deve ser informado para acesso a um registro global do banco de dados. </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><FONT SIZE=2>O<B>RIGEM -</B> Estrutura de origem a partir da qual ser&aacute; composta a chave de acesso ao dataset. </P>
<P>Caso o campo ORIGEM n&atilde;o seja informado, ser&aacute; assumido que nenhuma movimenta&ccedil;&atilde;o dever&aacute; ser efetuada para a chave de acesso do <I>dataset</I> e, neste caso, a mesma poder&aacute; ser composta anteriormente, conforme necessidade, pelo pr&oacute;prio usu&aacute;rio. </P>
<P>&Eacute; aceit&aacute;vel tamb&eacute;m informar a palavra "NENHUM" para que o gerador n&atilde;o componha a chave de acesso ao <I>dataset</I>, o que &eacute; similar ao usu&aacute;rio n&atilde;o informar este campo. </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>DESTINO</B> - C&oacute;digo do <I>dataset</I> ao qual ser&aacute; executado o acesso ou c&oacute;digo do banco de dados cujo registro global ser&aacute; acessado. </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>SET</B> - C&oacute;digo da estrutura DMSII (<I>set</I>, <I>subset</I> ou <I>access</I>) para acesso ao<I> dataset</I>. </P>
<P>Para obter acesso direto ao <I>dataset</I>, este campo n&atilde;o deve ser preenchido. </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>ATRIBUTO</B> - C&oacute;digo do &uacute;ltimo atributo para acesso &agrave; estrutura DMSII. </P>
<P>Pode assumir os seguintes valores: </P><DIR>

</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"&lt;C&oacute;digo do &uacute;ltimo atributo&gt;" - Para obter acesso com chave parcial, at&eacute; este atributo limite; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"NENHUM" - Para n&atilde;o qualificar a chave de acesso.</P></DIR>

<P>Caso este campo n&atilde;o seja informado, ser&aacute; gerado o acesso com chave completa, ou seja, com todos os atributos da chave. </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>INDICE</B> - Indicador de indexa&ccedil;&atilde;o de ocorr&ecirc;ncias nas estruturas origem e destino, para acesso a <I>dataset</I>. </P>
<P>Observar explica&ccedil;&atilde;o para o campo INDICE no t&oacute;pico referente a "Cadastramento de m&oacute;dulos de processamento". </P>
<P>Pode assumir os seguintes valores: </P><DIR>

</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"O" - Para indexar os atributos da origem que apresentarem ocorr&ecirc;ncias em suas estruturas; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"D" - Para indexar os atributos do destino que apresentarem ocorr&ecirc;ncias em suas estruturas; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"A" - Para indexar os atributos da origem e do destino que apresentarem ocorr&ecirc;ncias em suas estruturas.</P></DIR>

<P>Caso este campo n&atilde;o seja informado no acesso a um dataset, n&atilde;o ser&atilde;o consideradas as ocorr&ecirc;ncias da estrutura determinada nos campos ORIGEM e DESTINO, tamb&eacute;m conforme explicado anteriormente, no t&oacute;pico referente a "Cadastramento de m&oacute;dulos de processamento". </P>
<P>A seguir, ser&aacute; exibido um exemplo de como cadastrar o comando de m&oacute;dulo FIN ou FIND para acesso a um dataset:</P>
</FONT><pre><font size=3>                                                      <U>N.VEZES OU
COMANDO/TIPO  ORIGEM  DESTINO  SET  ATRIBUTO  INDICE  N.FORMULA
</U> FIND    P    SXYT0114 SXYB0400  A   PRJCOD     O </pre></font>
<FONT SIZE=2><P>O fonte Cobol gerado ser&aacute; o seguinte:</P>
</FONT><pre><font size=3>
 100114     MOVE YT14I-ATVCOD            TO Y04A-ATVCOD.
 100214     MOVE YT14I-PRJCOD(IND-GER)   TO Y04A-PRJCOD.
 100314
 100414     FIND PRIOR SXYB04A AT 
 100514              Y0400-ATVCOD          = Y04A-ATVCOD
 100614          AND Y0400-PRJCOD          = Y04A-PRJCOD
 100714     ON EXCEPTION
 100814          IF DMSTATUS(NOTFOUND)
 100914          MOVE HIGH-VALUES TO EOF-SXYB04
 101014          GO TO 36014-99-EXIT
 101114     ELSE
 101214          GO TO 98000-00-EXCECAO-FATAL. </pre></font>
<FONT SIZE=2><P>Deve ser observado, no exemplo de gera&ccedil;&atilde;o acima: </P></DIR>


<UL>
<LI>A composi&ccedil;&atilde;o dos campos da chave de acesso ao <I>dataset</I> foi feita a partir da origem, onde &eacute; conservada a indica&ccedil;&atilde;o de indexa&ccedil;&atilde;o; </LI>
<LI>O tratamento padr&atilde;o da exce&ccedil;&atilde;o no acesso. </LI></UL>
<DIR>

<P>Cumpre ressaltar que, na gera&ccedil;&atilde;o do fonte de um programa, caso este possua como recurso um <I>dataset</I> definido como "externo", todas as refer&ecirc;ncias aos atributos deste <I>dataset</I> ser&atilde;o feitas pelos seus c&oacute;digos externos e n&atilde;o pelos seus c&oacute;digos.</P></DIR>

<B><P><A NAME="Findko">Comando FINDKO (l&oacute;gicas <I>batch</I>, <I>on-line</I> ou sub-rotina)</B> </P></A>
<P>Este comando gera acesso a uma estrutura DMSII (<I>set</I>, <I>subset</I> ou <I>access</I>), com o objetivo &uacute;nico de verificar a exist&ecirc;ncia de um registro. </P>
<P>Para cadastrar o comando FINDKO no reposit&oacute;rio de dados do SADS, os campos abaixo devem ser preenchidos da seguinte forma: </P><DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>COMANDO</B> - "FINDKO". </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>TIPO</B> - Tipo do comando FIND KEY OF a ser efetuado. </P>
<P>Pode assumir os seguintes valores: </P><DIR>

</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"F" - Para obter acesso ao primeiro registro FIND KEY OF FIRST; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"N" - Para obter acesso ao pr&oacute;ximo registro: FIND KEY OF NEXT; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"L" - Para obter acesso ao &uacute;ltimo registro: FIND KEY OF LAST; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"P" - Para obter acesso ao registro anterior: FIND KEY OF PRIOR.</P></DIR>

<P>Caso o tipo n&atilde;o seja informado, ser&aacute; gerado o acesso puro: FIND KEY OF. </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>ORIGEM </B>- C&oacute;digo da estrutura de origem a partir da qual ser&aacute; composta a chave de acesso ao dataset. </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>DESTINO </B>- C&oacute;digo do dataset a cuja chave foi feito o acesso<B>. </P>
</B></FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>SET</B> - C&oacute;digo da estrutura DMSII (<I>set</I>, <I>subset</I> ou <I>access</I>) para acesso ao <I>dataset</I>. </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>ATRIBUTO</B> - C&oacute;digo do &uacute;ltimo atributo para acesso &agrave; estrutura DMSII. </P>
<P>Pode assumir os seguintes valores: </P><DIR>

</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"&lt;C&oacute;digo do &uacute;ltimo atributo&gt;" - Para obter acesso com chave parcial, at&eacute; este atributo limite; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"NENHUM" - Para n&atilde;o qualificar a chave de acesso.</P></DIR>

<P>Caso este campo n&atilde;o seja informado, o SADS ir&aacute; gerar o acesso com chave completa, ou seja, com todos os atributos da chave. </P>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>INDICE</B> - Indicador de indexa&ccedil;&atilde;o de ocorr&ecirc;ncias nas estruturas origem e destino. </P>
<P>Observar explica&ccedil;&atilde;o para o campo INDICE no t&oacute;pico referente a "Cadastramento de m&oacute;dulos de processamento". </P>
<P>Pode assumir os seguintes valores: </P><DIR>

</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"O" - Para indexar os atributos da origem que apresentarem ocorr&ecirc;ncias em suas estruturas; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"D" - Para indexar os atributos do destino que apresentarem ocorr&ecirc;ncias em suas estruturas; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"A" - Para indexar os atributos da origem e do destino que apresentarem ocorr&ecirc;ncias em suas estruturas.</P></DIR>

<P>Caso este campo n&atilde;o seja informado, n&atilde;o ser&atilde;o consideradas as ocorr&ecirc;ncias da estrutura determinada nos campos ORIGEM e DESTINO, tamb&eacute;m conforme explicado anteriormente, no t&oacute;pico referente a "Cadastramento de m&oacute;dulos de processamento". </P>
<P>A seguir, ser&aacute; exibido um exemplo de como cadastrar o comando de m&oacute;dulo FINDKO: </P>
</FONT><pre><font size=3>                                                      <U>N.VEZES OU
COMANDO/TIPO  ORIGEM  DESTINO  SET  ATRIBUTO  INDICE  N.FORMULA
</U> FINDKO  F     SXYT0114 SXYB0400 A   ATVCOD </pre></font>
<FONT SIZE=2><P>O fonte Cobol gerado ser&aacute; o seguinte:</P>
</FONT><pre><font size=3>100114      MOVE YT14I-ATVCOD          TO Y04A-ATVCOD.
100214 
100314      FIND KEY OF FIRST SXYB04A AT
100414              Y0400-ATVCOD             = Y04A-ATVCOD
100514      ON EXCEPTION
100614         IF DMSTATUS(NOTFOUND)
100714         MOVE 1                  TO GBL-ERRO
100814         MOVE "REGISTRO NAO ENCONTRADO"
100914                                 TO GBL-MENSAGEM
101014         GO TO 99000-99-EXIT-PROGRAM
101114      ELSE
101214         GO TO 98000-00-EXCECAO-FATAL.</pre></font>
<FONT SIZE=2><P>Deve ser observado, no exemplo de gera&ccedil;&atilde;o acima, que: </P><DIR>

</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>&nbsp;A composi&ccedil;&atilde;o dos campos da chave de acesso &eacute; feita a partir da origem; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>&nbsp;Foi gerado o tratamento padr&atilde;o de exce&ccedil;&atilde;o no acesso; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>&nbsp;O preenchimento do campo ATRIBUTO causa a gera&ccedil;&atilde;o do acesso com chave parcial (apenas "ATVCOD").</P></DIR>

<P>Cumpre ressaltar que, na gera&ccedil;&atilde;o do fonte de um programa, caso este possua como recurso um <I>dataset</I> definido como "externo", todas as refer&ecirc;ncias aos atributos deste <I>dataset</I> ser&atilde;o feitas pelos seus c&oacute;digos externos e n&atilde;o pelos seus c&oacute;digos.</P></DIR>

<B><P><A NAME="Formul">Comando FORMUL (l&oacute;gicas <I>batch</I>, <I>on-line</I> ou sub-rotina)</B> </P></A>
<P>Este comando gera procedimentos de c&aacute;lculo, baseados em uma determinada f&oacute;rmula do atributo ou campo, e comp&otilde;e a estrutura de destino com o resultado da mesma. </P>
<P>A f&oacute;rmula do atributo ou campo deve estar cadastrada no reposit&oacute;rio de dados do SADS. Maiores detalhes deste cadastramento podem ser consultados na Se&ccedil;&atilde;o II, "Elementos do reposit&oacute;rio de dados do SADS", nos itens "Atributo" e "Campo". </P>
<P>Antes de utilizar este comando, &eacute; necess&aacute;rio compor os atributos pertencentes &agrave; f&oacute;rmula que ser&atilde;o utilizados no c&aacute;lculo da mesma. Para isto, pode-se utilizar o comando de m&oacute;dulo MVEFOR ou qualquer comando de edi&ccedil;&atilde;o (EDIT ou COBOL). </P>
<P>Para cadastrar o comando FORMUL no reposit&oacute;rio de dados do SADS, os campos abaixo devem ser preenchidos da seguinte forma: </P><DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>COMANDO</B> - "FORMUL". </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>ORIGEM</B> - C&oacute;digo do sistema a que a f&oacute;rmula pertence. </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>DESTINO</B> - C&oacute;digo da estrutura de destino para a qual ser&aacute; movimentado o valor resultante do c&aacute;lculo da f&oacute;rmula. </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>ATRIBUTO</B> - C&oacute;digo do atributo ao qual a f&oacute;rmula pertence. </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>INDICE</B> - Indicador de indexa&ccedil;&atilde;o de ocorr&ecirc;ncias nas estruturas origem e destino. </P>
<P>Observar explica&ccedil;&atilde;o para o campo INDICE no t&oacute;pico referente a "Cadastramento de m&oacute;dulos de processamento".<BR>
Pode assumir os seguintes valores: </P><DIR>

</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"O" - Para indexar os atributos da origem que apresentarem ocorr&ecirc;ncias em suas estruturas; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"D" - Para indexar os atributos do destino que apresentarem ocorr&ecirc;ncias em suas estruturas; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"A" - Para indexar os atributos da origem e destino que apresentarem ocorr&ecirc;ncias em suas estruturas.</P></DIR>

<P>Caso este campo n&atilde;o seja informado, n&atilde;o ser&atilde;o consideradas as ocorr&ecirc;ncias da estrutura determinada nos campos ORIGEM e DESTINO, tamb&eacute;m conforme explicado anteriormente, no t&oacute;pico referente a "Cadastramento de m&oacute;dulos de processamento". </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>NUMERO DA FORMULA</B> - N&uacute;mero identificador da f&oacute;rmula. </P>
<P>A seguir, &eacute; apresentado um exemplo de cadastramento do comando de m&oacute;dulo FORMUL:</P>
</FONT><pre><font size=3>                                                      <U>N.VEZES OU
COMANDO/TIPO  ORIGEM  DESTINO  SET  ATRIBUTO  INDICE  N.FORMULA
</U> MVEFOR        SXYB0400 SXY          ATVFUNRESP            01 
 FORMUL        SXY    SXYT0114       ATVFUNRESP            01 </pre></font><DIR>

<FONT SIZE=2><P>Na WORKING-STORAGE-SECTION do programa ser&aacute; gerado o seguinte fonte Cobol:</P></DIR>

</FONT><pre><font size=3> 100114  01    SXY-ATVFUNRESP-01.
 100214        10 YF01-ATVFUNRESP            PIC 9(05).
 100314        10 YF01-ATVCOD                PIC 9(05). </pre></font><DIR>

<FONT SIZE=2><P>Na PROCEDURE DIVISION ser&aacute; gerado o seguinte fonte Cobol:</P></DIR>

</FONT><pre><font size=3>100114         MOVE Y0400-ATVCOD 
100214                 TO YF01-ATVCOD OF SXY-ATVFUNRESP-01.
100314         MOVE Y0400-ATVFUNRESP
100414                 TO YF01-ATVFUNRESP OF SXY-ATVFUNRESP-01.
100514
100614         COMPUTE YF01-ATVFUNRESP OF SXY-ATVFUNRESP-01 =
100714                    YF01-ATVCOD OF SXY-ATVFUNRESP-01 
100814                 + YF01-ATVFUNRESP OF SXY-ATVFUNRESP-01.
100914
101014         MOVE YF01-ATVFUNRESP OF SXY-ATVFUNRESP-01
101114              TO YT14O-ATVFUNRESP-RED.</pre></font>
<FONT SIZE=2><P>Deve ser observado que: </P></DIR>


<UL>
<LI>Foi gerada a composi&ccedil;&atilde;o dos atributos auxiliares da f&oacute;rmula, atrav&eacute;s do comando de m&oacute;dulo MVEFOR; </LI>
<LI>Foi efetuado o c&aacute;lculo do valor da f&oacute;rmula atrav&eacute;s de um comando COMPUTE, utilizando os atributos auxiliares definidos para a mesma; </LI>
<LI>O valor calculado atrav&eacute;s da f&oacute;rmula foi movimentado para a estrutura de destino, desde que no destino exista o atributo de mesmo mnem&ocirc;nico. </LI></UL>
<DIR>

<P>Cumpre ressaltar que, na gera&ccedil;&atilde;o do fonte de um programa, caso este possua como recurso um <I>dataset</I> definido como "externo", todas as refer&ecirc;ncias aos atributos deste <I>dataset </I>ser&atilde;o feitas pelos seus c&oacute;digos externos e n&atilde;o pelos seus c&oacute;digos.</P></DIR>

<B><P><A NAME="Impres">Comando IMPRES (l&oacute;gicas <I>batch</I>, <I>on-line</I> ou sub-rotina)</B> </P></A>
<P>Este comando gera procedimentos para impress&atilde;o de uma linha do relat&oacute;rio, quais sejam: </P>

<UL>
<LI>Movimenta&ccedil;&atilde;o dos desenho (sssRnnn-mm) e salto (snnn-mm-RELLINSALT) da linha a ser impressa para os campos de impress&atilde;o padr&atilde;o: DETALHE e SALTO respectivamente; </LI>
<LI>Chamada &agrave; rotina de impress&atilde;o de relat&oacute;rios.</LI></UL>

<P>O desenho da linha a ser impressa (sssRnnn-mm) j&aacute; deve ter sido composto anteriormente por um comando de m&oacute;dulo qualquer. </P>
<P>O comando IMPRES deve ser utilizado somente para relat&oacute;rios que estiverem definidos na l&oacute;gica do programa. </P>
<P>Se a linha solicitada para impress&atilde;o for do tipo "D" (Detalhe), apenas ser&aacute; gerado os c&oacute;digos em COBOL relativos ao comando IMPRES caso na l&oacute;gica do programa tiver sido definido pelo menos um <I>dataset</I> com LOOP = "uot;S". </P>
<P>Para cadastrar o comando IMPRES no reposit&oacute;rio de dados do SADS, os campos abaixo devem ser preenchidos da seguinte forma: </P><DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>COMANDO</B> - "IMPRES". </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>ORIGEM</B> - C&oacute;digo do relat&oacute;rio e n&uacute;mero da linha que dever&aacute; ser impressa. </P>
<P>Caso o relat&oacute;rio tenha o n&uacute;mero sequencial com duas posi&ccedil;&otilde;es, ao inv&eacute;s de tr&ecirc;s, deve-se deixar 1 (um) espa&ccedil;o entre o c&oacute;digo do relat&oacute;rio e o n&uacute;mero da linha. Caso contr&aacute;rio, o espa&ccedil;o n&atilde;o &eacute; necess&aacute;rio. </P>
<P>A seguir, ser&aacute; exibido um exemplo de como cadastrar o comando de m&oacute;dulo IMPRES:</P>
</FONT><pre><font size=3>                                                      <U>N.VEZES OU
COMANDO/TIPO  ORIGEM  DESTINO  SET  ATRIBUTO  INDICE  N.FORMULA
</U> IMPRES       SXYR01 04 </pre></font><DIR>

<FONT SIZE=2><P>O fonte Cobol gerado para um programa de l&oacute;gica de emiss&atilde;o central ("EC") ser&aacute; o seguinte:</P>
</FONT><pre><font size=3>
 100114    MOVE SXYR010-04            TO DETALHE.
 100214    MOVE Y010-04-RELLINSALT    TO SALTO.
 100314 
 100414    PERFORM 73000-00-IMPRESSAO THRU 73000-99-EXIT.</pre></font>
<FONT SIZE=2><P>O fonte Cobol gerado para um programa de l&oacute;gica de emiss&atilde;o remota ("ER") ser&aacute; o seguinte: </P></DIR>
</DIR>


<UL>
<LI>Para linha de relat&oacute;rio do tipo "C" (Cabe&ccedil;alho): </LI></UL>

</FONT><pre><font size=3>
 100114    MOVE SXYR010-04            TO WSS-LINREL (IND-CAB)
 100214    ADD Y010-04-RELLINSALT     TO IND-CAB.
 100314 </pre></font>

<UL>
<FONT SIZE=2><LI>Para linha de relat&oacute;rio do tipo "D" (Detalhe), "P"(Prepara&ccedil;&atilde;o) ou "E" (Encerramento): </LI></UL>

</FONT><pre><font size=3>
 100114    MOVE SXYR010-04            TO DETALHE.
 100214    MOVE Y010-04-RELLINSALT    TO SALTO.
 100314 
 100414    PERFORM 71017-00-COMPOR-TAB-IMP-DET THRU 71017-99-EXIT.</pre></font><DIR>

<FONT SIZE=2><P>Deve ser observado que: </P></DIR>


<UL>
<LI>Foi gerada a movimenta&ccedil;&atilde;o do desenho da linha para o campo de <I>work</I> DETALHE e, logo ap&oacute;s, haver&aacute; a composi&ccedil;&atilde;o do campo de <I>work</I> SALTO com o valor definido para o espacejamento da linha; </LI>
<LI>Foi gerado um comando PERFORM para chamada da rotina de impress&atilde;o de linhas do relat&oacute;rio; </LI>
<LI>Como o relat&oacute;rio tem o n&uacute;mero sequencial com duas posi&ccedil;&otilde;es, foi deixado um espa&ccedil;o entre o c&oacute;digo do relat&oacute;rio e o n&uacute;mero da linha, no cadastramento do comando. </LI></UL>

<B><P><A NAME="Inclui">Comando INC ou INCLUI (l&oacute;gicas <I>batch</I> ou <I>on-line</I>)</B> </P></A>
<P>Este comando gera a inclus&atilde;o de um registro em um <I>dataset</I>. </P>
<P>Para cadastrar o comando INC ou INCLUI no reposit&oacute;rio de dados do SADS, os campos abaixo devem ser preenchidos da seguinte forma: </P><DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>COMANDO</B> - "INC" ou "INCLUI". </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>ORIGEM</B> - C&oacute;digo da estrutura de origem a partir da qual ser&aacute; inclu&iacute;do o registro no <I>dataset</I>. </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>DESTINO</B> - C&oacute;digo do <I>dataset</I> de destino que ter&aacute; inclu&iacute;do o registro. </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>NDICE</B> - Indicador de indexa&ccedil;&atilde;o de ocorr&ecirc;ncias na estrutura origem. </P>
<P>Observar explica&ccedil;&atilde;o para o campo INDICE no t&oacute;pico referente a "Cadastramento de m&oacute;dulo de processamento". </P>
<P>Pode assumir os seguintes valores: </P><DIR>

</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"O" - Para indexar os atributos da origem que apresentarem ocorr&ecirc;ncias em suas estruturas; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"D" - Para indexar os atributos do destino que apresentarem ocorr&ecirc;ncias em suas estruturas; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"A" - Para indexar os atributos da origem e destino que apresentarem ocorr&ecirc;ncias em suas estruturas.</P></DIR>

<P>Caso este campo n&atilde;o seja informado, n&atilde;o ser&atilde;o consideradas as ocorr&ecirc;ncias das estruturas determinadas nos campos ORIGEM e DESTINO, tamb&eacute;m conforme explicado anteriormente, no t&oacute;pico referente a "Cadastramento de m&oacute;dulo de processamento". </P>
<P>A seguir, ser&aacute; exibido um exemplo de como cadastrar o comando de m&oacute;dulo INC ou INCLUI:</P>
</FONT><pre><font size=3>                                                      <U>N.VEZES OU
COMANDO/TIPO  ORIGEM  DESTINO  SET  ATRIBUTO  INDICE  N.FORMULA
</U> INCLUI          SXYT0114 SXYB0400                O </pre></font>
<FONT SIZE=2><P>O fonte Cobol gerado ser&aacute; o seguinte: </P>
</FONT><pre><font size=3>
100114    CREATE SXYB04
100214    ON EXCEPTION
100314        GO TO 98000-00-EXCECAO-FATAL.
100414
100514    MOVE YT14I-ATVCOD-RED            TO Y0400-ATVCOD.
100614    MOVE YT14I-PRJCOD-RED            TO Y0400-PRJCOD.
100714    MOVE YT14I-ATVNOM(IND-GER)       TO Y0400-ATVNOM.
100814
100914    MOVE GBL-DATA               TO Y0400-HDRDATA.
101014    MOVE GBL-HORA               TO Y0400-HDRHORA.
101114
101214    STORE SXYB04
101314    ON EXCEPTION
101414       GO TO 98000-00-EXCECAO-FATAL. </pre></font>
<FONT SIZE=2><P>Deve ser observado que: </P></DIR>


<UL>
<LI>O <I>dataset</I> de destino ser&aacute; composto a partir da estrutura de origem, com a movimenta&ccedil;&atilde;o de atributos correspondentes; </LI>
<LI>Tamb&eacute;m ser&atilde;o compostos os atributos do <I>header</I> do <I>dataset</I>; </LI>
<LI>Foi efetuada a movimenta&ccedil;&atilde;o dos atributos respeitando a indica&ccedil;&atilde;o de indexa&ccedil;&atilde;o na origem; </LI>
<LI>Foram gerados os tratamentos padr&otilde;es de exce&ccedil;&atilde;o para o CREATE e o STORE. </LI></UL>

<P>Cumpre ressaltar que, na gera&ccedil;&atilde;o do fonte de um programa, caso este possua como recurso um <I>dataset</I> definido como "externo", todas as refer&ecirc;ncias aos atributos deste <I>dataset </I>ser&atilde;o feitas pelos seus c&oacute;digos externos e n&atilde;o pelos seus c&oacute;digos. </P>
<B><P><A NAME="Insert">Comando INSERT (l&oacute;gicas <I>batch</I> ou <I>on-line</I>)</B> </P></A>
<P>Este comando gera uma sequ&ecirc;ncia de c&oacute;digo para inclus&atilde;o de um registro em um <I>subset</I> manual. </P>
<P>Para cadastrar o comando INSERT no reposit&oacute;rio de dados do SADS, os campos abaixo devem ser preenchidos da seguinte forma: </P><DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>COMANDO</B> - "INSERT". </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>ORIGEM</B> - C&oacute;digo do <I>subset</I> manual que dever&aacute; ser inclu&iacute;do. </P>
<P>A seguir, ser&aacute; exibido um exemplo de como cadastrar o comando de m&oacute;dulo INSERT:</P>
</FONT><pre><font size=3>                                                      <U>N.VEZES OU</U> 
<U>COMANDO/TIPO  ORIGEM  DESTINO  SET  ATRIBUTO  INDICE  N.FORMULA
</U> INSERT        SXYB04A</pre></font>
<FONT SIZE=2><P>O fonte Cobol gerado ser&aacute; o seguinte:</P>
</FONT><pre><font size=3>100114        INSERT SXYB04 INTO     SXYB04A
100214        ON EXCEPTION 
100314           GO TO 98000-00-EXCECAO-FATAL.</pre></font>
<FONT SIZE=2><P>Deve ser observada a gera&ccedil;&atilde;o do tratamento padr&atilde;o de exce&ccedil;&atilde;o no comando INSERT.</P></DIR>

<B><P><A NAME="Invdat">Comando INVDAT (l&oacute;gicas <I>batch, on-line</I> ou sub-rotina)</B> </P></A>
<P>Este comando gera uma sequ&ecirc;ncia de c&oacute;digo para invers&atilde;o de um atributo do tipo data com seis ou oito caracteres - DDMMAA, AAMMDD, DDMMAAAA ou AAAAMMDD. </P>
<P>O comando de m&oacute;dulo INVDAT n&atilde;o pode ser utilizado quando houver diverg&ecirc;ncia no tamanho das datas nas estruturas origem e destino. </P>
<P>Para cadastrar o comando INVDAT no reposit&oacute;rio de dados do SADS, os campos abaixo devem ser preenchidos da seguinte forma: </P><DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>COMANDO</B> - "INVDAT". </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>ORIGEM</B> - C&oacute;digo da estrutura origem a qual o atributo perten&ccedil;a. </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>DESTINO</B> - C&oacute;digo da estrutura destino a qual o atributo perten&ccedil;a. </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>ATRIBUTO</B> - C&oacute;digo do atributo data que dever&aacute; ser invertido. </P>
<P>Este atributo n&atilde;o deve estar dentro de ocorr&ecirc;ncias em qualquer das duas estruturas origem ou destino. </P>
<P>A seguir, ser&aacute; exibido um exemplo de como cadastrar o comando de m&oacute;dulo INVDAT:</P>
</FONT><pre><font size=3>                                                      <U>N.VEZES OU
COMANDO/TIPO  ORIGEM  DESTINO  SET  ATRIBUTO  INDICE  N.FORMULA
</U>INVDAT        SXYB04 SXYT0122       EMPSALDAT</pre></font>
<FONT SIZE=2><P>O fonte Cobol gerado caso o atributo EMPSALDAT possua tamanho seis ser&aacute; o seguinte:</P>
</FONT><pre><font size=3>100114      MOVE Y0400-EMPSALDAT     TO WSS-DATA
100214      MOVE CORR WSS-DATA-RED   TO WSS-DATAINV-RED
100314      MOVE WSS-DATAINV         TO YT22O-EMPSALDAT. </pre></font>
<FONT SIZE=2><P>O fonte Cobol gerado caso o atributo EMPSALDAT possua tamanho oito ser&aacute; o seguinte:</P>
</FONT><pre><font size=3>100114      MOVE Y0400-EMPSALDAT8    TO WSS-DATA8
100214      MOVE CORR WSS-DATA8-RED  TO WSS-DATAINV8-RED
100314      MOVE WSS-DATAINV8        TO YT22O-EMPSALDAT.</pre></font>
<FONT SIZE=2><P>Deve ser observada a utiliza&ccedil;&atilde;o de campos da &aacute;rea de <I>work</I> na gera&ccedil;&atilde;o do comando INVDAT.</P></DIR>

<B><P><A NAME="Label">Comando LAB ou LABEL (l&oacute;gicas <I>batch</I>, <I>on-line</I> ou sub-rotina)</B> </P></A>
<P>Este comando indica a gera&ccedil;&atilde;o de um <I>label</I> - par&aacute;grafo intermedi&aacute;rio - na mesma posi&ccedil;&atilde;o do programa onde ele foi codificado. </P>
<P>Este<I> label</I> ter&aacute; como prefixo o n&uacute;mero do par&aacute;grafo e o sequencial do <I>label</I> internamente ao par&aacute;grafo. O primeiro sequencial &eacute; 10, com incremento de 10 para cada comando LABEL dentro do mesmo m&oacute;dulo. </P>
<P>Para cadastrar o comando LAB ou LABEL no reposit&oacute;rio de dados do SADS, os campos abaixo devem ser preenchidos da seguinte forma : </P><DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>COMANDO</B> - "LAB" ou "LABEL". </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>Linha</B> <B>livre</B> - <I>Label</I> intermedi&aacute;rio que dever&aacute; ser gerado. </P>
<P>Na linha livre n&atilde;o deve ser informado o sequencial do <I>label</I> nem o ponto final, apenas seu nome. </P>
<P>O nome informado para o <I>label</I> deve ter tamanho m&aacute;ximo de 21 <I>bytes</I>, para que, com a adi&ccedil;&atilde;o dos 9 <I>bytes</I> do prefixo, o tamanho total do <I>label</I> n&atilde;o ultrapasse os 30 <I>bytes</I> permitidos pelo Cobol. </P>
<P>A seguir, ser&aacute; exibido um exemplo de como cadastrar o comando de m&oacute;dulo LAB ou LABEL:</P>
</FONT><pre><font size=3>                                                      <U>N.VEZES OU
COMANDO/TIPO  ORIGEM  DESTINO  SET  ATRIBUTO  INDICE  N.FORMULA
</U>LABEL 
              CONTINUA-05</pre></font>
<FONT SIZE=2><P>O fonte Cobol gerado ser&aacute; o seguinte:</P>
</FONT><pre><font size=3>
100114 36014-10-CONTINUA-05.</pre></font></DIR>

<B><FONT SIZE=2><P><A NAME="Lock">Comando LOK ou LOCK (l&oacute;gicas <I>batch</I> ou <I>on-line</I>)</B> </P></A>
<P>Este comando gera uma sequ&ecirc;ncia de c&oacute;digo para acesso a <I>dataset</I> ou ao registro global de banco de dados, a fim de tornar dispon&iacute;vel para altera&ccedil;&atilde;o o registro ao qual foi executado o acesso. </P>
<P>Para cadastrar o comando LOK ou LOCK no reposit&oacute;rio de dados do SADS, os campos abaixo devem ser preenchidos da seguinte forma: </P><DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>COMANDO</B> - "LOK" ou "LOCK". </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>TIPO</B> - Tipo do comando de m&oacute;dulo LOCK a ser gerado para acesso ao <I>dataset</I>. </P>
<P>Pode assumir os seguintes valores: </P><DIR>

</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"F" - Para obter acesso ao primeiro registro: LOCK FIRST; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"N" - Para obter acesso ao pr&oacute;ximo registro: LOCK NEXT; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"L" - Para obter acesso ao &uacute;ltimo registro: LOCK LAST; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"P" - Para obter acesso ao registro anterior: LOCK PRIOR.</P></DIR>

<P>Caso o tipo n&atilde;o seja informado no acesso a um dataset, ser&aacute; gerado o acesso puro: LOCK. </P>
<P>O tipo n&atilde;o deve ser informado para acesso a um registro global do banco de dados. </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>ORIGEM</B> - C&oacute;digo da estrutura de origem, a partir da qual ser&aacute; composta a chave de acesso ao <I>dataset</I>. </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>DESTINO</B> - C&oacute;digo do <I>dataset</I> para acesso ou c&oacute;digo do banco de dados cujo registro global ser&aacute; acessado. </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>SET</B> - C&oacute;digo da<I> </I>estrutura DMSII (<I>set</I>, <I>subset</I> ou <I>access</I>) de acesso ao <I>dataset</I>. </P>
<P>Para obter acesso direto ao <I>dataset</I>, este campo n&atilde;o deve ser preenchido. </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>ATRIBUTO</B> - C&oacute;digo do &uacute;ltimo atributo para acesso &agrave; estrutura DMSII. </P>
<P>Pode assumir os seguintes valores: </P><DIR>

</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"&lt;C&oacute;digo do &uacute;ltimo atributo&gt;" - Para acesso com chave parcial, at&eacute; este atributo limite; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"NENHUM" - Para n&atilde;o qualificar a chave de acesso.</P></DIR>

<P>Caso este campo n&atilde;o seja informado, ser&aacute; gerado acesso com chave completa, ou seja, com todos os atributos da chave. </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>INDICE</B> - Indicador de indexa&ccedil;&atilde;o de ocorr&ecirc;ncias na estrutura origem e destino, para acesso a <I>dataset</I>. </P>
<P>Observar explica&ccedil;&atilde;o para o campo INDICE no t&oacute;pico referente a "Cadastramento de m&oacute;dulos de processamento". </P>
<P>Pode assumir os seguintes valores: </P><DIR>

</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"O" - Para indexar os atributos da origem que apresentarem ocorr&ecirc;ncias em suas estruturas; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"D" - Para indexar os atributos do destino que apresentarem ocorr&ecirc;ncias em suas estruturas; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"A" - Para indexar os atributos da origem e destino que apresentarem ocorr&ecirc;ncias em suas estruturas.</P></DIR>

<P>Caso este campo n&atilde;o seja informado no acesso a um dataset, n&atilde;o ser&atilde;o consideradas as ocorr&ecirc;ncias da estrutura determinada nos campos ORIGEM e DESTINO, tamb&eacute;m conforme explicado anteriormente, no t&oacute;pico referente a "Cadastramento de m&oacute;dulos de processamento". </P>
<P>A seguir, ser&aacute; exibido um exemplo de como cadastrar o comando de m&oacute;dulo LOK ou LOCK para acesso a um dataset:</P></DIR>

</FONT><pre><font size=3>                                                      <U>N.VEZES OU
COMANDO/TIPO  ORIGEM  DESTINO  SET  ATRIBUTO  INDICE  N.FORMULA
</U>LOCK     N    SXYT0114 SXYB0400 A   PRJCOD      O</pre></font><DIR>

<FONT SIZE=2><P>O fonte Cobol gerado ser&aacute; o seguinte:</P>
</FONT><pre><font size=3>100114      MOVE YT14I-ATVCOD      TO Y04A-ATVCOD.
100214      MOVE YT14I-PRJCOD      TO Y04A-PRJCOD.
100314
100414      LOCK NEXT SXYB04A AT
100514              Y0400-ATVCOD         = Y04A-ATVCOD
100614          AND Y0400-PRJCOD        = Y04A-PRJCOD
100714      ON EXCEPTION
100814         IF DMSTATUS(NOTFOUND)
100914            MOVE HIGH-VALUES TO EOF-SXYB04
101014            GO TO 36014-99-EXIT
101114         ELSE
101214            GO TO 98000-00-EXCECAO-FATAL.</pre></font>
<FONT SIZE=2><P>Deve ser observado: </P><DIR>

</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>&nbsp;Que a chave de acesso ao <I>dataset</I> ser&aacute; composta a partir da estrutura de origem. A movimenta&ccedil;&atilde;o para a estrutura da chave de acesso ser&aacute; feita para atributos de mesmo mnem&ocirc;nico. Quando houver ocorr&ecirc;ncias, a movimenta&ccedil;&atilde;o ser&aacute; indexada; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>&nbsp;Que o acesso ao <I>dataset</I> &eacute; feito atrav&eacute;s do comando LOCK, ficando o registro dispon&iacute;vel para altera&ccedil;&otilde;es; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>&nbsp;O tratamento padr&atilde;o de exce&ccedil;&atilde;o do comando LOCK NEXT.</P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>&nbsp;Cumpre ressaltar que, na gera&ccedil;&atilde;o do fonte de um programa, caso este possua como recurso um <I>dataset</I> definido como "externo", todas as refer&ecirc;ncias aos atributos deste <I>dataset</I> ser&atilde;o feitas pelos seus c&oacute;digos externos e n&atilde;o pelos seus c&oacute;digos.</P></DIR>
</DIR>

<B><P><A NAME="Msg">Comando MSG (l&oacute;gica <I>on-line</I> ou sub-rotina)</B></A></P>
<P>Este comando gera sequ&ecirc;ncias de c&oacute;digo para enviar mensagens de erro e, logo a seguir, desviar o controle do programa para o <I>host</I>. </P>
<P>Para cadastrar o comando MSG no reposit&oacute;rio de dados do SADS, os campos abaixo devem ser preenchidos da seguinte forma: </P><DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>COMANDO</B> - "MSG". </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>TIPO</B> - Indicador de gera&ccedil;&atilde;o do ponto ao final dos comandos de emiss&atilde;o da mensagem. </P>
<P>Pode assumir o seguinte valor: </P><DIR>

</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"N" - Para que n&atilde;o seja gerado o ponto (".") ap&oacute;s o "GO TO 99000-99-EXIT-PROGRAM".</P></DIR>

<P>Caso o tipo n&atilde;o seja informado, ser&aacute; gerado o ponto (".") ap&oacute;s o "GO TO 99000-99-EXIT-PROGRAM". </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><FONT SIZE=2>Linha livre - Descri&ccedil;&atilde;o da mensagem de erro, sem as aspas ("). </P>
<P>A seguir, ser&aacute; exibido um exemplo de como cadastrar o comando de m&oacute;dulo MSG:</P>
</FONT><pre><font size=3>                                                      <U>N.VEZES OU
COMANDO/TIPO  ORIGEM  DESTINO  SET  ATRIBUTO  INDICE  N.FORMULA
</U> MSG 
                TABELA INEXISTENTE</pre></font>
<FONT SIZE=2><P>O fonte Cobol gerado ser&aacute; o seguinte:</P>
</FONT><pre><font size=3>
 100114           MOVE 1                       TO GBL-ERRO 
 100214           MOVE "TABELA INEXISTENTE 
 100314-               "            "TO GBL-MENSAGEM
 100414           GO TO 99000-99-EXIT-PROGRAM.</pre></font>
<FONT SIZE=2><P>Deve ser observado que, no exemplo anterior, ser&atilde;o gerados uma mensagem de erro e um desvio para o programa host. </P>
<P>Para m&oacute;dulos selecionados na fase de "PROCESSAR" dos programas com tipo de l&oacute;gica "AP" (atualiza&ccedil;&atilde;o paginada), ser&atilde;o utilizadas, para o envio de mensagens de erro, as rotinas de GRAVA-ERRO e EXIBE-ERRO do pr&oacute;prio paginador. </P>
<P>Deve-se observar que o comando MSG &eacute; espec&iacute;fico para programas on-line.</P></DIR>

<B><P><A NAME="Msgind">Comando MSGIND (l&oacute;gica <I>on-line</I> ou sub-rotina) </P></A>
</B><P>Este comando gera sequ&ecirc;ncias de c&oacute;digos para enviar mensagens de erro concatenadas com o n&uacute;mero da ocorr&ecirc;ncia que provocou estes erros e, logo a seguir, desviar o controle do programa para o <I>host</I>. </P>
<P>O n&uacute;mero da ocorr&ecirc;ncia ser&aacute; gerado a partir do campo IND-GER, se o comando MSGIND estiver fora de um par DO/END, ou a partir do campo IND-n&uacute;mero do par&aacute;grafo, se o comando MSGIND estiver dentro de um par DO/END. </P>
<P>Para cadastrar o comando MSGIND no reposit&oacute;rio de dados do SADS, os campos abaixo devem ser preenchidos da seguinte forma: </P><DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>COMANDO</B> - "MSGIND". </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>TIPO</B> - Indicador de gera&ccedil;&atilde;o do ponto ao final dos comandos de envio da mensagem. </P>
<P>Pode assumir o seguinte valor: </P><DIR>

</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"N" - Para que n&atilde;o seja gerado o ponto (".") ap&oacute;s o "GO TO 99000-99-EXIT-PROGRAM".</P></DIR>

<P>Caso o tipo n&atilde;o seja informado, ser&aacute; gerado o ponto (".") ap&oacute;s o "GO TO 99000-99-EXIT-PROGRAM". </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><FONT SIZE=2>L<B>inha livre - </B>Descri&ccedil;&atilde;o da mensagem de erro, sem as aspas ("). </P>
<P>A seguir, ser&aacute; exibido um exemplo de como cadastrar o comando de m&oacute;dulo MSGIND:</P>
</FONT><pre><font size=3>                                                      <U>N.VEZES OU
COMANDO/TIPO  ORIGEM  DESTINO  SET  ATRIBUTO  INDICE  N.FORMULA
</U> MSGIND 
               TABELA INEXISTENTE</pre></font>
<FONT SIZE=2><P>O fonte Cobol gerado ser&aacute; o seguinte:</P>
</FONT><pre><font size=3> 100114         MOVE 1 TO GBL-ERRO 
 100214         STRING "TABELA INEXISTENTE
 100314-            "         - ( " IND-GERMSG ")"
 100414                            DELIMITED SIZE INTO GBL-MENSAGEM
 100514         GO TO 99000-99-EXIT-PROGRAM.</pre></font>
<FONT SIZE=2><P>Deve ser observado que, no exemplo anterior, ser&atilde;o gerados uma mensagem de erro e um desvio para o programa <I>host</I>. </P>
<P>Para m&oacute;dulos selecionados na fase de "PROCESSAR" dos programas com tipo de l&oacute;gica "AP" (atualiza&ccedil;&atilde;o paginada), ser&atilde;o utilizadas, para o envio de mensagens de erro, as rotinas de GRAVA-ERRO e EXIBE-ERRO do pr&oacute;prio paginador. </P>
<P>Deve-se observar que o comando MSGIND &eacute; espec&iacute;fico para programas <I>on-line</I>.</P></DIR>

<B><P><A NAME="Move">Comando MVE ou MOVE (l&oacute;gicas <I>batch</I>, <I>on-line</I> ou sub-rotina)</B> </P></A>
<P>Este comando gera a movimenta&ccedil;&atilde;o dos atributos da estrutura de origem para a estrutura de destino. </P>
<P>Os atributos movimentados s&atilde;o aqueles que possuem mesmos mnem&ocirc;nico e sufixo nas duas estruturas. </P>
<P>Para cadastrar o comando MVE ou MOVE no reposit&oacute;rio de dados do SADS, os campos abaixo devem ser preenchidos da seguinte forma: </P><DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>COMANDO</B> - "MVE" ou "MOVE". </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>TIPO</B> - Indicador de movimenta&ccedil;&atilde;o para a &aacute;rea de <I>input</I> da tela destino. </P>
<P>Pode assumir os seguintes valores: </P><DIR>

</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"I" - Para que a movimenta&ccedil;&atilde;o seja feita para a &aacute;rea de <I>input</I> da tela destino; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>" " ou "O" - Para que a movimenta&ccedil;&atilde;o seja feita para a &aacute;rea de <I>output</I> da tela destino.</P></DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>ORIGEM - </B>C&oacute;digo da estrutura de origem, a partir de onde os atributos ser&atilde;o movimentados. </P>
<P>&Eacute; aceit&aacute;vel tamb&eacute;m que se informe as palavras "ZEROS" e "SPACES", caso se queira movimentar zeros ("0") ou brancos (<I>spaces</I>) respectivamente para todos os atributos da estrutura destino. </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>DESTINO</B> - C&oacute;digo da estrutura de destino, para onde os atributos da origem ser&atilde;o movimentados. </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>INDICE</B> - Indicador de indexa&ccedil;&atilde;o de ocorr&ecirc;ncias nas estruturas origem e destino. </P>
<P>Observar explica&ccedil;&atilde;o para o campo INDICE no t&oacute;pico referente a "Cadastramento de m&oacute;dulos de processamento". </P>
<P>Pode assumir os seguintes valores: </P><DIR>

</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"O" - Para indexar os atributos da origem que apresentarem ocorr&ecirc;ncias em suas estruturas; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"D" - Para indexar os atributos do destino que apresentarem ocorr&ecirc;ncias em suas estruturas; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"A" - Para indexar os atributos da origem e destino que apresentarem ocorr&ecirc;ncias em suas estruturas.</P></DIR>

<P>Caso este campo n&atilde;o seja informado, n&atilde;o ser&atilde;o consideradas as ocorr&ecirc;ncias da estrutura determinada nos campos ORIGEM e DESTINO, tamb&eacute;m conforme explicado anteriormente, no t&oacute;pico referente a "Cadastramento de m&oacute;dulos de processamento". </P>
<P>A seguir, ser&aacute; exibido um exemplo de como cadastrar o comando de m&oacute;dulo MVE ou MOVE:</P>
</FONT><pre><font size=3>                                                      <U>N.VEZES OU
COMANDO/TIPO  ORIGEM  DESTINO  SET  ATRIBUTO  INDICE  N.FORMULA
</U> MOVE          SXYT0114 SXYB0400                O</pre></font>
<FONT SIZE=2><P>O fonte Cobol gerado ser&aacute; o seguinte:</P>
</FONT><pre><font size=3> 100114       MOVE YT14I-ATVCOD-RED     TO Y0400-ATVCOD.
 100214       MOVE YT14I-PRJCOD-RED     TO Y0400-PRJCOD.
 100314       MOVE YT14I-ATVNOM         TO Y0400-ATVNOM.
 100414
 100514       MOVE GBL-DATA             TO Y0400-HDRDATA.
 100614       MOVE GBL-HORA             TO Y0400-HDRHORA. </pre></font>
<FONT SIZE=2><P>Deve ser observado que: </P></DIR>


<UL>
<LI>Ser&aacute; feita a movimenta&ccedil;&atilde;o de todos os atributos da origem para o destino, ou seja, de todos os atributos de mesmo mnem&ocirc;nico. Quando houver ocorr&ecirc;ncias, a movimenta&ccedil;&atilde;o ser&aacute; indexada. </LI>
<LI>Quando o destino for um <I>dataset</I> com <I>header</I> padr&atilde;o, os campos relativos a ele tamb&eacute;m ser&atilde;o compostos, caso sejam campos globais do SADS. </LI>
<LI>Cumpre ressaltar que, na gera&ccedil;&atilde;o do fonte de um programa, caso este possua como recurso um <I>dataset</I> definido como "externo", todas as refer&ecirc;ncias aos atributos deste <I>dataset</I> ser&atilde;o feitas pelos seus c&oacute;digos externos e n&atilde;o pelos seus c&oacute;digos.</LI></UL>

<B><P><A NAME="Mvefor">Comando MVEFOR (l&oacute;gicas <I>on-line</I> ou sub-rotina)</B></A> </P>
<P>Este comando efetua a composi&ccedil;&atilde;o dos atributos pertencentes a uma f&oacute;rmula, ou seja, inicia seus valores de modo a torn&aacute;-los dispon&iacute;veis para a execu&ccedil;&atilde;o do c&aacute;lculo da mesma. </P>
<P>Para cadastrar o comando MVEFOR no reposit&oacute;rio de dados do SADS, os campos abaixo devem ser preenchidos da seguinte forma: </P><DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>COMANDO</B> - "MVEFOR" </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>ORIGEM</B> - C&oacute;digo da estrutura de origem, a partir de onde os atributos ser&atilde;o movimentados para os atributos correspondentes pertencentes &agrave; f&oacute;rmula. </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>DESTINO</B> - C&oacute;digo do sistema ao qual o atributo, cuja f&oacute;rmula ser&aacute; calculada, pertence. </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>ATRIBUTO</B> - C&oacute;digo do atributo da f&oacute;rmula. </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>INDICE</B> - Indicador de indexa&ccedil;&atilde;o de ocorr&ecirc;ncias nas estruturas origem e destino. </P>
<P>Observar explica&ccedil;&atilde;o para o campo INDICE no t&oacute;pico referente a "Cadastramento de m&oacute;dulos de processamento". </P>
<P>Pode assumir os seguintes valores: </P><DIR>

</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"O" - Para indexar os atributos da origem que apresentarem ocorr&ecirc;ncias em suas estruturas; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"D" - Para indexar os atributos do destino que apresentarem ocorr&ecirc;ncias em suas estruturas; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"A" - Para indexar os atributos da origem e do destino que apresentarem ocorr&ecirc;ncias em suas estruturas.</P></DIR>

<P>Caso este campo n&atilde;o seja informado, n&atilde;o ser&atilde;o consideradas as ocorr&ecirc;ncias da estrutura determinada nos campos ORIGEM e DESTINO, tamb&eacute;m conforme explicado anteriormente, no t&oacute;pico referente a "Cadastramento de m&oacute;dulos de processamento". </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>NUMERO DA FORMULA </B>- N&uacute;mero identificador da f&oacute;rmula. </P>
<P>A seguir, ser&aacute; exibido um exemplo de como cadastrar o comando de m&oacute;dulo MVEFOR:</P>
</FONT><pre><font size=3>                                                      <U>N.VEZES OU
COMANDO/TIPO  ORIGEM  DESTINO  SET  ATRIBUTO  INDICE  N.FORMULA
</U>MVEFOR       SXYB0400 SXY          ATVFUNRESP           01 </pre></font>
<FONT SIZE=2><P>O fonte Cobol gerado ser&aacute; o seguinte:</P>
</FONT><pre><font size=3>
 100114    MOVE Y0400-ATVCOD
 100214            TO YF01-ATVCOD OF SXY-ATVFUNRESP-01.
 100314    MOVE Y0400-ATVFUNRESP
 100414            TO YF01-ATVFUNRESP OF SXY-ATVFUNRESP-01. </pre></font>
<FONT SIZE=2><P>Deve ser observado que ser&aacute; feita a movimenta&ccedil;&atilde;o de todos os atributos da estrutura de origem para a estrutura da f&oacute;rmula, ou seja, de todos os atributos de mesmo mnem&ocirc;nico. Se houver ocorr&ecirc;ncias na estrutura de origem e o comando pertencer a um loop, os atributos da origem ser&atilde;o considerados na movimenta&ccedil;&atilde;o. </P>
<P>Cumpre ressaltar que, na gera&ccedil;&atilde;o do fonte de um programa, caso este possua como recurso um dataset definido como "externo", todas as refer&ecirc;ncias aos atributos do dataset ser&atilde;o feitas pelos seus c&oacute;digos externos e n&atilde;o pelos seus c&oacute;digos.</P></DIR>

<B><P><A NAME="Open">Comando OPEN (l&oacute;gicas <I>batch, on-line</I> ou sub-rotina)</B></A> </P>
<P>Este comando gera um comando de abertura de arquivo convencional ou relat&oacute;rio. </P>
<P>Para cadastrar o comando OPEN no reposit&oacute;rio de dados do SADS, os campos abaixo devem ser preenchidos da seguinte forma: </P><DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>COMANDO</B> - "OPEN". </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>TIPO</B> - Tipo de abertura a ser efetuada. </P>
<P>Pode assumir os seguintes valores: </P><DIR>

</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"E" - Para abrir o arquivo para increment&aacute;-lo: OPEN EXTEND; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"I" - Para abrir o arquivo como entrada: OPEN INPUT; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"O" - Para abrir o arquivo como sa&iacute;da: OPEN OUTPUT; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"U" - Para abrir o arquivo como entrada/sa&iacute;da: OPEN I-O.</P></DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>ORIGEM - </B>C&oacute;digo do arquivo convencional ou relat&oacute;rio que ser&aacute; aberto. </P>
<P>A seguir, ser&aacute; exibido um exemplo de como cadastrar o comando de m&oacute;dulo OPEN:</P>
</FONT><pre><font size=3>                                                      <U>N.VEZES OU
COMANDO/TIPO  ORIGEM  DESTINO  SET  ATRIBUTO  INDICE  N.FORMULA
</U>  OPEN       O   SXYA54</pre></font>
<FONT SIZE=2><P>O fonte Cobol gerado ser&aacute; o seguinte: 100114 OPEN OUTPUT SXYA54. </P>
<P>Deve ser observado que ser&aacute; efetuada a abertura do arquivo SXYA54, a fim de que sejam gravados dados (TIPO = "O").</P></DIR>

<B><P><A NAME="Read">Comando READ (l&oacute;gicas <I>batch, on-line</I> ou sub-rotina)</A></B> </P>
<P>Este comando gera um comando de leitura de arquivo convencional. </P>
<P>Para cadastrar o comando READ no reposit&oacute;rio de dados do SADS, os campos abaixo devem ser preenchidos da seguinte forma: </P><DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>COMANDO</B> - "READ". </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>ORIGEM</B> - C&oacute;digo do arquivo convencional que dever&aacute; ser lido. </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>SET </B>- Indicador de leitura via chave secund&aacute;ria, para arquivo indexado. </P>
<P>O valor poss&iacute;vel &eacute; o seguinte: </P><DIR>

</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"S" - Para que a leitura seja feita via chave secund&aacute;ria.</P></DIR>

<B><P>Caso este campo n&atilde;o seja informado , a leitura do arquivo ser&aacute; feita via chave prim&aacute;ria. </P>
</B><P>A seguir, ser&aacute; exibido um exemplo de como cadastrar o comando de m&oacute;dulo READ:</P>
</FONT><pre><font size=3>                                                      <U>N.VEZES OU
COMANDO/TIPO  ORIGEM  DESTINO  SET  ATRIBUTO  INDICE  N.FORMULA
</U> READ          SXYA54</pre></font>
<FONT SIZE=2><P>O fonte Cobol gerado ser&aacute; o seguinte:</P>
</FONT><pre><font size=3> 100114     READ SXYA54 AT END
 100214         MOVE HIGH-VALUE TO EOF-SXYA54
 100314         GO TO 36014-99-EXIT.</pre></font>
<FONT SIZE=2><P>Dever&aacute; ser observado que foi gerado o tratamento padr&atilde;o de exce&ccedil;&atilde;o para o comando READ. </P>
<P>Caso seja necess&aacute;rio substituir o tratamento padr&atilde;o de exce&ccedil;&atilde;o, deve-se codificar o comando de m&oacute;dulo EXCEC logo ap&oacute;s o READ, a partir do qual ser&aacute; aberta pelo SADS uma tela para edi&ccedil;&atilde;o do novo tratamento de exce&ccedil;&atilde;o. </P>
<P>Caso seja necess&aacute;rio tratar filestatus, deve-se codificar o comando de m&oacute;dulo EXCEC logo ap&oacute;s o READ, a partir do qual ser&aacute; aberta pelo SADS uma tela para edi&ccedil;&atilde;o deste tratamento de exce&ccedil;&atilde;o.</P></DIR>

<B><P><A NAME="Recrea">Comando RECREA (l&oacute;gicas <I>batch</I> ou <I>on-line</I>)</A></B> </P>
<P>Este comando gera um comando RECREATE para um <I>dataset</I>. </P>
<P>Para cadastrar o comando RECREA no reposit&oacute;rio de dados do SADS, os campos abaixo devem ser preenchidos da seguinte forma: </P><DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>COMANDO</B> - "RECREA". </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>ORIGEM</B> - C&oacute;digo do <I>dataset</I> que ser&aacute; recriado. </P>
<P>A seguir, ser&aacute; exibido um exemplo de como cadastrar o comando de m&oacute;dulo RECREA:</P>
</FONT><pre><font size=3>                                                      <U>N.VEZES OU
COMANDO/TIPO  ORIGEM  DESTINO  SET  ATRIBUTO  INDICE  N.FORMULA
</U> RECREA        SXYB04</pre></font>
<FONT SIZE=2><P>O fonte Cobol gerado ser&aacute; o seguinte:</P>
</FONT><pre><font size=3> 100114      RECREATE SXYB04
 100214      ON EXCEPTION 
 100314         GO TO 98000-00-EXCECAO-FATAL.</pre></font>
<FONT SIZE=2><P>Deve ser observado que foi gerado o tratamento padr&atilde;o de exce&ccedil;&atilde;o do comando RECREATE.</P></DIR>

<B><P><A NAME="Remove">Comando REMOVE (l&oacute;gicas <I>batch</I> ou <I>on-line</I>)</A></B> </P>
<P>Este comando gera a exclus&atilde;o de um registro de um <I>subset</I> manual. </P>
<P>Para cadastrar o comando REMOVE no reposit&oacute;rio de dados do SADS, os campos abaixo devem ser preenchidos da seguinte forma: </P><DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>COMANDO</B> - "REMOVE". </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>ORIGEM</B> - C&oacute;digo do <I>subset</I> manual que ter&aacute; o registro exclu&iacute;do. </P>
<P>A seguir, ser&aacute; exibido um exemplo de como cadastrar o comando de m&oacute;dulo REMOVE:</P>
</FONT><pre><font size=3>                                                       <U>N.VEZES OU
COMANDO/TIPO  ORIGEM  DESTINO  SET  ATRIBUTO  INDICE  N.FORMULA
</U> REMOVE         SXYB04A</pre></font>
<FONT SIZE=2><P>O fonte Cobol gerado ser&aacute; o seguinte:</P>
</FONT><pre><font size=3> 100114      REMOVE CURRENT FROM SXYB04A
 100214      ON EXCEPTION 
 100314         GO TO 98000-00-EXCECAO-FATAL.</pre></font>
<FONT SIZE=2><P>Deve ser observado, no exemplo acima, o tratamento padr&atilde;o de exce&ccedil;&atilde;o no comando REMOVE.</P></DIR>

<B><P><A NAME="Rewrit">Comando REWRIT(l&oacute;gicas <I>batch, on-line</I> ou sub-rotina)</A></B> </P>
<P>Este comando gera uma sequ&ecirc;ncia de c&oacute;digo para grava&ccedil;&atilde;o de um registro de arquivo convencional. </P>
<P>Para cadastrar o comando REWRIT no reposit&oacute;rio de dados do SADS, os campos abaixo devem ser preenchidos da seguinte forma: </P><DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>COMANDO</B>- "REWRIT". </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>ORIGEM</B> - C&oacute;digo do arquivo cujo registro ser&aacute; gravado. </P>
<P>A seguir, ser&aacute; exibido um exemplo de como cadastrar o comando de m&oacute;dulo REWRIT:</P>
</FONT><pre><font size=3>                                                      <U>N.VEZES OU
COMANDO/TIPO  ORIGEM  DESTINO  SET  ATRIBUTO  INDICE  N.FORMULA
</U> REWRIT        SXYA54</pre></font>
<FONT SIZE=2><P>O fonte Cobol gerado ser&aacute; o seguinte: </P>
</FONT><pre><font size=3> 100114      REWRITE SXYA5400F INVALID KEY 
 100214          DISPLAY "ERRO NA GRAVACAO ARQUIVO SXYA54" 
 100314          SET MYSELF(STATUS) TO -1. </pre></font>
<FONT SIZE=2><P>Deve ser observado, no exemplo anterior: </P>
<P>Que a grava&ccedil;&atilde;o &eacute; feita diretamente da &aacute;rea de FD do arquivo, e n&atilde;o atrav&eacute;s da &aacute;rea de work do mesmo. </P>
<P>O tratamento padr&atilde;o de exce&ccedil;&atilde;o &eacute; gerado para o comando REWRIT. Neste tratamento existe o cancelamento atrav&eacute;s do comando "SET MYSELF (STATUS) TO - 1", que n&atilde;o &eacute; conveniente quando se trata de programas on-line. </P>
<P>Para a troca do tratamento de exce&ccedil;&atilde;o, deve-se codificar o comando EXCEC logo ap&oacute;s o comando REWRIT. Ser&aacute; aberta uma nova tela para a edi&ccedil;&atilde;o do novo tratamento.&nbsp;</P></DIR>

<B><P><a name="Segele">Comando SEGELE (l&oacute;gica <I>on-line</i>)</a></b></P>
<P>Este comando gera uma sequ&ecirc;ncia de c&oacute;digo para chamada da sub-rotina SBTS03 a fim de testar a habilita&ccedil;&atilde;o de elemento do usu&aacute;io logado, no Sistema de Seguran&ccedil;a. </P>
<P>Para cadastrar o comando SEGELE para um programa no reposit&oacute;rio de dados do SADS, os campos abaixo devem ser preenchidos da seguinte forma:</P><DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>&nbsp;COMANDO</B> - "SEGELE". </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>&nbsp;ORIGEM</B> - C&oacute;digo da estrutura de origem que cont&eacute;m o atributo que armazena o c&oacute;digo do elemento cuja habilita&ccedil;&atilde;o ao usu&aacute;rio ser&aacute; testada. </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>&nbsp;DESTINO</B> - C&oacute;digo do aplicativo ou lista de elementos para o qual o elemento ser&aacute; testado </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>&nbsp;ATRIBUTO</B> - C&oacute;digo do atributo que esteja pertendente &agrave; estrutura informada no campo ORIGEM e que armazena o c&oacute;digo do elemento cuja habilita&ccedil;&atilde;o ao usu&aacute;rio ser&aacute; testada. </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>&nbsp;INDICE</B> - Indicador de indexa&ccedil;&atilde;o de ocorr&ecirc;ncias na estrutura origem. </P>
<P>Pode assumir o seguinte valor:</P><DIR>

<B><P>"O"</B> - Para indexar atributos da origem que apresentarem ocorr&ecirc;ncias em suas estruturas;</P></DIR>

<P>Caso o &iacute;ndice n&atilde;o seja informado, n&atilde;o ser&atilde;o considerados os atributos da origem que apresentarem ocorr&ecirc;ncias em sua estrutura.</P>
<P>A seguir, ser&aacute; exibido um exemplo de como cadastrar o comando de m&oacute;dulo SEGELE.</P>
</FONT><pre><font size=3>                                                <U>N.VEZES OU 
COMANDO/TIPO ORIGEM DESTINO SET ATRIBUTO INDICE N.FORMULA 
</U>SEGELE PEDB03 PED CLICOD </pre></font>
<FONT SIZE=2><P>O fonte Cobol gerado ser&aacute; o seguinte:</P>
</FONT><pre><font size=3>
126812 MOVE H-ESTACAO    TO TS0304-ETCNUM. 
126912 MOVE 10           TO TS0304-SUBOPCAO. 
127012 MOVE D0300-CLICOD TO TS0304-ELMCOD.
127112 MOVE "PED "       TO TS0304-TRACOD. 
127212 
127312 MOVE "SBTS03"     TO GBL-SUB 
127412 
127512 CALL SADSSUBS USING TS0304-SBTS03-RED.
127612</pre></font>
<FONT SIZE=2><P>Cumpre ressaltar que, na gera&ccedil;&atilde;o do fonte de um programa, caso este possua como recurso um dataset definido como "externo", todas as refer&ecirc;ncias aos atributos deste dataset ser&atilde;o feitas pelos seus c&oacute;digos externos e n&atilde;o pelos seus c&oacute;digos. </P></DIR>

<B><P><A NAME="Start">Comando START (l&oacute;gicas<I>batch,on-line</I> ou sub-rotina)</B></A> </P>
<P>Este comando gera um posicionamento em um arquivo sequencial indexado. </P>
<P>Para cadastrar o comando START no reposit&oacute;rio de dados do SADS, os campos da tela devem ser preenchidos da seguinte forma: </P><DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>COMANDO </B>-"START". </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>TIPO</B> - Tipo de posicionamento no arquivo indexado. </P>
<P>Pode assumir os seguintes valores: </P><DIR>

</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"E" - Para que seja gerado o comando START &lt;arquivo&gt; KEY IS EQUAL TO; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"G" - Para que seja gerado o comando START &lt;arquivo&gt; KEY IS GREATER THAN; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"N"- Para que seja gerado o comando START &lt;arquivo&gt; KEY IS NOT LESS THAN. </P></DIR>

<B><P>Caso este campo n&atilde;o seja informado, ser&aacute; gerado apenas o comando START &lt;arquivo&gt;. </P>
</B></FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>ORIGEM - </B>C&oacute;digo do arquivo convencional a ser posicionado<B>. </P>
</B></FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>SET</B> - Indicador de acesso ao arquivo via chave secund&aacute;ria. </P>
<P>Pode assumir o seguinte valor: </P><DIR>

</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"S" - Para que o acesso seja feito via chave secund&aacute;ria </P></DIR>

<P>Caso este campo n&atilde;o seja informado, ser&aacute; assumido que o acesso ser&aacute; feito pela chave prim&aacute;ria. </P>
<P>A seguir, ser&aacute; exibido um exemplo de como cadastrar o comando de m&oacute;dulo "START". </P></DIR>

</FONT><pre><font size=3>                                                      <U>N.VEZES OU</U> 
<U>COMANDO/TIPO  ORIGEM  DESTINO  SET  ATRIBUTO  INDICE  N.FORMULA</U> 
 START        SXYA54            S </pre></font><DIR>

<FONT SIZE=2><P>O fonte COBOL gerado ser&aacute; o seguinte: </P>
</FONT><pre><font size=3> 100114  START     SXYA54 KEY IS NOT LESS THAN Y5401F-CLIRAZSOC 
 100214            INVALID KEY 
 100314            MOVE HIGH-VALUE TO EOF-SXYA54 
 100414            GO TO 30006-00-EXIT.</pre></font>
<FONT SIZE=2><P>Deve ser observado, no exemplo de gera&ccedil;&atilde;o acima, o tratamento padr&atilde;o de exce&ccedil;&atilde;o para o comando "START". </P>
<P>Para a troca do tratamento de exce&ccedil;&atilde;o, codificado com o comando "EXCEC" logo ap&oacute;s o comando "START", ser&aacute; encadeada uma tela para edi&ccedil;&atilde;o do novo tratamento de exce&ccedil;&atilde;o. </P></DIR>

<B><P><A NAME="Store">Comando STR ou STORE(l&oacute;gicas <I>batch ou on-line</I>)</B></A> </P>
<P>Este comando gera uma sequ&ecirc;ncia de c&oacute;digo para grava&ccedil;&atilde;o de um registro em um <I>dataset</I> ou de um registro global no banco de dados. </P>
<P>Para cadastrar o comando STR ou STORE no reposit&oacute;rio de dados do SADS, os campos abaixo devem ser preenchidos da seguinte forma: </P><DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>COMANDO</B> - "STR" ou "STORE". </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>ORIGEM</B> - C&oacute;digo do<I> dataset</I> ou do banco de dados cujo registro ser&aacute; gravado. </P>
<P>A seguir, ser&aacute; exibido um exemplo de como cadastrar o comando de m&oacute;dulo STORE: </P>
</FONT><pre><font size=3>                                                      <U>N.VEZES OU</U> 
<U>COMANDO/TIPO  ORIGEM  DESTINO  SET  ATRIBUTO  INDICE  N.FORMULA</U> 
 STORE         SXYB04 </pre></font>
<FONT SIZE=2><P>O fonte Cobol gerado ser&aacute; o seguinte: </P>
</FONT><pre><font size=3> 100114     STORE SXYB04 
 100214     ON EXCEPTION 
 100314        GO TO 98000-00-EXCECAO-FATAL. </pre></font>
<FONT SIZE=2><P>Deve ser observado que foi gerado o tratamento padr&atilde;o de exce&ccedil;&atilde;o no comando STORE. </P></DIR>

<B><P><A NAME="Tabela">Comando TAB ou TABELA(l&oacute;gicas <I>batch, on-line</I> ou sub-rotina)</B> </P></A>
<P>Este comando gera uma sequ&ecirc;ncia de c&oacute;digo para chamada &agrave; sub-rotina gen&eacute;rica de acesso a tabelas - SSTS01. </P>
<P>O ambiente da tabela a ser acessada nos programas <I>on-line</I> ser&aacute; definido pelo atributo GBL-USUAMBI, que foi informado pelo usu&aacute;rio no momento do <I>logon</I>. J&aacute; nos programas <I>batch</I>, o ambiente da tabela a ser acessada ser&aacute; definido atrav&eacute;s da op&ccedil;&atilde;o de compila&ccedil;&atilde;o "SADSTESTE", que caso setada ir&aacute; determinar o acesso &agrave; tabela em teste e, caso contr&aacute;rio, em produ&ccedil;&atilde;o. </P>
<P>Caso a tabela a ser acessada possua apenas campos chave e n&atilde;o possua campos de dados, n&atilde;o ser&aacute; gerado no fonte do programa os comandos para teste do retorno da sub-rotina SSTS01. Ao inv&eacute;s dos comandos para o teste ser&aacute; gerada uma advert&ecirc;ncia, ficando a cargo do programador a codigica&ccedil;&atilde;o dos mesmos. </P>
<P>Para cadastrar o comando TAB ou TABELA no reposit&oacute;rio de dados do SADS, os campos abaixo devem ser preenchidos da seguinte forma: </P><DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>COMANDO</B> - "TAB" ou "TABELA". </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>TIPO</B> - Tipo do acesso a ser efetuado na tabela. </P>
<P>Pode assumir os seguintes valores: </P><DIR>

</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"S" - Para obter acesso aos itens em ordem sequencial; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"R" - Para executar acesso rand&ocirc;mico ao item; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"C" - Para verificar a exist&ecirc;ncia do item; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"E" - Para verificar a exist&ecirc;ncia da tabela; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"L" - Para obter acesso ao item em ordem sequencial invertida, ou seja, do &uacute;ltimo para o primeiro; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"U" - Para obter acesso ao &uacute;ltimo item da tabela; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"P" - Para executar acesso rand&ocirc;mico ao item cujo argumento foi informado e, caso n&atilde;o exista, ao posterior, ou seja, caso o item especificado n&atilde;o exista, obt&eacute;m-se acesso ao pr&oacute;ximo item; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"A" - Para executar acesso rand&ocirc;mico ao item cujo argumento foi informado e, caso n&atilde;o exista, ao anterior, ou seja, caso o item especificado n&atilde;o exista, obt&eacute;m-se acesso ao item anterior; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"D" - Para executar acesso ao item, observando-se o crit&eacute;rio de validade de data especificada para a tabela.</P></DIR>

<P>Caso o tipo n&atilde;o seja informado, ser&aacute; assumido o acesso rand&ocirc;mico ao item: "R". </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>ORIGEM</B> - C&oacute;digo da estrutura de origem a partir da qual ser&aacute; composta a chave de acesso &agrave; tabela. </P>
<P>&Eacute; aceit&aacute;vel informar a palavra "NENHUM" para que o gerador n&atilde;o componha a chave de acesso e que a mesma possa ser composta anteriormente, conforme necessidade, pelo pr&oacute;prio usu&aacute;rio. </P>
<P>Caso o campo ORIGEM n&atilde;o seja informado, ser&aacute; assumido que nenhuma movimenta&ccedil;&atilde;o dever&aacute; ser efetuada para a chave de acesso da tabela, o que &eacute; similar ao usu&aacute;rio informar a palavra "NENHUM". </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>DESTINO</B> - C&oacute;digo da tabela &agrave; qual ser&aacute; executado o acesso. </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>SET</B> - Chave da tabela que ser&aacute; utilizada para acesso aos itens. </P>
<P>Pode assumir os seguintes valores: </P><DIR>

</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"B" - Para executar acesso &agrave; tabela utilizando a chave secund&aacute;ria "B"; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"C" - Para executar acesso &agrave; tabela utilizando a chave secund&aacute;ria "C"; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"D" - Para executar acesso &agrave; tabela utilizando a chave secund&aacute;ria "D".</P></DIR>

<P>Caso este campo n&atilde;o seja informado, ser&aacute; executado o acesso &agrave; tabela utilizando chave prim&aacute;ria. </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>INDICE</B> - Indicador de indexa&ccedil;&atilde;o de ocorr&ecirc;ncias na estrutura origem. </P>
<P>Observar explica&ccedil;&atilde;o para o campo INDICE no t&oacute;pico referente a "Cadastramento de m&oacute;dulos de processamento". </P>
<P>Pode assumir os seguintes valores: </P><DIR>

</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"O" - Para indexar os atributos da origem que apresentarem ocorr&ecirc;ncias em suas estruturas; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>&nbsp;"D" - Para indexar os atributos do destino que apresentarem ocorr&ecirc;ncias em suas estruturas; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"A" - Para indexar os atributos da origem e destino que apresentarem ocorr&ecirc;ncias em suas estruturas.</P></DIR>

<P>Caso este campo n&atilde;o seja informado, n&atilde;o ser&atilde;o consideradas as ocorr&ecirc;ncias da estrutura determinada nos campos ORIGEM e DESTINO, tamb&eacute;m conforme explicado anteriormente, no t&oacute;pico referente a "Cadastramento de m&oacute;dulos de processamento". </P>
<P>A seguir, ser&aacute; exibido um exemplo de como cadastrar o comando de m&oacute;dulo TAB ou TABELA: </P>
</FONT><pre><font size=3>                                                       <U>N.VEZES OU</U> 
<U>COMANDO/TIPO  ORIGEM  DESTINO  SET  ATRIBUTO  INDICE   N.FORMULA</U> 
TABELA  R    SXYB0400 SXYM6004                  O</pre></font><DIR>

<FONT SIZE=2><P>O fonte Cobol de um programa <I>on-line</I> gerado ser&aacute; o seguinte: </P></DIR>

</FONT><pre><font size=3>100114     MOVE Y0400-ATVCOD            TO YM6004-ATVCOD. 
100314     MOVE Y0400-ATVDATFIM         TO YM6004-ATVDATFIM. 
100414     MOVE Y0400-ATVFUNRESP        TO YM6004-ATVFUNRESP. 
100514     MOVE 300                     TO TS0101-VERSAO. 
100614     MOVE "SXYM6004"              TO TS0101-TBLCOD. 
100714     MOVE 0                       TO TS0101-EMPCOD. 
100814     MOVE 0                       TO TS0101-ETBCOD.
100914     MOVE 0                       TO TS0101-UNDCOD. 
101014     MOVE GBL-USUAMBI             TO TS0101-TABAMBI. 
101114     MOVE " "                     TO TS0101-CSTIDT. 
101214     MOVE "R"                     TO TS0101-TBLPESQ. 
101314     MOVE YM6004-TBLARG           TO TS0101-TBLARG. 
101414 
101514     CALL "SSTS01 OF SSTS01" USING SST01-LINKAREA. 
101614 
101714     IF TS0101-TBLSTA NOT EQUAL 0 
101814        MOVE SPACES               TO TS0101-TBLITEM. 
101914 
102014     MOVE TS0101-TBLITEM          TO YM6004-TBLITEM.</pre></font><DIR>

<FONT SIZE=2><P>O fonte Cobol de um programa <I>batch</I> gerado ser&aacute; o seguinte: </P></DIR>

</FONT><pre><font size=3>100114     MOVE Y0400-ATVCOD TO YM6004-ATVCOD.
100314     MOVE Y0400-ATVDATFIM TO YM6004-ATVDATFIM. 
100414     MOVE Y0400-ATVFUNRESP TO YM6004-ATVFUNRESP. 
100514     MOVE 300 TO TS0101-VERSAO. 
100614     MOVE "SXYM6004" TO TS0101-TBLCOD. 
100714     MOVE 0 TO TS0101-EMPCOD. 
100814     MOVE 0 TO TS0101-ETBCOD. 
100914     MOVE 0 TO TS0101-UNDCOD. 
101014$SET OMIT = SADSTESTE 
101114     MOVE "P" TO TS0101-TABAMBI. 
101214$POP OMIT 
101314$SET OMIT = NOT SADSTESTE 
101414     MOVE "T" TO TS0101-TABAMBI. 
101514$POP OMIT 
101614     MOVE " " TO TS0101-CSTIDT. 
101714     MOVE "R" TO TS0101-TBLPESQ. 
101814     MOVE YM6004-TBLARG TO TS0101-TBLARG. 
101914 
102014    CALL "SSTS01 OF SSTS01" USING SST01-LINKAREA. 
102114 
102214    IF TS0101-TBLSTA NOT EQUAL 0 
102314       MOVE SPACES TO TS0101-TBLITEM. 
102414 
102514    MOVE TS0101-TBLITEM TO YM6004-TBLITEM. </pre></font>
<FONT SIZE=2><P>Deve ser observado que: </P><DIR>

</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>&nbsp;A chave de acesso foi composta a partir da estrutura de origem. A movimenta&ccedil;&atilde;o para a estrutura da chave de acesso foi feita para atributos de mesmo mnem&ocirc;nico. Se houvesse ocorr&ecirc;ncias, a movimenta&ccedil;&atilde;o teria sido indexada. </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>&nbsp;Os atributos da &aacute;rea de comunica&ccedil;&atilde;o da sub-rotina de tabelas foram compostos a partir das informa&ccedil;&otilde;es cadastradas para o comando, inclusive o tipo de pesquisa e o argumento, sendo que este &uacute;ltimo foi composto com a chave de acesso ao item. </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>&nbsp;No programa <I>on-line</I>, o ambiente onde a tabela ser&aacute; acessada foi composto atrav&eacute;s do atributo GBL-USUAMBI, que foi informado pelo usu&aacute;rio no momento do <I>logon</I>. </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>&nbsp;No programa <I>batch</I>, o ambiente onde a tabela ser&aacute; acessada ir&aacute; depender da op&ccedil;&atilde;o de compila&ccedil;&atilde;o SADSTESTE, a ser setada ou n&atilde;o no momento da compila&ccedil;&atilde;o do programa. </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>&nbsp;O acesso &agrave; sub-rotina de tabelas foi feito atrav&eacute;s do comando CALL. </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>&nbsp;Foi gerado um teste para verificar se o item foi encontrado. Se o item n&atilde;o tivesse sido encontrado, a &aacute;rea reservada para ele seria composta com brancos; caso contr&aacute;rio, ele seria movimentado para a &aacute;rea auxiliar reservada para a tabela.</P></DIR>

<P>Cumpre ressaltar que, na gera&ccedil;&atilde;o do fonte de um programa, caso este possua como recurso um <I>dataset</I> definido como "externo", todas as refer&ecirc;ncias aos atributos deste <I>dataset </I>ser&atilde;o feitas pelos seus c&oacute;digos externos e n&atilde;o pelos seus c&oacute;digos. </P></DIR>

<B><P><A NAME="Tel">Comando TEL (l&oacute;gica <I>on-line</I>)</A> </P>
</B><P>Este comando gera uma sequ&ecirc;ncia de c&oacute;digo para acesso ao desenho da tela. </P>
<P>Para cadastrar o comando TEL no reposit&oacute;rio de dados do SADS, os campos abaixo devem ser preenchidos da seguinte forma: </P><DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>COMANDO</B> - "TEL". </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>ORIGEM</B> - C&oacute;digo da tela a qual ser&aacute; executado o acesso. </P>
<P>A seguir, ser&aacute; exibido um exemplo de como cadastrar o comando de m&oacute;dulo "TEL":</P>
</FONT><pre><font size=3>                                                      <U>N.VEZES OU
COMANDO/TIPO  ORIGEM  DESTINO  SET  ATRIBUTO  INDICE  N.FORMULA
</U> TEL    SXYT0114</pre></font><DIR>

<FONT SIZE=2><P>O fonte Cobol gerado ser&aacute; o seguinte: </P>
</FONT><pre><font size=3>
100114     MOVE "SXYT0114"               TO SS0101-CODTELA. 
100214
100314     PERFORM 88000-00-LER-TELA THRU 88000-99-EXIT.
100414
100514     MOVE GBL-DATA-HORA            TO YT14O-TLADTH.
100614     MOVE GBL-EMPSIGLA             TO YT14O-EMPSIGLA.</pre></font>
<FONT SIZE=2><P>Deve ser observado que, no exemplo acima, foi gerado o comando de acesso ao desenho da tela e foram compostos os campos de data/hora e sigla da empresa desta tela. </P></DIR>
</DIR>

<B><P><A NAME="Teq">Comando TEQ (l&oacute;gica <I>on-line</I>) </A></P>
</B><P>Este comando gera uma sequ&ecirc;ncia de c&oacute;digo para acesso a um<I> dataset</I>, a fim de verificar a exist&ecirc;ncia do registro e coloc&aacute;-lo dispon&iacute;vel para uso. </P>
<P>Para cadastrar o comando TEQ no reposit&oacute;rio de dados do SADS, os campos abaixo devem ser preenchidos da seguinte forma: </P><DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>COMANDO</B> - "TEQ". </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>TIPO</B> - Tipo do FIND a ser efetuado. </P>
<P>Pode assumir os seguintes valores: </P><DIR>

</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"F" - Para obter acesso ao primeiro registro: FIND FIRST; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"N" - Para obter acesso ao pr&oacute;ximo registro: FIND NEXT; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"L" - Para obter acesso ao &uacute;ltimo registro: FIND LAST; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"P" - Para obter acesso ao registro anterior: FIND PRIOR. </P></DIR>

<P>Caso este tipo n&atilde;o seja informado, ser&aacute; gerado acesso puro: FIND. </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>ORIGEM</B> - C&oacute;digo da estrutura de origem a partir da qual ser&aacute; composta a chave de acesso ao <I>dataset</I>. </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>DESTINO</B> - C&oacute;digo do <I>dataset</I> ao qual ser&aacute; executado o acesso. </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>SET</B> - C&oacute;digo da estrutura DMSII (<I>set</I>, <I>subset</I> ou <I>access</I>) para acesso ao <I>dataset</I>. </P>
<P>Para obter acesso direto ao <I>dataset</I>, este campo deve ser deixado em branco. </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>ATRIBUTO</B> - C&oacute;digo do &uacute;ltimo atributo para acesso &agrave; estrutura DMSII. </P>
<P>Pode assumir os seguintes valores: </P><DIR>

</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"&lt;C&oacute;digo do &uacute;ltimo atributo&gt;" - Para acesso com a chave parcial, at&eacute; este atributo limite; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"NENHUM" - Para n&atilde;o qualificar a chave de acesso. </P></DIR>

<P>Caso este campo n&atilde;o seja informado, ser&aacute; gerado acesso com chave completa, ou seja, com todos os atributos da chave. </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>INDICE</B> - Indicador de indexa&ccedil;&atilde;o de ocorr&ecirc;ncias na estrutura origem. </P>
<P>Observar explica&ccedil;&atilde;o para o campo INDICE no t&oacute;pico referente a "Cadastramento de m&oacute;dulos de processamento". </P>
<P>Pode assumir os seguintes valores: </P><DIR>

</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"O" - Para indexar os atributos da origem que apresentarem ocorr&ecirc;ncias em suas estruturas; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"D" - Para indexar os atributos do destino que apresentarem ocorr&ecirc;ncias em suas estruturas; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"A" - Para indexar os atributos da origem e do destino que apresentarem ocorr&ecirc;ncias em suas estruturas. </P></DIR>

<P>Caso este campo n&atilde;o seja informado, n&atilde;o ser&atilde;o consideradas as ocorr&ecirc;ncias da estrutura determinada nos campos ORIGEM e DESTINO, tamb&eacute;m conforme explicado anteriormente, no t&oacute;pico referente a "Cadastramento de m&oacute;dulos de processamento". </P>
<P>A seguir, ser&aacute; exibido um exemplo de como cadastrar o comando de m&oacute;dulo TEQ: </P>
</FONT><pre><font size=3>                                                      <U>N.VEZES OU
COMANDO/TIPO  ORIGEM  DESTINO  SET  ATRIBUTO  f  N.FORMULA</U> 
TEQ     F     SXYT0114 SXYB0400 A   PRJCOD      O</pre></font>
<FONT SIZE=2><P>O fonte Cobol gerado ser&aacute; o seguinte: </P>
</FONT><pre><font size=3>
100114        MOVE YT14I-ATVCOD        TO Y04A-ATVCOD.
100214        MOVE YT14I-PRJCOD        TO Y04A-PRJCOD. 
100314 
100414        FIND FIRST SXYB04A AT 
100514                Y0400-ATVCOD           = Y04A-ATVCOD 
100614             AND Y0400-PRJCOD          = Y04A-PRJCOD 
100714        ON EXCEPTION 
100814           IF DMSTATUS(NOTFOUND) 
100914              MOVE 1 TO GBL-ERRO 
101014              MOVE "REGISTRO INEXISTENTE" 
101114                                TO GBL-MENSAGEM 
101214              GO TO 99000-99-EXIT-PROGRAM 
101314           ELSE 
101414              GO TO 98000-00-EXCECAO-FATAL. </pre></font>
<FONT SIZE=2><P>Deve ser observado que: </P><DIR>

</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>&nbsp;A chave de acesso foi composta a partir da estrutura de origem. </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>&nbsp;A movimenta&ccedil;&atilde;o para a estrutura da chave de acesso foi feita para atributos de mesmo mnem&ocirc;nico. Se houver ocorr&ecirc;ncias, a movimenta&ccedil;&atilde;o ser&aacute; indexada. </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>&nbsp;O tratamento de exce&ccedil;&atilde;o para o comando TEQ utiliza &aacute;reas que s&oacute; existem em programas <I>on-line</I>. </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>&nbsp;Cumpre ressaltar que, na gera&ccedil;&atilde;o do fonte de um programa, caso este possua como recurso um <I>dataset</I> definido como "externo", todas as refer&ecirc;ncias aos atributos deste <I>dataset </I>ser&atilde;o feitas pelos seus c&oacute;digos externos e n&atilde;o pelos seus c&oacute;digos. </P></DIR>
</DIR>

<B><P><A NAME="Teqko">Comando TEQKO (l&oacute;gica <I>on-line</I>)</A> </P>
</B><P>Este comando gera uma sequ&ecirc;ncia de c&oacute;digos para acesso a um<I> dataset</I>, a fim de verificar a exist&ecirc;ncia do registro, sem tornar dispon&iacute;veis para uso os dados do registro aos quais foi executado o acesso. </P>
<P>Para cadastrar o comando TEQKO no reposit&oacute;rio de dados do SADS, preencha os campos abaixo da seguinte forma: </P><DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>COMANDO</B> - "TEQKO". </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>TIPO</B> - Tipo do comando FIND KEY OF a ser efetuado. </P>
<P>Pode assumir os seguintes valores: </P><DIR>

</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"F" - Para obter acesso ao primeiro registro: FIND KEY OF FIRST; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"N" - Para obter acesso ao pr&oacute;ximo registro: FIND KEY OF NEXT; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"L" - Para obter acesso ao &uacute;ltimo registro: FIND KEY OF LAST; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"P" - Para obter acesso ao registro anterior: FIND KEY OF PRIOR. </P></DIR>

<P>Caso o tipo n&atilde;o seja informado, ser&aacute; gerado acesso puro: FIND KEY OF. </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>ORIGEM</B> - C&oacute;digo da estrutura de origem a partir da qual ser&aacute; composta a chave de acesso ao <I>dataset</I>. </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>DESTINO</B> - C&oacute;digo do <I>dataset</I> ao qual ser&aacute; executado o acesso. </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>SET</B> - C&oacute;digo da estrutura DMSII (<I>set</I>, <I>subset</I> ou <I>access</I>) de acesso ao <I>dataset</I>. </P>
<P>Para obter acesso ao <I>dataset</I>, este campo deve ser deixado em branco. </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>ATRIBUTO</B> - C&oacute;digo do &uacute;ltimo atributo para acesso &agrave; estrutura DMSII. </P>
<P>Pode assumir os seguintes valores: </P><DIR>

</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"&lt;C&oacute;digo do &uacute;ltimo atributo&gt;" - Para obter acesso com chave parcial, at&eacute; este atributo limite; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"NENHUM" - Para n&atilde;o qualificar a chave de acesso. </P></DIR>

<P>Caso este campo n&atilde;o seja informado, ser&aacute; gerado acesso com chave completa, ou seja, com todos os atributos da chave. </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>INDICE</B> - Indicador de indexa&ccedil;&atilde;o de ocorr&ecirc;ncias na estrutura origem. </P>
<P>Observar explica&ccedil;&atilde;o para o campo INDICE no t&oacute;pico referente a "Cadastramento de m&oacute;dulos de processamento". </P>
<P>Pode assumir os seguintes valores: </P><DIR>

</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"O" - Para indexar os atributos da origem que apresentarem ocorr&ecirc;ncias em suas estruturas; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"D" - Para indexar os atributos do destino que apresentarem ocorr&ecirc;ncias em suas estruturas; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"A" - Para indexar os atributos da origem e do destino que apresentarem ocorr&ecirc;ncias em suas estruturas. </P></DIR>

<P>Caso este campo n&atilde;o seja informado, n&atilde;o ser&atilde;o consideradas as ocorr&ecirc;ncias da estrutura determinada nos campos ORIGEM e DESTINO, tamb&eacute;m conforme explicado anteriormente, no t&oacute;pico referente a "Cadastramento de m&oacute;dulos de processamento". </P>
<P>A seguir, ser&aacute; exibido um exemplo de como cadastrar o comando de m&oacute;dulo TEQKO: </P>
</FONT><pre><font size=3>                                                      <U>N.VEZES OU
COMANDO/TIPO  ORIGEM  DESTINO  SET  ATRIBUTO  INDICE  N.FORMULA</U> 
TEQKO   F    SXYT0114 SXYB0400 A    PRJCOD       O</pre></font>
<FONT SIZE=2><P>O fonte Cobol gerado ser&aacute; o seguinte: </P>
</FONT><pre><font size=3>100114       MOVE YT14I-ATVCOD        TO Y04A-ATVCOD.
100214       MOVE YT14I-PRJCOD        TO Y04A-PRJCOD. 
100314
100414       FIND KEY OF FIRST SXYB04A AT 
100514                Y0400-ATVCOD          = Y04A-ATVCOD 
100614            AND Y0400-PRJCOD          = Y04A-PRJCOD 
100714       ON EXCEPTION 
100814          IF DMSTATUS(NOTFOUND) 
100914             MOVE 1 TO GBL-ERRO 
101014             MOVE "REGISTRO INEXISTENTE" 
101114                                TO GBL-MENSAGEM 
101214             GO TO 99000-99-EXIT-PROGRAM 
101314          ELSE 
101414             GO TO 98000-00-EXCECAO-FATAL. </pre></font>
<FONT SIZE=2><P>Deve ser observado que: </P><DIR>

</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>&nbsp;A chave de acesso ser&aacute; composta a partir da estrutura de origem. </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>&nbsp;A movimenta&ccedil;&atilde;o para a estrutura da chave de acesso ser&aacute; feita para atributos de mesmo mnem&ocirc;nico. Se houver ocorr&ecirc;ncias, a movimenta&ccedil;&atilde;o ser&aacute; indexada. </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>&nbsp;Ser&aacute; feito o acesso ao <I>dataset</I> atrav&eacute;s do comando FIND KEY OF. Caso o registro n&atilde;o exista, ser&aacute; enviada a mensagem "REGISTRO INEXISTENTE". </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>&nbsp;O tratamento de exce&ccedil;&atilde;o para o comando TEQKO utiliza &aacute;reas que s&oacute; existem em programas <I>on-line</I>. </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>&nbsp;Cumpre ressaltar que, na gera&ccedil;&atilde;o do fonte de um programa, caso este possua como recurso um <I>dataset</I> definido como "externo", todas as refer&ecirc;ncias aos atributos deste <I>dataset </I>ser&atilde;o feitas pelos seus c&oacute;digos externos e n&atilde;o pelos seus c&oacute;digos. </P></DIR>
</DIR>

<B><P><A NAME="Tne">Comando TNE (l&oacute;gica <I>on-line</I>)</A> </P>
</B><P>Este comando gera uma sequ&ecirc;ncia de c&oacute;digo para acesso a um <I>dataset</I>, a fim de verificar a inexist&ecirc;ncia do registro. </P>
<P>Para cadastrar o comando TNE no reposit&oacute;rio de dados do SADS, os campos abaixo devem ser preenchidos da seguinte forma: </P><DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>COMANDO</B> - "TNE". </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>TIPO</B> - Tipo do comando FIND KEY OF a ser efetuado. </P>
<P>Pode assumir os seguintes valores: </P><DIR>

</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"F" - Para obter acesso ao primeiro registro: FIND KEY OF FIRST; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"N" - Para obter acesso ao pr&oacute;ximo registro: FIND KEY OF NEXT; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"L" - Para obter acesso ao &uacute;ltimo registro: FIND KEY OF LAST; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"P" - Para obter acesso ao registro anterior: FIND KEY OF PRIOR. </P></DIR>

<P>Caso este campo n&atilde;o seja informado, ser&aacute; gerado acesso puro: FIND KEY OF. </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>ORIGEM</B> - C&oacute;digo da estrutura de origem a partir da qual ser&aacute; composta a chave de acesso ao <I>dataset</I>. </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>DESTINO</B> - C&oacute;digo do <I>dataset</I> a que se ter&aacute; acesso. </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>SET</B> - C&oacute;digo da estrutura DMSII (<I>set</I>, <I>subset</I> ou <I>access</I>) de acesso ao <I>dataset</I>. </P>
<P>Para obter acesso direto ao <I>dataset</I>, este campo deve ser deixado em branco. </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>ATRIBUTO</B> - C&oacute;digo do &uacute;ltimo atributo para acesso &agrave; estrutura DMSII.</P>
<P>Pode assumir os seguintes valores: </P><DIR>

</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"&lt;C&oacute;digo do &uacute;ltimo atributo&gt;" - Para obter acesso com chave parcial, at&eacute; este atributo limite; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"NENHUM" - Para n&atilde;o qualificar a chave de acesso. </P></DIR>

<P>Caso este campo n&atilde;o seja informado, ser&aacute; gerado acesso com chave completa, ou seja, com todos os atributos da chave. </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>INDICE</B> - Indicador de indexa&ccedil;&atilde;o de ocorr&ecirc;ncias na estrutura origem. </P>
<P>Observar explica&ccedil;&atilde;o para o campo INDICE no t&oacute;pico referente a "Cadastramento de m&oacute;dulos de processamento". </P>
<P>Pode assumir os seguintes valores: </P><DIR>

</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"O" - Para indexar os atributos da origem que apresentarem ocorr&ecirc;ncias em suas estruturas; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"D" - Para indexar os atributos do destino que apresentarem ocorr&ecirc;ncias em suas estruturas; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"A" - Para indexar os atributos da origem e do destino que apresentarem ocorr&ecirc;ncias em suas estruturas. </P></DIR>

<P>Caso este campo n&atilde;o seja informado, n&atilde;o ser&atilde;o consideradas as ocorr&ecirc;ncias da estrutura determinada nos campos ORIGEM e DESTINO, tamb&eacute;m conforme explicado anteriormente, no t&oacute;pico referente a "Cadastramento de m&oacute;dulos de processamento". </P>
<P>A seguir, ser&aacute; exibido um exemplo de como cadastrar o comando de m&oacute;dulo TNE: </P>
</FONT><pre><font size=3>                                                      <U>N.VEZES OU
COMANDO/TIPO  ORIGEM  DESTINO  SET  ATRIBUTO  INDICE  N.FORMULA</U> 
TNE     F    SXYT0114 SXYB0400  A   PRJCOD      O</pre></font><DIR>

<FONT SIZE=2><P>O fonte Cobol gerado ser&aacute; o seguinte: </P></DIR>

</FONT><pre><font size=3>100114       MOVE YT14I-ATVCOD          TO Y04A-ATVCOD. 
100214       MOVE YT14I-PRJCOD          TO Y04A-PRJCOD.
100314
100414       FIND KEY OF FIRST SXYB04A AT
100514              Y0400-ATVCOD           = Y04A-ATVCOD
100614          AND Y0400-PRJCOD           = Y04A-PRJCOD
100714       ON EXCEPTION
100814          IF DMSTATUS(NOTFOUND)
100914             GO TO 36014-10-CONTINUA
101014          ELSE
101114             GO TO 98000-00-EXCECAO-FATAL.
101214
101314        MOVE 1                    TO GBL-ERRO.
101414        MOVE "REGISTRO EXISTENTE" TO GBL-MENSAGEM.
101514 
101614             GO TO 99000-99-EXIT-PROGRAM.
101714 
101814 36014-10-CONTINUA. </pre></font>
<FONT SIZE=2><P>Deve ser observado que: </P><DIR>

</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>&nbsp;A chave de acesso foi composta a partir da estrutura de origem. </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>&nbsp;A movimenta&ccedil;&atilde;o para a estrutura da chave de acesso foi feita para atributos de mesmo mnem&ocirc;nico. Se houvesse ocorr&ecirc;ncias, a movimenta&ccedil;&atilde;o seria indexada. </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>&nbsp;O acesso ao <I>dataset</I> foi executado atrav&eacute;s do comando FIND KEY OF. Caso o registro seja encontrado, ser&aacute; enviada a mensagem "REGISTRO EXISTENTE"; caso contr&aacute;rio, haver&aacute; um desvio para o par&aacute;grafo CONTINUA. </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>&nbsp;O tratamento de exce&ccedil;&atilde;o para o comando TNE utiliza &aacute;reas que s&oacute; existem em programas <I>on-line</I>. </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>&nbsp;Cumpre ressaltar que, na gera&ccedil;&atilde;o do fonte de um programa, caso este possua como recurso um <I>dataset</I> definido como "externo", todas as refer&ecirc;ncias aos atributos deste <I>dataset </I>ser&atilde;o feitas pelos seus c&oacute;digos externos e n&atilde;o pelos seus c&oacute;digos. </P></DIR>
</DIR>

<B><P><A NAME="Write">Comando WRITE (l&oacute;gicas <I>batch</I>, <I>on-line</I> ou sub-rotina) </P></A>
</B><P>Este comando gera uma sequ&ecirc;ncia de c&oacute;digo para grava&ccedil;&atilde;o de um registro de arquivo convencional. </P>
<P>Para cadastrar o comando WRITE no reposit&oacute;rio de dados do SADS, os campos abaixo devem ser preenchidos da seguinte forma: </P><DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>COMANDO</B> - "WRITE". </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>ORIGEM</B> - C&oacute;digo do arquivo cujo registro ser&aacute; gravado. </P>
<P>A seguir, ser&aacute; exibido um exemplo de como cadastrar o comando de m&oacute;dulo WRITE: </P>
</FONT><pre><font size=3>                                                      <U>N.VEZES OU
COMANDO/TIPO  ORIGEM  DESTINO  SET  ATRIBUTO  INDICE  N.FORMULA
</U> WRITE        SXYA54</pre></font>
<FONT SIZE=2><P>O fonte Cobol gerado ser&aacute; o seguinte: </P>
</FONT><pre><font size=3> 100114    WRITE SXYA5400F INVALID KEY 
 100214        DISPLAY "ERRO NA GRAVACAO ARQUIVO SXYA54" 
 100314        SET MYSELF(STATUS) TO -1.</pre></font>
<FONT SIZE=2><P>Deve ser observado, no exemplo acima: </P><DIR>

</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>&nbsp;Que a grava&ccedil;&atilde;o &eacute; feita diretamente da &aacute;rea de FD do arquivo, e n&atilde;o atrav&eacute;s da &aacute;rea de <I>work</I> do mesmo. </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>&nbsp;O tratamento padr&atilde;o de exce&ccedil;&atilde;o gerado para o comando WRITE. Neste tratamento existe o cancelamento atrav&eacute;s do comando "SET MYSELF (STATUS) TO - 1", que n&atilde;o &eacute; conveniente quando se trata de programas <I>on-line</I>. </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>&nbsp;Para a troca do tratamento de exce&ccedil;&atilde;o, deve-se codificar o comando EXCEC logo ap&oacute;s o comando WRITE. Ser&aacute; aberta uma nova tela para a edi&ccedil;&atilde;o do novo tratamento. </P></DIR>
</DIR>

</FONT><B><FONT SIZE=5><P><A NAME="Cadcob">Cadastramento de edi&ccedil;&atilde;o Cobol</A> </P>
</B></FONT><FONT SIZE=2><P>O SADS possui uma fun&ccedil;&atilde;o para edi&ccedil;&atilde;o de comandos quaisquer em Cobol e comandos para tratamento de exce&ccedil;&atilde;o. </P>
<P>Atrav&eacute;s desta fun&ccedil;&atilde;o, torna-se poss&iacute;vel ao usu&aacute;rio definir uma sequ&ecirc;ncia de comandos a serem inseridos, tal e qual cadastrados, no fonte do programa. </P>
<P>Podem existir determinados comandos do programa que n&atilde;o s&atilde;o gerados da maneira como se deseja pelos comandos de m&oacute;dulo oferecidos pelo SADS. Podem tamb&eacute;m existir tratamentos de exce&ccedil;&atilde;o gerados pelo SADS que n&atilde;o atendem &agrave; necessidade espec&iacute;fica da aplica&ccedil;&atilde;o. Desta forma, torna-se necess&aacute;rio incluir no fonte do programa diretamente comandos em Cobol, para atender &agrave; necessidade, ou comandos para substituir o tratamento de exce&ccedil;&atilde;o que seria normalmente gerado. </P>
<P>A inclus&atilde;o de comandos em Cobol no fonte do programa pode ser feita de duas formas: </P><DIR>

</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>&nbsp;Cadastrando cada comando em Cobol a ser inserido no programa atrav&eacute;s do comando de m&oacute;dulo COB, ou </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>&nbsp;Cadastrando todos os comandos em Cobol atrav&eacute;s de um &uacute;nico comando de m&oacute;dulo, que &eacute; o EDIT. </P></DIR>

<P>J&aacute; a substitui&ccedil;&atilde;o do tratamento padr&atilde;o de exce&ccedil;&atilde;o do SADS pode ser feita tamb&eacute;m de duas formas: </P><DIR>

</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>&nbsp;Substituindo todo o par&aacute;grafo a ser gerado, incluindo nele, assim, o novo tratamento desejado, ou </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>&nbsp;O mais conveniente, cadastrando o comando de m&oacute;dulo EXCEC ap&oacute;s o comando que executa o acesso ao <I>dataset</I> ou ao arquivo convencional. </P></DIR>

<P>Atrav&eacute;s do cadastramento no m&oacute;dulo dos comandos EDIT ou EXCEC, que s&atilde;o identificados por um nome, define-se o local do programa onde ser&aacute; inserido o trecho com comandos Cobol ou se define qual ser&aacute; o comando de acesso anterior cujo tratamento de exce&ccedil;&atilde;o ser&aacute; substitu&iacute;do, respectivamente. </P>
<P>Ap&oacute;s a finaliza&ccedil;&atilde;o do cadastramento do m&oacute;dulo dos comandos EDIT ou EXCEC, o SADS apresenta uma tela para cadastramento do comando, dispondo de 21 linhas para codifica&ccedil;&atilde;o da sequ&ecirc;ncia de comandos em Cobol. </P>
<P>Para edi&ccedil;&atilde;o de comandos em Cobol, &eacute; necess&aacute;rio que a identifica&ccedil;&atilde;o, os recursos, a l&oacute;gica, a sele&ccedil;&atilde;o de m&oacute;dulos e a defini&ccedil;&atilde;o dos mesmos estejam cadastrados no reposit&oacute;rio de dados do SADS. Al&eacute;m disto, no m&oacute;dulo, deve ter sido definido algum comando EDIT ou EXCEC. </P>
</FONT><B><FONT SIZE=4><P><A NAME="Coedit">Comando EDIT</A> </P>
</B></FONT><FONT SIZE=2><P>Para cadastrar o comando EDIT no reposit&oacute;rio de dados do SADS, os campos abaixo devem ser preenchidos da seguinte forma: </P><DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>COMANDO</B> - "EDIT". </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>ORIGEM</B> - Nome do comando EDIT, que &eacute; composto de, no m&aacute;ximo, dez caracteres. </P>
<P>Pode-se informar o nome "ENCADEAR" para o comando EDIT a fim de que o SADS abra uma tela contendo alguns comandos j&aacute; codificados que ser&atilde;o utilizados para encadeamento de uma pr&oacute;xima transa&ccedil;&atilde;o, quais sejam: </P>
</FONT><pre><font size=3>  -----&gt;        * 
  -----&gt;        * SALVAR CAMPOS DE INPUT NECESSARIOS 
  -----&gt;        * 
  -----&gt;      
  -----&gt;             MOVE SPACES TO MENSAGEM 
  -----&gt;
  -----&gt;        * 
  -----&gt;        * COMPOR CAMPOS DE INPUT DO MENU A SER DISPARADO 
  -----&gt;        * 
  -----&gt;
  -----&gt;             MOVE NNNN TO H-TAMANHO 
  -----&gt;             MOVE 9 TO GBL-STATUS. 
  -----&gt;             GO TO 99000-99-EXIT-PROGRAM.
  -----&gt;</pre></font>
<FONT SIZE=2><P>A seguir, ser&aacute; exibido um exemplo de como cadastrar o comando de m&oacute;dulo EDIT: </P>
</FONT><pre><font size=3>                                                      <U>N.VEZES OU
COMANDO/TIPO  ORIGEM  DESTINO  SET  ATRIBUTO  INDICE  N.FORMULA</U> 
 EDIT         ROT-TESTE</pre></font>
<FONT SIZE=2><P>Ap&oacute;s a finaliza&ccedil;&atilde;o da transa&ccedil;&atilde;o de cadastramento do m&oacute;dulo, ser&aacute; apresentada uma tela para cadastramento do comando EDIT, dispondo de 21 linhas para codificar os comandos em Cobol. </P>
<P>Caso necess&aacute;rio, outras telas poder&atilde;o ser encadeadas para continua&ccedil;&atilde;o da codifica&ccedil;&atilde;o. Para propiciar este encadeamento, &eacute; apresentado o campo CONTINUA, com as seguintes possibilidades de preenchimento: </P><DIR>

</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"A" - Avan&ccedil;a para a pr&oacute;xima p&aacute;gina; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"V" - Volta para a p&aacute;gina anterior; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"R" - Restaura a p&aacute;gina atual, desconsiderando as altera&ccedil;&otilde;es efetuadas; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"I" - Inclui nova p&aacute;gina; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"N" - N&atilde;o continua - Encerra o cadastramento do comando EDIT. </P></DIR>

<P>A seguir, ser&aacute; exibido um exemplo de como cadastrar os comandos em Cobol no m&oacute;dulo EDIT: </P>
</FONT><pre><font size=3>
  -----&gt;        MOVE GBL-EMPCOD       TO Y0400-EMPRESA. 
  -----&gt;        ADD 1                 TO WSS-TOTACM.
  -----&gt;        ESTE E UM EXEMPLO DE COMO CADASTRAR COMANDOS EDIT 
  -----&gt;        SUBTRACT WSS-TOTFUNC FROM WSS-TOTGER. </pre></font>
<FONT SIZE=2><P>O fonte Cobol gerado ser&aacute; o seguinte: </P>
</FONT><pre><font size=3>  110114           MOVE GBL-EMPCOD       TO Y0400-EMPRESA. 
  110214           ADD 1                 TO WSS-TOTACM. 
  110314*          ESTE E UM EXEMPLO DE COMO CADASTRAR COMANDOS EDIT
  110414           SUBTRACT WSS-TOTFUNC FROM WSS-TOTGER.</pre></font>
<FONT SIZE=2><P>Deve ser observado que os comandos foram gerados exatamente como foram cadastrados. Isto constitui regra geral para o comando EDIT. </P></DIR>

</FONT><B><FONT SIZE=4><P><A NAME="Coexec">Comando EXCEC</A> </P>
</B></FONT><FONT SIZE=2><P>Este comando &eacute; utilizado para determinar sequ&ecirc;ncias de c&oacute;digo Cobol que ir&atilde;o substituir os comandos de tratamento de exce&ccedil;&atilde;o padr&atilde;o para estruturas DMSII e arquivos convencionais gerados pelo SADS. </P>
<P>Ele pode ser cadastrado ap&oacute;s comandos que tratam estruturas DMSII ou ap&oacute;s comandos que executam acesso a arquivos convencionais, para substituir o tratamento de exce&ccedil;&atilde;o que seria normalmente gerado pelo SADS nestes comandos. </P>
<P>O tratamento de exce&ccedil;&atilde;o padr&atilde;o gerado pelo SADS para acesso aos <I>datasets</I> &eacute; o seguinte: </P><DIR>

<P>Para acessos que testam a exist&ecirc;ncia do elemento: </P>
</FONT><pre><font size=3> 100114       ON EXCEPTION 
 100214        IF  DMSTATUS(NOTFOUND) 
 100314            MOVE 1                           TO GBL-ERRO 
 100414            STRING &lt;Nome do<I> dataset</I>&gt; DELIMITED SIZE 
 100514                  "INEXISTENTE" INTO GBL-MENSAGEM 
 100614            GO TO 99000-99-EXIT-PROGRAM 
 100714         ELSE 
 100814            DISPLAY "PRG = (<I>usercode</I>)ss/s/xF/nn" 
 100914            DISPLAY &amp;quotNUMERO DE SEQUENCIA mmmmm"
 101014         GO TO 98000-00-EXCECAO-FATAL.</pre></font>
<FONT SIZE=2><P>Para acessos que testam a inexist&ecirc;ncia do elemento: </P>
</FONT><pre><font size=3>  100114        ON EXCEPTION 
  100214        IF DMSTATUS(NOTFOUND) 
  100314           GO TO &lt;Num. parag.&gt;-99-EXIT 
  100414        ELSE 
  100514           DISPLAY "PRG = (<I>usercode</I>)ss/s/xF/nn"
  100614           DISPLAY "NUMERO DE SEQUENCIA mmmmm"
  100714           GO TO 98000-00-EXCECAO-FATAL. 
  100814
  100914        MOVE 1                               TO GBL-ERRO 
  101014        STRING &lt;Nome do <I>dataset</I>&gt; DELIMITED SIZE
  101114               " EXISTENTE" INTO GBL-MENSAGEM 
  101214        GO TO 99000-99-EXIT-PROGRAM. 
  101314</pre></font>
<FONT SIZE=2><P>O tratamento padr&atilde;o gerado pelo SADS para acesso aos arquivos tanto em programas <I>on-line</I> como em programas <I>batch</I> &eacute; o seguinte: </P>
<P>Para o comando READ: </P>
</FONT><pre><font size=3>  100114        MOVE HIGH-VALUE                      TO EOF-sssAnn 
  100214        GO TO &lt;num_parag&gt;-99-EXIT. </pre></font>
<FONT SIZE=2><P>Para o comando WRITE: </P>
</FONT><pre><font size=3>  100114        DISPLAY "ERRO NA GRAVACAO DO ARQUIVO sssAnn" 
  100214        SET MYSELF(STATUS) TO -1.</pre></font>
<FONT SIZE=2><P>Para cadastrar o comando "EXCEC" no reposit&oacute;rio de dados do SADS, os campos abaixo devem ser preenchidos da seguinte forma: </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>COMANDO</B> - "EXCEC". </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>ORIGEM</B> - Nome do comando EXCEC (composto de, no m&aacute;ximo, dez caracteres). </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>CAMPOS DA TELA </P>
</B><P>A tela para edi&ccedil;&atilde;o Cobol &eacute; desformatada, para aproveitamento das fun&ccedil;&otilde;es de edi&ccedil;&atilde;o do terminal. </P>
<P>As tr&ecirc;s primeiras linhas cont&ecirc;m informa&ccedil;&otilde;es de controle da transa&ccedil;&atilde;o, n&atilde;o podendo ser alteradas. </P>
<P>As linhas restantes ficam livres para a edi&ccedil;&atilde;o, onde dever&atilde;o ser respeitados os padr&otilde;es de codifica&ccedil;&atilde;o da linguagem Cobol. </P>
<P>Caso aconte&ccedil;a algum erro de consist&ecirc;ncia, ser&aacute; enviada uma mensagem notificando o erro ocorrido nas duas &uacute;ltimas linhas da tela, podendo, neste caso, destru&iacute;-las. </P></DIR>

</FONT><B><FONT SIZE=5><P><A NAME="Gerpro">Gera&ccedil;&atilde;o de programa</A></B></FONT><FONT SIZE=2> </P>
<P>O SADS possui uma fun&ccedil;&atilde;o encarregada de gerar, no <I>usercode</I> informado, um arquivo contendo o fonte Cobol do programa especificado. A gera&ccedil;&atilde;o deste fonte &eacute; baseada nas informa&ccedil;&otilde;es cadastradas para o programa no reposit&oacute;rio de dados do SADS: a identifica&ccedil;&atilde;o, os recursos, a l&oacute;gica, o tipo de processamento, a sele&ccedil;&atilde;o de m&oacute;dulos e a defini&ccedil;&atilde;o dos m&oacute;dulos. </P>
<P>Qualquer altera&ccedil;&atilde;o no cadastramento do programa implica em uma nova gera&ccedil;&atilde;o do programa, sem a necessidade de altera&ccedil;&atilde;o do mesmo via Cande. </P>
<P>A gera&ccedil;&atilde;o do programa &eacute; utilizada quando se deseja criar o fonte de um programa a partir de seu cadastramento no SADS ou quando se deseja atualizar o fonte do programa existente no <I>usercode</I>, a partir das altera&ccedil;&otilde;es efetuadas em seu cadastramento. </P>
<P>Atrav&eacute;s da fun&ccedil;&atilde;o de gera&ccedil;&atilde;o do SADS, &eacute; poss&iacute;vel gerar todos os programas do sistema completamente, sem a necessidade de complement&aacute;-los ou alter&aacute;-los via Cande. Esta gera&ccedil;&atilde;o completa &eacute; poss&iacute;vel devido ao fato de o SADS permitir o cadastramento de m&oacute;dulos de complementa&ccedil;&atilde;o do cadastramento dos programas. </P>
<P>No momento da gera&ccedil;&atilde;o, s&atilde;o incorporadas advert&ecirc;ncias ao fonte do programa sempre quando o SADS percebe alguma incoer&ecirc;ncia, incompatibilidade ou falta de completeza no fonte do programa a ser gerado. Ao final do mesmo, &eacute; informado o n&uacute;mero de advert&ecirc;ncias inclu&iacute;das. </P>
<P>Assim sendo, &eacute; desej&aacute;vel que estas advert&ecirc;ncias sejam sempre verificadas, a fim de evitar poss&iacute;veis erros de l&oacute;gica e processamento. </P>
<P>As advert&ecirc;ncias s&atilde;o inclu&iacute;das quando s&atilde;o detectadas, por exemplo, as seguintes situa&ccedil;&otilde;es: </P><DIR>
<DIR>

</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>&nbsp;Chaves de acesso a estruturas DMS n&atilde;o compostas; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>&nbsp;Chaves de acesso a estruturas DMS compostas parcialmente; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>&nbsp;N&atilde;o movimenta&ccedil;&atilde;o de atributos entre estruturas, no caso de comando de m&oacute;dulo "MOVE"; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>&nbsp;N&atilde;o movimenta&ccedil;&atilde;o de atributos da tela menu para a &aacute;rea conversacional, no caso de l&oacute;gica "AP". </P></DIR>
</DIR>

<P>No fonte, o MARKID &eacute; gerado com as seguintes informa&ccedil;&otilde;es: </P><DIR>
<DIR>

</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"GERADO" - Quando a linha fizer parte da gera&ccedil;&atilde;o padr&atilde;o do SADS; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"MODnnn" - Quando a linha tiver sido gerada por vers&otilde;es do SADS anteriores &agrave; 4.0, atrav&eacute;s de comando de m&oacute;dulo, onde "nnn" &eacute; o n&uacute;mero do m&oacute;dulo; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"Mnnnmmmm" - Quando a linha tiver sido gerada por vers&otilde;es do SADS iguais ou posteriores &agrave; 4.0, atrav&eacute;s de comando de m&oacute;dulo, onde "nnn" &eacute; o n&uacute;mero do m&oacute;dulo e "mmmm" &eacute; a sequ&ecirc;ncia do comando que gerou a linha dentro do m&oacute;dulo; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"Nome da edi&ccedil;&atilde;o Cobol/exce&ccedil;&atilde;o" - Quando a linha tiver sido gerada a partir de edi&ccedil;&atilde;o Cobol/tratamento de exce&ccedil;&atilde;o (comandos "EDIT" ou "EXEC"). </P></DIR>
</DIR>

<P>Cumpre ressaltar que, na gera&ccedil;&atilde;o do fonte de um programa, caso este possua como recurso um <I>dataset</I> definido como "externo", todas as refer&ecirc;ncias aos atributos deste <I>dataset</I> ser&atilde;o feitas pelos seus c&oacute;digos externos e n&atilde;o pelos seus c&oacute;digos. </P>
<P>Para gerar um programa, o mesmo j&aacute; deve ter sido cadastrado. A &uacute;ltima fun&ccedil;&atilde;o do cadastramento utilizada com as opera&ccedil;&otilde;es de inclus&atilde;o ou altera&ccedil;&atilde;o deve ter sido a de sele&ccedil;&atilde;o de m&oacute;dulos ou alguma das fun&ccedil;&otilde;es subsequentes (cadastramento de m&oacute;dulo ou edi&ccedil;&atilde;o Cobol). </P>
<P>Para gerar um programa, basta transmitir os argumentos do menu de opera&ccedil;&atilde;o GERPRO, cujos campos devem ser preenchidos conforme indicado a seguir. </P>
<B><P>CAMPOS DA TELA</B> </P><DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>Programa - </B>C&oacute;digo do programa que se deseja gerar, no padr&atilde;o SADS (ssspxx). </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>Usercode - </B>Usercode de an&aacute;lise. </P>
<P>S&atilde;o v&aacute;lidos para esta gera&ccedil;&atilde;o os usercodes de an&aacute;lise definidos na tabela SBPM5002. A defini&ccedil;&atilde;o dos usercodes de an&aacute;lise est&aacute; descrita na Se&ccedil;&atilde;o V, "Parametriza&ccedil;&otilde;es do SADS". </P>
<P>O usercode a ser informado deve estar habilitado ao usu&aacute;rio, como elemento, em sua lista de elementos "SEGUSER", no Sistema de Seguran&ccedil;a. Detalhes sobre este cadastramento est&atilde;o descritos na Se&ccedil;&atilde;o VI, "Sistema de Seguran&ccedil;a", item "Habilita&ccedil;&otilde;es de usu&aacute;rios SADS". </P>
<P>Caso o usercode n&atilde;o seja informado, ser&aacute; assumido o usercode default do usu&aacute;rio. Detalhes sobre o cadastramento do usercode default do usu&aacute;rio podem ser obtidos na se&ccedil;&atilde;o VI, "Sistema de Seguran&ccedil;a", item "Usu&aacute;rios e habilita&ccedil;&otilde;es". </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>Gerar mesmo que ja exista o fonte - </B>Indicador de sobreposi&ccedil;&atilde;o de programas fonte. </P>
<P>Pode assumir os seguintes valores: </P><DIR>

</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"S" - Para gerar o fonte independentemente da exist&ecirc;ncia de outro de mesmo c&oacute;digo no <I>usercode</I> informado; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"N" - Para gerar o fonte somente se n&atilde;o existir um programa com o mesmo c&oacute;digo no <I>usercode</I> informado. </P></DIR>
</DIR>

</FONT><B><FONT SIZE=5><P><A NAME="Compro">Compila&ccedil;&atilde;o de programa</A></B></FONT><FONT SIZE=2> </P>
<P>Compila&ccedil;&atilde;o do programa<I> </I>&eacute; o processo pelo qual a partir de um programa fonte &eacute; criado um programa objeto em linguagem execut&aacute;vel pelo computador. </P>
<P>Programas <I>on-line</I> necessitam da execu&ccedil;&atilde;o do <I>binder</I> do mesmo ao seu respectivo <I>host</I> antes de sua utiliza&ccedil;&atilde;o. Isto porque, atrav&eacute;s do<I> binder</I>, diferentes objetos de programas <I>on-line</I> de um mesmo sistema s&atilde;o agregados, com a finalidade de formar um &uacute;nico objeto execut&aacute;vel. </P>
<P>Se estiver definido que o sistema utiliza sub-rotinas globais, o SPM dever&aacute; pesquisar, nos fontes dos programas a compilar, os comandos CALL de chamadas &agrave;s sub-rotinas do aplicativo. Caso o comando seja encontrado e o par&acirc;metro de convers&atilde;o autom&aacute;tica para sub-rotinas globais seja igual a "S" (CODIGO = "SUBGBL" e PAR-4 = "S" na tabela SBPM5000), o SPM dever&aacute; processar as altera&ccedil;&otilde;es no fonte do programa para adapt&aacute;-lo &agrave; utiliza&ccedil;&atilde;o das sub-rotinas globais. Caso o comando seja encontrado e o par&acirc;metro de convers&atilde;o autom&aacute;tica para sub-rotinas globais seja igual a "N" (CODIGO = "SUBGBL" e PAR-4 = "N" na tabela SBPM5000), o SPM dever&aacute; enviar mensagem de erro. </P>
<P>Todos os detalhes referentes &agrave; utiliza&ccedil;&atilde;o global das sub-rotinas de um sistema est&atilde;o descritos nesta se&ccedil;&atilde;o, no item "Sub-rotina". </P>
<P>Para utilizar essa opera&ccedil;&atilde;o, o programa j&aacute; deve ter sido cadastrado no reposit&oacute;rio de dados do SADS e gerado no mesmo <I>usercode</I> onde ser&aacute; efetuada a compila&ccedil;&atilde;o. A gera&ccedil;&atilde;o da <I>library</I> de todos os elementos relacionados como recurso do programa tem de ter sido efetuada para o ambiente para o qual se est&aacute; compilando o programa. </P>
<P>Ap&oacute;s disparar a compila&ccedil;&atilde;o ou <I>binder</I> de um programa, o <I>status</I> desta execu&ccedil;&atilde;o pode ser acompanhado atrav&eacute;s do menu de opera&ccedil;&atilde;o "PROFILCOM", que poder&aacute; indicar as seguintes situa&ccedil;&otilde;es: COMPILADO OK, WARNING COMPILACAO, BINDER OK, ERRO COMPILACAO, ERRO BINDER. </P>
<P>O SADS permite consultar os erros que foram detectados durante a compila&ccedil;&atilde;o ou <I>binder</I> de programa, atrav&eacute;s do menu "LISERR". </P>
<P>Para compilar um programa, basta transmitir os argumentos do menu de opera&ccedil;&atilde;o "COMPRO", cujos campos devem ser preenchidos conforme indicado a seguir. </P>
<B><P>CAMPOS DA TELA</B> </P><DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>USERCODE - </B>C&oacute;digo do usercode de an&aacute;lise onde est&aacute; o fonte do programa. </P>
<P>Os usercodes de an&aacute;lise, bem como os dos ambientes de teste e produ&ccedil;&atilde;o, t&ecirc;m de estar definidos na tabela SBPM5002. Caso os ambientes de teste e produ&ccedil;&atilde;o sejam diferentes do de an&aacute;lise, estes tamb&eacute;m ter&atilde;o de estar definidos na tabela SBPM5003. Estas tabelas e defini&ccedil;&otilde;es est&atilde;o descritas na Se&ccedil;&atilde;o V, "Parametriza&ccedil;&otilde;es do SADS". </P>
<P>O usercode a ser informado deve estar habilitado ao usu&aacute;rio, como elemento, em sua lista de elementos "SEGUSER", no Sistema de Seguran&ccedil;a. Detalhes sobre este cadastramento est&atilde;o descritos na Se&ccedil;&atilde;o VI, "Sistema de Seguran&ccedil;a", item "Habilita&ccedil;&otilde;es de usu&aacute;rios SADS". </P>
<P>Caso o usercode n&atilde;o seja informado, ser&aacute; assumido o usercode default do usu&aacute;rio. Detalhes sobre o cadastramento do usercode default do usu&aacute;rio podem ser obtidos na se&ccedil;&atilde;o VI, "Sistema de Seguran&ccedil;a", item "Usu&aacute;rios e habilita&ccedil;&otilde;es". </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>PASSWORD</B> - Senha do <I>usercode</I>. </P>
<P>A password pode ou n&atilde;o ser informada conforme parametriza&ccedil;&atilde;o na tabela SBPM5000, campo COMPDF, Par&acirc;metro 5. Detalhes a respeito desta tabela est&atilde;o descritos na Se&ccedil;&atilde;o V, "Parametriza&ccedil;&otilde;es do SADS", neste manual. </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>ACCESSCODE</B> - <I>Accesscode</I>, no padr&atilde;o Unisys, se utilizado. </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>ACCESSPASSWORD</B> - Senha do <I>accesscode</I>, caso o mesmo tenha sido informado. </P>
<P>A accesspassword pode ou n&atilde;o ser informada conforme parametriza&ccedil;&atilde;o na tabela SBPM5000, campo COMPDF, Par&acirc;metro 5. Detalhes a respeito desta tabela est&atilde;o descritos na Se&ccedil;&atilde;o V, "Parametriza&ccedil;&otilde;es do SADS", neste manual. </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>NOME</B> - Nome de <I>job</I> de compila&ccedil;&atilde;o v&aacute;lido para a WFL da Unisys. </P>
<P>Caso o nome informado iniciar-se com "SPMA89", com ou sem algum complemento, o <I>job</I> de compila&ccedil;&atilde;o ser&aacute; salvo com este mesmo nome no <I>usercode</I> anteriormente especificado. Por exemplo, pode-se informar "SPMA89SXYN17" para que seja criado um arquivo de nome "SPMA89SXYN17" contendo o <I>job</I> de compila&ccedil;&atilde;o do programa SXYN17. </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>FONTES</B> - C&oacute;digo(s) do(s) programa(s) a ser(em) compilado(s), no padr&atilde;o SADS (ssspxx). </P>
<P>Nesta tela est&atilde;o dispon&iacute;veis seis campos para informar os c&oacute;digos dos programas de um mesmo sistema e tipo (<I>on-line</I>, <I>batch</I> ou <I>sub-rotina</I>) a serem compilados. </P>
<P>Pode-se, inclusive, solicitar a compila&ccedil;&atilde;o de programas <I>on-line</I> e <I>host</I> numa mesma transa&ccedil;&atilde;o. </P>
<P>Caso seja informado o caractere " =", todos os programas <I>on-line</I>, programas <I>batch</I> ou sub-rotinas do sistema ser&atilde;o compilados - caso o tipo dos fontes seja "NF", "t;PF" ou "SF" respectivamente. </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>AMBIENTE (T/P)</B> - Ambiente onde ser&aacute; compilado o programa. </P>
<P>Pode assumir os seguintes valores: </P><DIR>

</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"T" - Para que o fonte seja compilado no ambiente de teste; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"P" - Para que o fonte seja compilado no ambiente de produ&ccedil;&atilde;o. </P></DIR>

<P>Os ambientes de teste e produ&ccedil;&atilde;o t&ecirc;m de estar definidos na tabela SBPM5002. Estas defini&ccedil;&otilde;es est&atilde;o descritas na Se&ccedil;&atilde;o V, "Parametriza&ccedil;&otilde;es do SADS". </P>
<P>Caso o ambiente n&atilde;o seja informado, ser&aacute; assumido o ambiente <I>default</I> do usu&aacute;rio. Detalhes sobre o cadastramento do ambiente <I>default</I> do usu&aacute;rio podem ser obtidos na se&ccedil;&atilde;o VI, "Sistema de Seguran&ccedil;a", item "Usu&aacute;rios e habilita&ccedil;&otilde;es". </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>FILA</B> - Fila onde ser&aacute; executado o <I>job</I> de compila&ccedil;&atilde;o. </P>
<P>Este campo vem preenchido com a fila <I>default</I> para compila&ccedil;&otilde;es. </P>
<P>O n&uacute;mero da fila tem de estar cadastrado na tabela SBPM5001 e a fila <I>default</I> na tabela SBPM5002. Detalhes a respeito destas tabelas podem ser consultados na Se&ccedil;&atilde;o V, "Parametriza&ccedil;&otilde;es do SADS", neste manual. </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>COMPILADOR</B> - Compilador utilizado. </P>
<P>Este campo &eacute; opcional, caso o compilador j&aacute; tenha sido definido no cadastramento do programa. O compilador tem de estar cadastrado na tabela SBPM7016. </P>
<P>Detalhes sobre esta tabela est&atilde;o descritos na Se&ccedil;&atilde;o V, "Parametriza&ccedil;&otilde;es do SADS". </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>LISTAGEM</B> - Indicador de emiss&atilde;o de listagem de compila&ccedil;&atilde;o do programa. </P>
<P>Pode assumir os seguintes valores: </P><DIR>

</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"S" - Para gerar a listagem da compila&ccedil;&atilde;o do programa; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"N" - Para n&atilde;o gerar a listagem da compila&ccedil;&atilde;o do programa. </P></DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>BDNAME</B> - Nome do arquivo <I>backup</I> gerado atrav&eacute;s da listagem do programa compilado. </P>
<P>V&aacute;lido somente para LISTAGEM = "S". </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>OPCAO</B> - Op&ccedil;&atilde;o de compila&ccedil;&atilde;o para o programa. </P>
<P>As op&ccedil;&otilde;es de compila&ccedil;&atilde;o podem ser definidas na tabela SBPM5018, podendo ser especificadas por sistema, por tipo de programa (<I>on-line</I>, <I>batch</I>, sub-rotinas ou todos), por ambiente (teste, produ&ccedil;&atilde;o ou ambos), por tipo (setada ou resetada) ou por instala&ccedil;&atilde;o. </P>
<P>No entanto, caso se queira alterar ou acrescentar alguma op&ccedil;&atilde;o de compila&ccedil;&atilde;o para o programa, diferentemente daquelas informadas na tabela SBPM5018, ela deve ser determinada no momento de sua compila&ccedil;&atilde;o. </P>
<P>Detalhes sobre esta tabela est&atilde;o descritos na Se&ccedil;&atilde;o V, "Parametriza&ccedil;&otilde;es do SADS". </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>R/S</B> - Tipo de utiliza&ccedil;&atilde;o da op&ccedil;&atilde;o de compila&ccedil;&atilde;o. </P>
<P>Pode assumir os seguintes valores: </P><DIR>

</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"S" - Para acrescentar ("setar") uma nova op&ccedil;&atilde;o para o programa; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"R" - Para retirar ("resetar") uma op&ccedil;&atilde;o. </P></DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>CHARGECODE</B> - <I>Chargecode</I>, no padr&atilde;o Unisys, se utilizado. </P>
<P>O <I>chargecode</I>, quando informado, ser&aacute; validado no <I>Userdatafile</I>. </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>COMPILAR MESMO QUE OS RECURSOS NAO ESTEJAM ATUALIZADOS</B> - Indicador de disparo incondicional da compila&ccedil;&atilde;o. </P>
<P>Pode assumir os seguintes valores: </P><DIR>

</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"SIM" - Para for&ccedil;ar a compila&ccedil;&atilde;o do programa, mesmo que as <I>libraries</I> de suas sub-rotinas, telas, tabelas ou &aacute;reas de <I>work</I> n&atilde;o estejam com <I>status</I> de gera&ccedil;&atilde;o "OK" no reposit&oacute;rio de dados do SADS. Neste caso, a parametriza&ccedil;&atilde;o feita na tabela SBPM5016, sobre compila&ccedil;&atilde;o conforme atualiza&ccedil;&atilde;o de recursos, ser&aacute; ignorada. Detalhes sobre esta tabela est&atilde;o descritos na Se&ccedil;&atilde;o V, "Parametriza&ccedil;&otilde;es do SADS"; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"NAO" - Para n&atilde;o compilar o <I>programa</I> sem que as <I>libraries</I> estejam com<I> status</I> de gera&ccedil;&atilde;o "OK" no reposit&oacute;rio de dados do SADS. </P></DIR>

<P>Caso o<I> job </I>de compila&ccedil;&atilde;o montado n&atilde;o localize alguma <I>library </I>utilizada pelo programa, a compila&ccedil;&atilde;o pode ser descontinuada ou ficar em <I>waiting,</I> conforme parametriza&ccedil;&atilde;o feita na tabela SBPM5000. Detalhes sobre esta tabela est&atilde;o descritos na Se&ccedil;&atilde;o V, "Parametriza&ccedil;&otilde;es do SADS". </P>
<P>Caso o programa possua como recursos <I>libraries </I>ou sub-rotinas, a verifica&ccedil;&atilde;o do status de gera&ccedil;&atilde;o destes elementos depender&aacute; do conte&uacute;do do campo "Geracao completa pelo SADS (S/N)". Detalhes sobre esta verifica&ccedil;&atilde;o encontram-se descritos nesta Se&ccedil;&atilde;o, nos itens "Sub-rotina" e "<I>Library</I> de Procedure". </P>
<P>Durante a execu&ccedil;&atilde;o das compila&ccedil;&otilde;es, ser&atilde;o enviadas para o terminal mensagens informando do in&iacute;cio da compila&ccedil;&atilde;o com o ambiente para a qual foi disparada, do fim da compila&ccedil;&atilde;o e da exist&ecirc;ncia ou n&atilde;o de erros ou <I>warnings</I> na compila&ccedil;&atilde;o. Estas mensagens s&atilde;o enviadas para a linha 25 do terminal. Mensagens de "<I>waiting</I>" n&atilde;o s&atilde;o enviadas. </P>
<P>No momento do disparo da compila&ccedil;&atilde;o para teste, o objeto antigo &eacute; removido. </P>
<P>O objeto antigo pode ser removido ou n&atilde;o, isto ir&aacute; depender do cadastramento efetuado na tabela SBPM5000. Detalhes sobre esta tabela est&atilde;o descritos na Se&ccedil;&atilde;o V, "Parametriza&ccedil;&otilde;es do SADS". </P></DIR>

</FONT><B><FONT SIZE=5><P><A NAME="Binpro">Binder de programa</A> </P>
</B></FONT><I><FONT SIZE=2><P>Binder</I> &eacute; o processo atrav&eacute;s do qual diferentes objetos de programas <I>on-line</I> de um mesmo sistema s&atilde;o agregados, com a finalidade de formar um &amp; uacute;nico objeto execut&aacute;vel. </P>
<P>Ap&oacute;s disparar a compila&ccedil;&atilde;o ou <I>binder</I> de um programa, o <I>status</I> desta execu&ccedil;&atilde;o pode ser acompanhado atrav&eacute;s do menu de opera&ccedil;&atilde;o "PROFILCOM", que poder&aacute; indicar as seguintes situa&ccedil;&otilde;es: COMPILADO OK, WARNING COMPILACAO, BINDER OK, ERRO COMPILACAO, ERRO BINDER. </P>
<P>O SADS permite consultar os erros que foram detectados durante a compila&ccedil;&atilde;o ou <I>binder</I> de programa, atrav&eacute;s do menu "LISERR". </P>
<P>Para efetuar o <I>binder</I> de um programa <I>on-line</I> ao seu respectivo <I>host</I>, ambos j&aacute; devem ter sido compilados sem erros nos mesmos <I>usercode</I> e ambiente onde ser&aacute; efetuado o <I>binder</I>. Isto quer dizer que seus objetos devem existir no mesmo ambiente da execu&ccedil;&atilde;o do <I>binder</I>. </P>
<P>Para efetuar o <I>binder</I> de um programa, basta transmitir os argumentos do menu de opera&ccedil;&atilde;o "BINPRO", cujos campos devem ser preenchidos conforme indicado a seguir. </P>
<B><P>CAMPOS DA TELA</P><DIR>

</B></FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>USERCODE -</B> C&oacute;digo do usercode de an&aacute;lise dos fontes dos programas a serem agregados. </P>
<P>Os usercodes de an&aacute;lise, bem como os dos ambientes de teste e produ&ccedil;&atilde;o, t&ecirc;m de estar definidos na tabela SBPM5002. Caso os ambientes de teste e produ&ccedil;&atilde;o sejam diferentes do de an&aacute;lise, estes tamb&eacute;m ter&atilde;o de estar definidos na tabela SBPM5003. Estas tabelas e defini&ccedil;&otilde;es est&atilde;o descritas na Se&ccedil;&atilde;o V, "Parametriza&ccedil;&otilde;es do SADS". </P>
<P>O usercode a ser informado deve estar habilitado ao usu&aacute;rio, como elemento, em sua lista de elementos "SEGUSER", no Sistema de Seguran&ccedil;a. Detalhes sobre este cadastramento est&atilde;o descritos na Se&ccedil;&atilde;o VI, "Sistema de Seguran&ccedil;a", item "Habilita&ccedil;&otilde;es de usu&aacute;rios SADS". </P>
<P>Caso o usercode n&atilde;o seja informado, ser&aacute; assumido o usercode default do usu&aacute;rio. Detalhes sobre o cadastramento do usercode default do usu&aacute;rio podem ser obtidos na se&ccedil;&atilde;o VI, "Sistema de Seguran&ccedil;a", item "Usu&aacute;rios e habilita&ccedil;&otilde;es". </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>PASSWORD</B> - Senha do <I>usercode</I>. </P>
<P>A password pode ou n&atilde;o ser informada conforme parametriza&ccedil;&atilde;o na tabela SBPM5000, campo COMPDF, Par&acirc;metro 5. Detalhes a respeito desta tabela est&atilde;o descritos na Se&ccedil;&atilde;o V, "Parametriza&ccedil;&otilde;es do SADS", neste manual. </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>ACCESSCODE</B> - <I>Accesscode</I>, no padr&atilde;o Unisys, se utilizado. </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>ACCESSPASSWORD</B> - Senha do <I>accesscode</I>, caso o mesmo tenha sido informado. </P>
<P>A accesspassword pode ou n&atilde;o ser informada conforme parametriza&ccedil;&atilde;o na tabela SBPM5000, campo COMPDF, Par&acirc;metro 5. Detalhes a respeito desta tabela est&atilde;o descritos na Se&ccedil;&atilde;o V, "Parametriza&ccedil;&otilde;es do SADS", neste manual. </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>NOME</B> - Nome para o <I>job</I> de <I>binder</I> v&aacute;lido para a WFL da Unisys. </P>
<P>Caso o nome informado se inicie com "SPMA89", com ou sem algum complemento, o <I>job</I> de <I>binder</I> ser&aacute; salvo no <I>usercode</I> anteriormente especificado com este mesmo nome. Por exemplo, pode-se informar "SPMA89SXY" para que seja criado um arquivo de nome "SPMA89SXY" contendo o <I>job</I> de <I>binder</I> do <I>host</I> SXYN00. </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>HOST</B> - C&oacute;digo do objeto do <I>host</I>. </P>
<P>Os caracteres "NC" do c&oacute;digo do objeto do <I>host</I> j&aacute; est&atilde;o informados. Deve-se informar apenas o c&oacute;digo do sistema e o n&uacute;mero do <I>host</I>. </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>CHAMADOS</B> - Identificador de cada programa a ser incorporado ao<I> host</I> (opcional). </P>
<P>Podem ser informados at&eacute; seis programas. </P>
<P>Quando o programa <I>host</I> for compilado e ainda n&atilde;o tiver sido executado nenhum <I>binder</I>, n&atilde;o &eacute; necess&aacute;ria a informa&ccedil;&atilde;o dos programas a serem agregados; o primeiro <I>binder</I> ap&oacute;s a compila&ccedil;&atilde;o do <I>host</I> agregar&aacute; ao mesmo tempo todos os objetos de programas definidos nos cadastramentos de seus menus. </P>
<P>Para os programas que ainda n&atilde;o tiverem sido compilados, ou seja, programas que ainda n&atilde;o possuem objeto, ser&atilde;o agregados ao <I>host</I> objetos padr&otilde;es que enviam uma mensagem quando da tentativa de execut&aacute;-los, informando que a transa&ccedil;&atilde;o associada ainda n&atilde;o est&aacute; dispon&iacute;vel. </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>AMBIENTE(T/P)</B> - Ambiente no qual o <I>binder</I> ser&aacute; executado. </P>
<P>Pode assumir os seguintes valores: </P><DIR>

</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"T" - Para que, ap&oacute;s a execu&ccedil;&atilde;o do <I>binder</I>, o objeto do <I>host</I> seja gerado em ambiente de teste; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"P" - Para que, ap&oacute;s a execu&ccedil;&atilde;o do <I>binder</I>, o objeto do<I> host</I> seja gerado em ambiente de produ&ccedil;&atilde;o. </P></DIR>

<P>Caso o ambiente n&atilde;o seja informado, ser&aacute; assumido o ambiente default do usu&aacute;rio. Detalhes sobre o cadastramento do ambiente default do usu&aacute;rio podem ser obtidos na se&ccedil;&atilde;o VI, "Sistema de Seguran&ccedil;a", item "Usu&aacute;rios e habilita&ccedil;&otilde;es". </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>FILA</B> - Fila onde ser&aacute; executado o <I>job</I> de <I>binder</I>. </P>
<P>O n&uacute;mero da fila deve estar cadastrado na tabela SBPM5001 e a fila <I>default</I> na tabela SBPM5002. Detalhes a respeito destas tabelas podem ser consultados na Se&ccedil;&atilde;o V, "Parametriza&ccedil;&otilde;es do SADS", neste manual. </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>LISTAGEM</B> - Indicador de gera&ccedil;&atilde;o de listagem do <I>binder</I>. </P>
<P>Pode assumir os seguintes valores: </P><DIR>

</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"S" - Para gerar a listagem do <I>binder</I>; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"N" - Para n&atilde;o gerar a listagem do<I> binder</I>. </P></DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>BDNAME - </B>Nome do arquivo backup gerado atrav&eacute;s do binder do programa (opcional). </P>
<P>V&aacute;lido somente para LISTAGEM = "S". </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>CHARGECODE - </B>Chargecode, no padr&atilde;o Unisys, se utilizado. </P>
<P>O chargecode, quando informado, ser&aacute; validado no Userdatafile. </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>SOFT. BINDER - </B>Software para execu&ccedil;&atilde;o do binder. </P>
<P>Durante a execu&ccedil;&atilde;o do binder, ser&atilde;o enviadas para o terminal mensagens informando do in&iacute;cio da sua execu&ccedil;&atilde;o com o ambiente para o qual foi disparado,do fim da sua execu&ccedil;&atilde;o e da exist&ecirc;ncia ou n&atilde;o de erros ou warnings no processo. Mensagens de "waiting" n&atilde;o s&atilde;o apresentadas na linha 25 do terminal. </P></DIR>

</FONT><B><FONT SIZE=5><P><A NAME="Libpro">Libera&ccedil;&atilde;o de programa para produ&ccedil;&atilde;o</A> </P>
</B></FONT><FONT SIZE=2><P>Para a utiliza&ccedil;&atilde;o de um programa<I> batch</I> ou de um <I>host </I>no ambiente de produ&ccedil;&atilde;o &eacute; necess&aacute;rio que o objeto do mesmo esteja dispon&iacute;vel no <I>usercode</I> referente aos objetos em produ&ccedil;&atilde;o. </P>
<P>Atrav&eacute;s desta fun&ccedil;&atilde;o, &eacute; poss&iacute;vel, pois, copiar o objeto de um programa que tenha sido compilado para a produ&ccedil;&atilde;o que se encontre no <I>usercode</I> de "objetos a liberar para produ&ccedil;&atilde;o" (usercode de tipo "AP) para o<I> usercode</I> de "objetos em produ&ccedil;&atilde;o" (<I>usercode</I> de tipo "OP"). </P>
<P>Os <I>usercodes</I> de tipo "AP" e "OP" est&atilde;o relacionados ao <I>usercode</I> de an&aacute;lise (<I>usercode</I> de tipo "AN"), onde reside o fonte do programa (tabela SBPM5002). Todos os detalhes referentes ao cadastramento de tais <I>usercodes</I> nesta tabela est&atilde;o descritos na Se&ccedil;&atilde;o V, "Parametriza&ccedil;&otilde;es do SADS", neste manual. </P>
<P>Para liberar um programa para produ&ccedil;&atilde;o, &eacute; necess&aacute;rio que o mesmo tenha sido compilado para o ambiente de produ&ccedil;&atilde;o. </P>
<P>A libera&ccedil;&atilde;o de programa para produ&ccedil;&atilde;o n&atilde;o est&aacute; associada a nenhuma tela de processamento. Portanto, para efetu&aacute;-la, basta transmitir os argumentos da tela "LIBOBJPRG", cujos campos est&atilde;o explicados a seguir: </P>
<B><P>CAMPOS DA TELA</P><DIR>

</B></FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>Programa</B> - C&oacute;digo do programa no padr&atilde;o SADS (sssPCnn ou sssNCnn). </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>Usercode origem</B> - <I>Usercode</I> de an&aacute;lise onde reside o fonte do programa. </P>
<P>A partir do <I>usercode</I> de an&aacute;lise informado, ser&aacute; definido quais os<I> usercodes</I> origem - <I>usercode</I> de objetos a liberar para produ&ccedil;&atilde;o - e destino -<I> usercode</I> de objetos em produ&ccedil;&atilde;o - da c&oacute;pia a ser efetuada. Estas defini&ccedil;&otilde;es est&atilde;o na tabela SBPM5002, que se encontra descrita na Se&ccedil;&atilde;o V, "Parametriza&ccedil;&otilde;es do SADS", neste manual. </P>
<P>O <I>usercode</I> a ser informado deve estar habilitado ao usu&aacute;rio, como elemento, em sua lista de elementos "SEGUSER", no Sistema de Seguran&ccedil;a. Detalhes sobre este cadastramento est&atilde;o descritos na Se&ccedil;&atilde;o VI, "Sistema de Seguran&ccedil;a", item "Habilita&ccedil;&otilde;es de usu&aacute;rios SADS". </P>
<P>Caso o <I>usercode</I> n&atilde;o seja informado, ser&aacute; assumido o <I>usercode default</I> do usu&aacute;rio. Detalhes sobre o cadastramento do <I>usercode default</I> do usu&aacute;rio podem ser obtidos na se&ccedil;&atilde;o VI, "Sistema de Seguran&ccedil;a", item "Usu&aacute;rios e habilita&ccedil;&otilde;es". </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>Hora prevista</B> - Hora a partir da qual o objeto do programa deve ser liberado para a produ&ccedil;&atilde;o. (opcional) </P>
<P>Caso a hora seja informada, a mesma servir&aacute; como "STARTTIME" para o <I>job</I> de libera&ccedil;&atilde;o do objeto do programa a ser disparado. </P></DIR>

</FONT><B><FONT SIZE=5><P><A NAME="Funca">Fun&ccedil;&otilde;es de apoio</A></B></FONT><FONT SIZE=2> </P>
</FONT><P><HR></P>
<B><FONT SIZE=5><P><A NAME="Espro">Espec&iacute;ficas de programas</A> </P>
</B></FONT><FONT SIZE=2><P>O SADS oferece as seguintes fun&ccedil;&otilde;es de apoio que s&atilde;o espec&iacute;ficas do elemento programa: </P><DIR>

</FONT><P><IMG SRC="Bullet6.gif" WIDTH=15 HEIGHT=11><FONT SIZE=2>&nbsp;Consulta fonte de programa; </P>
</FONT><P><IMG SRC="Bullet6.gif" WIDTH=15 HEIGHT=11><FONT SIZE=2>&nbsp;Consulta m&oacute;dulos de programa; </P>
</FONT><P><IMG SRC="Bullet6.gif" WIDTH=15 HEIGHT=11><FONT SIZE=2>&nbsp;Consulta erros de compila&ccedil;&atilde;o/ <I>binder</I> de programa; </P>
</FONT><P><IMG SRC="Bullet6.gif" WIDTH=15 HEIGHT=11><FONT SIZE=2>&nbsp;Impress&atilde;o de cadastramento de programa; </P>
</FONT><P><IMG SRC="Bullet6.gif" WIDTH=15 HEIGHT=11><FONT SIZE=2>&nbsp;Duplica&ccedil;&atilde;o de programa/m&oacute;dulo; </P>
</FONT><P><IMG SRC="Bullet6.gif" WIDTH=15 HEIGHT=11><FONT SIZE=2>&nbsp;Ressequenciamento de m&oacute;dulo; </P>
</FONT><P><IMG SRC="Bullet6.gif" WIDTH=15 HEIGHT=11><FONT SIZE=2>&nbsp;Exporta&ccedil;&atilde;o/importa&ccedil;&atilde;o de <I>edits</I> e </P>
</FONT><P><IMG SRC="Bullet6.gif" WIDTH=15 HEIGHT=11><FONT SIZE=2>&nbsp;Convers&atilde;o de cadastramento de programas da vers&atilde;o 2.4 para a vers&atilde;o 3.0. </P></DIR>

<P>A seguir, ser&aacute; explicada detalhadamente cada uma dessas fun&ccedil;&otilde;es. </P>
</FONT><B><FONT SIZE=4><P><A NAME="Fonpro">Consulta fonte de programa</A></B></FONT><FONT SIZE=2> </P>
<P>O SADS permite, sem precisar ativar a janela Cande, consultar o fonte de programas gerados. A consulta ao fonte pode ser exibida a partir da primeira linha do programa ou a partir de um <I>label</I>, que deve ser informado com o tamanho m&aacute;ximo de 17 caracteres. Desta forma, a consulta ser&aacute; exibida a partir da primeira linha do programa que come&ccedil;ar com o conjunto de caracteres informado. </P>
<P>Para consultar o fonte de um programa, &eacute; necess&aacute;rio que o mesmo j&aacute; tenha sido gerado no <I>usercode</I> informado. </P>
<P>Para consultar o fonte de um programa, basta transmitir os argumentos do menu de opera&ccedil;&atilde;o "CONFON", cujos campos devem ser preenchidos conforme explica&ccedil;&atilde;o a seguir: </P>
<B><P>CAMPOS DA TELA</P><DIR>

</B></FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>Programa/library</B> - C&oacute;digo do programa cujo fonte ser&aacute; consultado, no padr&atilde;o SADS (ssspxx). </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>Banco dados</B> - C&oacute;digo do banco de dados que possui o <I>dataset</I> para o qual foram especificados os par&acirc;metros f&iacute;sicos a serem consultados (sssBxx). (Opcional) </P>
<P>Este campo somente deve ser informado quando se estiver consultando par&acirc;metros f&iacute;sicos de <I>datasets</I>. </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>Usercode </B>- <I>Usercode</I> onde reside o fonte do programa e onde o mesmo foi compilado/"bindado". </P>
<P>O <I>usercode</I> a ser informado deve estar habilitado ao usu&aacute;rio, como elemento, em sua lista de elementos "SEGUSER", no Sistema de Seguran&ccedil;a. Detalhes sobre este cadastramento est&atilde;o descritos na Se&ccedil;&atilde;o VI, "Sistema de Seguran&ccedil;a", item "Habilita&ccedil;&otilde;es de usu&aacute;rios SADS". </P>
<P>Caso o <I>usercode</I> n&atilde;o seja informado, ser&aacute; assumido o <I>usercode default </I>do usu&aacute;rio. Detalhes sobre o cadastramento do <I>usercode default</I> do usu&aacute;rio podem ser obtidos na se&ccedil;&atilde;o VI, "Sistema de Seguran&ccedil;a", item "Usu&aacute;rios e habilita&ccedil;&otilde;es". </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>Ambiente</B> - N&atilde;o &eacute; necess&aacute;rio informar. </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>Label/sequencia</B> - <I>Label</I> ou sequ&ecirc;ncia a partir do qual ser&aacute; apresentado o fonte do programa. </P>
<P>A consulta ao fonte do programa &eacute; do tipo paginada, contendo as informa&ccedil;&otilde;es de cabe&ccedil;alho, como o c&oacute;digo e a descri&ccedil;&atilde;o do programa, e, a seguir, o seu fonte. </P>
<P>Em cada linha do fonte &eacute; exibido o conte&uacute;do dos seis primeiros <I>bytes</I> do MARKID (colunas 73 a 78). </P>
<P>No fonte gerado, o MARKID ir&aacute; conter as seguintes informa&ccedil;&otilde;es: </P><DIR>

</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><B><FONT SIZE=2>"GERADO"</B> - Quando a linha fizer parte da gera&ccedil;&atilde;o padr&atilde;o do SADS; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><B><FONT SIZE=2>"MODnnn"</B> - Quando a linha tiver sido gerada por vers&otilde;es do SADS anteriores &agrave; 4.0, atrav&eacute;s de comando de m&oacute;dulo, onde "nnn" &eacute; o n&uacute;mero do m&oacute;dulo; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><B><FONT SIZE=2>"Mnnnmmmm"</B> - Quando a linha tiver sido gerada por vers&otilde;es do SADS iguais ou posteriores &agrave; 4.0, atrav&eacute;s de comando de m&oacute;dulo, onde "nnn" &eacute; o n&uacute;mero do m&oacute;dulo e "mmmm" &eacute; a sequ&ecirc;ncia do comando que gerou a linha dentro do m&oacute;dulo; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><B><FONT SIZE=2>"Nome da edi&ccedil;&atilde;o Cobol/exce&ccedil;&atilde;o"</B> - Quando a linha tiver sido gerada a partir de edi&ccedil;&atilde;o Cobol/tratamento de exce&ccedil;&atilde;o (comandos "EDIT" ou "EXEC"). </P></DIR>
</DIR>

</FONT><B><FONT SIZE=4><P><A NAME="Modpro">Consulta m&oacute;dulos de programa</A> </P>
</B></FONT><FONT SIZE=2><P>O SADS permite consultar a rela&ccedil;&atilde;o dos m&oacute;dulos de todos os programas de um sistema, dos m&oacute;dulos de um grupo de programas de um sistema ou apenas os m&oacute;dulos de um programa espec&iacute;fico. </P>
<P>Para consultar os m&oacute;dulos de programas, basta transmitir os argumentos do menu de opera&ccedil;&atilde;o "CONMOD", cujos campos devem ser preenchidos conforme explica&ccedil;&atilde;o a seguir: </P>
<B><P>CAMPOS DA TELA</B> </P><DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>Sistema - </B>C&oacute;digo do sistema, cujos m&oacute;dulos de seus programas ser&atilde;o listados no padr&atilde;o SADS (sss);<B> </P>
</B></FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>Identificador - </B>Tipo dos programas do sistema, cujos m&oacute;dulos ser&atilde;o listados. (opcional) </P>
<P>Pode assumir os seguintes valores: </P><DIR>

</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"N" - Para consultar a lista de m&oacute;dulos dos programas <I>on-line</I> do sistema; ou </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"P" - Para consultar a lista de m&oacute;dulos dos programas <I>batch</I> do sistema. </P></DIR>

<P>Caso o identificador do tipo dos programas n&atilde;o seja informado, ser&atilde;o listados os m&oacute;dulos de todos os programas do sistema. </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>Numero do programa</B> - Sequencial identificador do programa cujos m&oacute;dulos ser&atilde;o listados - "xx" de ssspxx. (opcional) </P>
<P>Se o identificador do programa n&atilde;o for informado, ser&atilde;o listados os m&oacute;dulos de todos os programas do sistema ou de todos os programas do mesmo tipo, caso este tenha sido informado. </P>
<P>A tela exibida na consulta de m&oacute;dulos de programas &eacute; do tipo consulta paginada e est&aacute; descrita na Se&ccedil;&atilde;o III, "Fun&ccedil;&otilde;es de apoio", neste manual. </P>
<P>As informa&ccedil;&otilde;es ser&atilde;o exibidas de acordo com os argumentos especificados: </P>
<P>Se informado apenas o sistema (obrigat&oacute;rio), ser&atilde;o exibidos os m&oacute;dulos de todos os programas do sistema; </P>
<P>Se informados o sistema e o identificador, ser&atilde;o exibidos os m&oacute;dulos de todos os programas do sistema que s&atilde;o do tipo especificado (<I>on-line</I> ou <I>batch</I>); </P>
<P>Se informados o sistema, identificador e n&uacute;mero do programa, ser&atilde;o exibidos apenas os m&oacute;dulos do programa especificado. </P>
<P>Para cada m&oacute;dulo apresentado, a consulta exibe as seguintes informa&ccedil;&otilde;es: </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>PROGRAM/MOD</B> - C&oacute;digos do programa e do m&oacute;dulo; </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>NOME</B> - Nome do m&oacute;dulo; </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>ULTIMA LIBERACAO</B> - Data da &uacute;ltima libera&ccedil;&atilde;o do programa para a produ&ccedil;&atilde;o. </P></DIR>

</FONT><B><FONT SIZE=4><P><A NAME="Erros">Consulta erros de compila&ccedil;&atilde;o/<I>binder</I> de programa</A> </P>
</B></FONT><FONT SIZE=2><P>O SADS permite consultar os erros que foram detectados durante a compila&ccedil;&atilde;o ou <I>binder</I> de programa. </P>
<P>Essa fun&ccedil;&atilde;o foi criada com o objetivo de possibilitar a gera&ccedil;&atilde;o completa do programa, sem precisar ativar a janela Cande. </P>
<P>Com aux&iacute;lio de outra fun&ccedil;&atilde;o, a de disparo de compila&ccedil;&atilde;o via SADS, pode-se colocar o programa gerado na fila de compila&ccedil;&atilde;o e, ap&oacute;s a sua execu&ccedil;&atilde;o, obter uma consulta dos erros detectados, a fim de facilitar altera&ccedil;&otilde;es no cadastramento do programa. </P>
<P>A utiliza&ccedil;&atilde;o dessa opera&ccedil;&atilde;o ser&aacute; necess&aacute;ria, caso a compila&ccedil;&atilde;o ou <I>binder</I> de algum programa n&atilde;o tenha sido efetuada com sucesso, ou seja, tenham sido detectados erros no programa no momento de sua compila&ccedil;&atilde;o ou <I>binder</I>, ou caso alguma mensagem tenha sido enviada para o terminal, exceto as de t&eacute;rmino ok e <I>warning</I>. </P>
<P>Para consultar os erros de compila&ccedil;&atilde;o/<I>binder</I> de um programa, basta transmitir os argumentos do menu de opera&ccedil;&atilde;o "LISERR", cujos campos devem ser preenchidos conforme explica&ccedil;&atilde;o a seguir: </P>
<B><P>CAMPOS DA TELA</B> </P><DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>Programa</B> - C&oacute;digo do programa cujo cadastramento ser&aacute; impresso em relat&oacute;rio, no padr&atilde;o SADS (ssspxx). </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>Usercode</B> - <I>Usercode</I> onde reside o fonte do programa e onde o mesmo foi compilado/bindado. </P>
<P>O <I>usercode</I> a ser informado deve estar habilitado ao usu&aacute;rio, como elemento, em sua lista de elementos "SEGUSER", no Sistema de Seguran&ccedil;a. Detalhes sobre este cadastramento est&atilde;o descritos na Se&ccedil;&atilde;o VI, "Sistema de Seguran&ccedil;a", item "Habilita&ccedil;&otilde;es de usu&aacute;rios SADS". </P>
<P>Caso o <I>usercode</I> n&atilde;o seja informado, ser&aacute; assumido o <I>usercode</I> <I>default</I> do usu&aacute;rio. Detalhes sobre o cadastramento do <I>usercode</I> <I>default</I> do usu&aacute;rio podem ser obtidos na se&ccedil;&atilde;o VI, "Sistema de Seguran&ccedil;a", item "Usu&aacute;rios e habilita&ccedil;&otilde;es". </P>
<P>A tela exibida na consulta de erros de compila&ccedil;&atilde;o ou <I>binder</I> de programa &eacute; do tipo consulta paginada e est&aacute; descrita na Se&ccedil;&atilde;o III, "Fun&ccedil;&otilde;es de apoio", neste manual. </P>
<P>Esta tela, al&eacute;m da lista de erros de compila&ccedil;&atilde;o e <I>binder</I> de programa, cont&eacute;m informa&ccedil;&otilde;es de cabe&ccedil;alho, como o c&oacute;digo e a descri&ccedil;&atilde;o do programa. </P>
<P>Os erros de compila&ccedil;&atilde;o ou de <I>binder</I> s&atilde;o exibidos no mesmo formato que o comando LIST do Cande, com a vantagem de poder ser paginado. </P></DIR>

</FONT><B><FONT SIZE=4><P><A NAME="Impcad">Impress&atilde;o de cadastramento de programa</A> </P>
</B></FONT><FONT SIZE=2><P>O SADS oferece uma fun&ccedil;&atilde;o de emiss&atilde;o de um relat&oacute;rio com todas as informa&ccedil;&otilde;es do cadastramento de um programa: identifica&ccedil;&atilde;o, recursos, l&oacute;gica de processamento, sele&ccedil;&atilde;o, cadastramento de m&oacute;dulos e, opcionalmente, descri&ccedil;&atilde;o. </P>
<P>Essa opera&ccedil;&atilde;o tem por objetivo facilitar a manuten&ccedil;&atilde;o do cadastramento de um programa, atrav&eacute;s da visualiza&ccedil;&atilde;o em papel impresso de todas as informa&ccedil;&otilde;es constantes neste cadastramento, para posterior altera&ccedil;&atilde;o. </P>
<P>S&oacute; &eacute; poss&iacute;vel imprimir o cadastramento daqueles programas que estiverem cadastrados no reposit&oacute;rio de dados e pertencerem &agrave; vers&atilde;o 3.0 do SADS ou posterior. </P>
<P>Para programas cadastrados na vers&atilde;o 2.4, deve-se executar primeiramente a transa&ccedil;&atilde;o de convers&atilde;o, descrita no t&oacute;pico "Convers&atilde;o de cadastramento de programas da vers&atilde;o 2.4", nesta se&ccedil;&atilde;o. </P>
<P>Para imprimir o cadastramento de um programa, basta transmitir os argumentos do menu de opera&ccedil;&atilde;o "IMPCAD", cujos campos devem ser preenchidos conforme explica&ccedil;&atilde;o a seguir: </P>
<B><P>CAMPOS DA TELA</B> </P><DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>Programa</B> - C&oacute;digo do programa. </P>
<P>Pode assumir os seguintes valores: </P><DIR>

</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"sss" - Para imprimir o cadastramento de todos os programas do sistema; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"sssN" - Para imprimir o cadastramento de todos os programas <I>on-line</I> do sistema; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"sssP" - Para imprimir o cadastramento de todos os programas <I>batch</I> do sistema; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"ssspxx" - Para imprimir o cadastramento de programa espec&iacute;fico, <I>batch</I> ou <I>on-line</I>. </P></DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>Modulo</B> - N&uacute;mero do m&oacute;dulo do programa a ser impresso (opcional) </P>
<P>Pode-se informar "SEL" caso se deseje imprimir o cadastramento do programa a partir da "Selecao de Modulos". </P>
<P>Caso este campo n&atilde;o seja informado, ser&aacute; listado todo o cadastramento do programa. </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>Impressora</B> - C&oacute;digo da impressora. </P>
<P>Pode assumir os seguintes valores: </P><DIR>

</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"&lt;C&oacute;digo da impressora remota&gt;" - Para imprimir o manual na impressora remota informada (esta impressora deve estar cadastrada na rede de terminais); </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"PRINTER" - Para imprimir o manual na impressora central, no formul&aacute;rio de 132 posi&ccedil;&otilde;es; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"PRINxx" - Para imprimir o manual na impressora central em formul&aacute;rio especial, onde "xx" &eacute; um <I>formid</I> definido na instala&ccedil;&atilde;o. </P></DIR>

<P>Caso este campo n&atilde;o seja informado, ser&aacute; assumida a impressora <I>default</I> cadastrada para o usu&aacute;rio no Sistema de Seguran&ccedil;a. Caso esta n&atilde;o exista cadastrada, ser&aacute; ent&atilde;o obrigat&oacute;ria a informa&ccedil;&atilde;o do c&oacute;digo da impressora no momento do disparo da impress&atilde;o. </P>
<P>As impressoras remotas podem ser cadastradas, com um formid correspondente, na tabela SBPM5026. Todas as vezes que for disparada uma impress&atilde;o pelo SADS, esta tabela &eacute; consultada, e caso a impressora esteja cadastrada, o relat&oacute;rio ser&aacute; impresso com o seu formid correspondente. A tabela SBPM5026 est&aacute; descrita na Se&ccedil;&atilde;o V, "Parametriza&ccedil;&otilde;es do SADS", neste manual. </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>Imprime descri&ccedil;&atilde;o (S/N)</B> - Indicador de impress&atilde;o da descri&ccedil;&atilde;o do programa. </P>
<P>Pode assumir os seguintes valores: </P><DIR>

</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"S" - Para imprimir a descri&ccedil;&atilde;o do programa; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"N" - Para n&atilde;o imprimir a descri&ccedil;&atilde;o do programa. </P></DIR>

<P>A impress&atilde;o ser&aacute; executada imediatamente, sem apresenta&ccedil;&atilde;o de tela de processamento e, ao seu t&eacute;rmino, ser&aacute; enviada uma mensagem confirmando a impress&atilde;o. </P></DIR>

</FONT><B><FONT SIZE=4><P><A NAME="Duppro">Duplica&ccedil;&atilde;o de programa/m&oacute;dulo</A> </P>
</B></FONT><FONT SIZE=2><P>A duplica&ccedil;&atilde;o de programas e m&oacute;dulos &eacute; uma facilidade oferecida pelo SADS com o objetivo de agilizar a tarefa de cadastramento de programas. </P>
<P>Com essa fun&ccedil;&atilde;o, o SADS possibilita duplicar programas ou m&oacute;dulos de programa. </P>
<P>Os m&oacute;dulos podem ser duplicados internamente a um mesmo programa ou para outro programa. </P>

<UL>
<LI>Um programa que n&atilde;o seja gerado 100% pelo SADS n&atilde;o pode ser duplicado para um sistema que, de acordo com a parametriza&ccedil;&atilde;o feita, s&oacute; aceite novos programas que sejam gerados 100%. </LI></UL>
<DIR>
<DIR>

<P>Para duplicar programa, &eacute; necess&aacute;rio que: </P></DIR>
</DIR>


<UL>
<LI>O programa origem esteja cadastrado no reposit&oacute;rio de dados do SADS; </LI>
<LI>O programa destino n&atilde;o esteja cadastrado, mas, se for <I>on-line</I>, j&aacute; esteja relacionado a um determinado menu. </LI></UL>
<DIR>
<DIR>

<P>Para duplicar m&oacute;dulo, &eacute; necess&aacute;rio que: </P></DIR>
</DIR>


<UL>
<LI>O programa e o m&oacute;dulo origem estejam cadastrados; </LI>
<LI>O programa destino esteja cadastrado e o m&oacute;dulo destino, selecionado. </LI></UL>

<P>Para duplicar programas ou m&oacute;dulos, deve-se transmitir os argumentos do menu de opera&ccedil;&atilde;o "DUPPRO", cujos campos devem ser preenchidos conforme explica&ccedil;&atilde;o a seguir: </P>
<B><P>CAMPOS DA TELA</B> </P><DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>&nbsp;Programa Origem </B>- C&oacute;digo do programa a ser duplicado, no padr&atilde;o SADS (ssspxx). </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>Modulo Origem </B>- N&uacute;mero do m&oacute;dulo a ser duplicado. </P>
<P>Este campo n&atilde;o deve ser informado para duplica&ccedil;&atilde;o de programa. </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>Programa Destino - </B>C&oacute;digo do programa que ir&aacute; assumir o novo cadastramento, no padr&atilde;o SADS (ssspxx). </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>Modulo Destino - </B>N&uacute;mero do novo m&oacute;dulo. </P>
<P>Este campo n&atilde;o deve ser informado para duplica&ccedil;&atilde;o de programa. </P></DIR>

</FONT><B><FONT SIZE=4><P><A NAME="Resse">Ressequenciamento de m&oacute;dulo</A> </P>
</B></FONT><FONT SIZE=2><P>O SADS possibilita que os comandos definidos em um determinado m&oacute;dulo sejam ressequenciados, ou seja, tenham alteradas suas sequ&ecirc;ncias dentro do m&oacute;dulo, de modo que todas elas tenham um n&uacute;mero m&uacute;ltiplo de 10 (dez). </P>
<P>Para utilizar esta opera&ccedil;&atilde;o, o m&oacute;dulo a ser ressequenciado j&aacute; deve ter sido cadastrado no reposit&oacute;rio de dados do SADS. </P>
<P>Para ressequenciar um m&oacute;dulo, basta transmitir os argumentos do menu de opera&ccedil;&atilde;o RESMOD, cujos campos devem ser preenchidos conforme explica&ccedil;&atilde;o a seguir: </P>
<B><P>CAMPOS DA TELA</P><DIR>

</B></FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>Programa - </B>C&oacute;digo do programa cujo m&oacute;dulo se deseja ressequenciar, no padr&atilde;o SADS (ssspxx). </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>Modulo - </B>N&uacute;mero do m&oacute;dulo a ser ressequenciado. </P>
<P>Esta transa&ccedil;&atilde;o ser&aacute; executada imediatamente, sem apresenta&ccedil;&atilde;o de tela de processamento e, ao seu t&eacute;rmino, ser&aacute; enviada uma mensagem confirmando o ressequenciamento. </P></DIR>

</FONT><B><FONT SIZE=4><P><A NAME="Expimp">Exporta&ccedil;&atilde;o/importa&ccedil;&atilde;o de </B><I>edits</A> </P>
</I></FONT><FONT SIZE=2><P>O SADS possibilita exportar comandos de m&oacute;dulo EDIT para o Cande e importar arquivos de comandos em Cobol para que se tornem comandos EDIT. Ao efetuar uma exporta&ccedil;&atilde;o de um EDIT para o Cande, ser&aacute; gerado um arquivo de nome "EDIT/ sssennmmm/xxxxxxxxx", onde: </P><DIR>
<DIR>

</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><B><FONT SIZE=2>&nbsp;"sssenn"</B> &eacute; o c&oacute;digo do programa </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><B><FONT SIZE=2>&nbsp;"mmm"</B> &eacute; o n&uacute;mero do m&oacute;dulo ao qual o EDIT pertence </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><B><FONT SIZE=2>&nbsp;"xxxxxxxxx"</B> &eacute; o nome do EDIT. </P></DIR>
</DIR>

<P>Este arquivo pode ent&atilde;o ser alterado e depois importado pelo SADS, permitindo, com estas opera&ccedil;&otilde;es, que sejam utilizadas as facilidades de edi&ccedil;&atilde;o do Cande. </P>
<P>Pode-se tamb&eacute;m criar o arquivo diretamente no Cande, desde que ele tenha este padr&atilde;o de nome, para que ele seja importado pelo SADS. </P>
<P>Sempre quando for efetuada uma importa&ccedil;&atilde;o de comando EDIT do Cande, o programa que teve o EDIT importado ficar&aacute; marcado e s&oacute; poder&aacute; ser compilado caso ele seja novamente gerado. Isto para garantir que os comandos do EDIT sejam devidamente gerados no programa ap&oacute;s sua importa&ccedil;&atilde;o para o SADS. </P>
<P>Para exportar ou importar um comando EDIT, basta transmitir os argumentos do menu de opera&ccedil;&atilde;o "EXPIMPEDI", cujos campos devem ser preenchidos conforme explica&ccedil;&atilde;o a seguir: </P>
<B><P>CAMPOS DA TELA</P><DIR>

</B></FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>Operacao - </B>Opera&ccedil;&atilde;o a ser efetuada sobre o comando EDIT </P>
<P>Pode assumir os seguintes valores: </P><DIR>

</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"IMP" - Importa&ccedil;&atilde;o do arquivo no Cande para o comando EDIT do SADS; "EXP" - Exporta&ccedil;&atilde;o do comando EDIT do SADS para um arquivo no Cande; </P></DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>Programa </B>- C&oacute;digo do programa ao qual o EDIT pertence; </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>Modulo</B> - C&oacute;digo do m&oacute;dulo do programa ao qual o EDIT pertence; </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>Edit</B> - Nome do comando EDIT; </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>Usercode</B> - <I>Usercode</I> onde reside o arquivo a ser importado/exportado. </P>
<P>O <I>usercode</I> a ser informado deve estar habilitado ao usu&aacute;rio, como elemento, em sua lista de elementos "SEGUSER", no Sistema de Seguran&ccedil;a. Detalhes sobre este cadastramento est&atilde;o descritos na Se&ccedil;&atilde;o VI, "Sistema de Seguran&ccedil;a", item "Habilita&ccedil;&otilde;es de usu&aacute;rios SADS". </P>
<P>Caso o <I>usercode</I> n&atilde;o seja informado, ser&aacute; assumido o <I>usercode</I> <I>default</I> do usu&aacute;rio. Detalhes sobre o cadastramento do <I>usercode</I> <I>default</I> do usu&aacute;rio podem ser obtidos na se&ccedil;&atilde;o VI, "Sistema de Seguran&ccedil;a", item "Usu&aacute;rios e habilita&ccedil;&otilde;es". </P>
</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>EXPORTAR MESMO QUE JA EXISTA O EDIT? (S/N)</B> - Indicador de sobreposi&ccedil;&atilde;o de arquivos no Cande, na opera&ccedil;&atilde;o de exporta&ccedil;&atilde;o. </P>
<P>Pode assumir os seguintes valores: </P><DIR>

</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"S" - Para que seja gerado o arquivo no Cande contendo os comandos do EDIT, mesmo que j&aacute; exista um arquivo neste <I>usercode</I> com mesmo nome. O arquivo anterior ser&aacute; sobreposto. </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>"N" - Para que seja n&atilde;o seja gerado o arquivo no Cande contendo os comandos do EDIT caso j&aacute; exista um arquivo neste <I>usercode</I> com mesmo nome. </blockoquote></P></DIR>
</DIR>

</FONT><B><FONT SIZE=4><P><A NAME="Conver">Convers&atilde;o de cadastramento de programa da vers&atilde;o 2.4</A> </P>
</B></FONT><FONT SIZE=2><P>O SADS possibilita realizar a convers&atilde;o dos programas cadastrados na vers&atilde;o 2.4 ou anterior para a 3.0 ou posterior, automaticamente. </P>
<P>A filosofia de defini&ccedil;&atilde;o e gera&ccedil;&atilde;o de programas foi radicalmente modificada da vers&atilde;o 2.4 para a 3.0 do SADS. </P>
<P>O disparo manual da convers&atilde;o &eacute; necess&aacute;rio pois n&atilde;o era poss&iacute;vel converter implicitamente todos os programas devido ao fato de que alguns deles poderiam necessitar de adapta&ccedil;&otilde;es no momento da convers&atilde;o. </P>
<P>Os programas cadastrados na vers&atilde;o 2.4 n&atilde;o t&ecirc;m, necessariamente, de ser convertidos. Isto porque pode-se continuar dando manuten&ccedil;&otilde;es e efetuando suas gera&ccedil;&otilde;es da mesma forma que os da vers&atilde;o 3.0, por&eacute;m atrav&eacute;s de transa&ccedil;&otilde;es distintas. </P>
<P>Ap&oacute;s a convers&atilde;o de um programa, o mesmo dever&aacute; ser gerado e analisado, para verificar se h&aacute; ou n&atilde;o necessidade de adapta&ccedil;&otilde;es complementares. </P>
<P>Para converter um programa, basta transmitir os argumentos do menu de opera&ccedil;&atilde;o "CONCADPRO", cujo campo deve ser preenchido conforme explica&ccedil;&atilde;o a seguir: </P>
<B><P>CAMPO DA TELA</B> </P><DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>Programa</B> - C&oacute;digo do programa cuja convers&atilde;o ser&aacute; efetuada, no padr&atilde;o SADS (ssspxx). </P></DIR>

</FONT><B><FONT SIZE=5><P><A NAME="Gener">Gen&eacute;ricas aplic&aacute;veis aos programas</A> </P><DIR>

</B></FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>Utilit&aacute;rios: </P><DIR>

</B></FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>Descri&ccedil;&atilde;o de elemento; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>Duplica&ccedil;&atilde;o de elemento; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>Exporta&ccedil;&atilde;o de descri&ccedil;&atilde;o de elemento; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>Importa&ccedil;&atilde;o de descri&ccedil;&atilde;o de elemento. </P></DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>Consultas: </P><DIR>

</B></FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>Elementos por sistema; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>Descri&ccedil;&atilde;o de elemento; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>Fonte de elemento. </P></DIR>

</FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>Refer&ecirc;ncia cruzada: </P><DIR>

</B></FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>Elementos x elemento (Lista os recursos relacionados ao programa e a qual menu o programa est&aacute; relacionado).<B> </P></DIR>

</B></FONT><P><IMG SRC="Bullet5.gif" WIDTH=12 HEIGHT=12><B><FONT SIZE=2>Informativos impressos: </P><DIR>

</B></FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>Lista de elementos por sistema; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>Lista descri&ccedil;&atilde;o de elemento; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=12><FONT SIZE=2>Lista fonte de library/programa.<B> </P></DIR>
</DIR>

</B><P>Todos estes utilit&aacute;rios, consultas, refer&ecirc;ncia cruzada e informativos impressos encontram-se detalhadamente descritos na se&ccedil;&atilde;o III, "Fun&ccedil;&otilde;es de apoio", neste manual. </P>
</FONT><B><FONT SIZE=5><P><A NAME="Trarec">Tratamento da recupera&ccedil;&atilde;o DMS</A> </P>
</B></FONT><P><HR></P>
<FONT SIZE=2><P>A recupera&ccedil;&atilde;o DMSII &eacute; o procedimento atrav&eacute;s do qual, em caso de cancelamento do banco por <I>halt load</I> ou <I>abort</I>, tenta-se recuperar aquelas transa&ccedil;&otilde;es que j&aacute; haviam sido disparadas. </P>
<P>Para melhor entendimento de como funciona e de como deve ser tratada a recupera&ccedil;&atilde;o DMSII, a seguir ser&atilde;o explicados separadamente a recupera&ccedil;&atilde;o DMSII em programas <I>on-line</I> e a recupera&ccedil;&atilde;o DMSII em programas <I>batch</I>. </P>
</FONT><B><FONT SIZE=5><P><A NAME="Reconl">Recupera&ccedil;&atilde;o DMSII em programas on-line</A> </P>
</B></FONT><FONT SIZE=2><P>A fim de aumentar a integridade do banco de dados, o SADS oferece, para os aplicativos que desejarem, a recupera&ccedil;&atilde;o sincronizada para as transa&ccedil;&otilde;es DMSII<I> on-line</I>. </P>
<P>Transa&ccedil;&atilde;o DMSII &eacute; todo o processamento de atualiza&ccedil;&atilde;o de banco de dados que ocorre entre os comandos de BEGINTRANSACTION e ENDTRANSACTION de um programa. Durante este intervalo, diz-se que o programa est&aacute; em estado de transa&ccedil;&atilde;o. </P>
<P>No momento em que se executa uma transa&ccedil;&atilde;o DMSII de atualiza&ccedil;&atilde;o de banco de dados, esta &eacute; armazenada na mem&oacute;ria e s&oacute; ser&aacute; gravada no arquivo de <I>audit</I> quando o n&uacute;mero de transa&ccedil;&otilde;es em mem&oacute;ria constituir um <I>syncpoint</I>. Por sua vez, as informa&ccedil;&otilde;es gravadas no <I>audit</I> s&oacute; ser&atilde;o atualizadas no banco de dados quando o n&uacute;mero de <I>syncpoints</I> constituir um <I>controlpoint</I>. </P>
<P>A diferen&ccedil;a entre a recupera&ccedil;&atilde;o DMSII normal e a sincronizada &eacute; que, atrav&eacute;s da recupera&ccedil;&atilde;o normal, s&oacute; &eacute; poss&iacute;vel recuperar e, portanto, atualizar, no banco de dados, as transa&ccedil;&otilde;es registradas no <I>audit</I>, perdendo-se ent&atilde;o aquelas que estavam na mem&oacute;ria, antes que estas constitu&iacute;ssem um <I>syncpoint</I>. </P>
<P>Por outro lado, atrav&eacute;s da recupera&ccedil;&atilde;o sincronizada, al&eacute;m das transa&ccedil;&otilde;es registradas no <I>audit</I>, as que tamb&eacute;m estavam na mem&oacute;ria, mesmo que n&atilde;o constitu&iacute;ssem um <I>syncpoint</I>, s&atilde;o reprocessadas para a atualiza&ccedil;&atilde;o do banco de dados. </P>
<P>Esta recupera&ccedil;&atilde;o sincronizada torna-se poss&iacute;vel atrav&eacute;s de procedimentos executados pelo COMS. Como se sabe, o COMS possui uma fila onde armazena todas as transa&ccedil;&otilde;es transmitidas. As transa&ccedil;&otilde;es COMS s&atilde;o aquelas que ocorrem no intervalo entre o envio e a recep&ccedil;&atilde;o de uma mensagem. No momento da recupera&ccedil;&atilde;o sincronizada, o COMS verifica at&eacute; qual transa&ccedil;&atilde;o o DMSII recuperou. A partir da&iacute;, refaz as transa&ccedil;&otilde;es seguintes, na ordem em que foram colocadas na fila. Deste modo, para viabilizar a recupera&ccedil;&atilde;o sincronizada, uma transa&ccedil;&atilde;o COMS deve corresponder a apenas uma transa&ccedil;&atilde;o DMSII. </P>
<P>Resumidamente, as principais caracter&iacute;sticas da recupera&ccedil;&atilde;o sincronizada s&atilde;o: </P><DIR>
<DIR>

</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=13><FONT SIZE=2>&nbsp;Refaz automaticamente as transa&ccedil;&otilde;es n&atilde;o recuperadas pelo DMSII, em caso de descontinua&ccedil;&atilde;o do banco; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=13><FONT SIZE=2>&nbsp;Assegura que transa&ccedil;&otilde;es a serem processadas n&atilde;o sejam perdidas durante um <I>halt load</I>; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=13><FONT SIZE=2>&nbsp;Garante que todas as transa&ccedil;&otilde;es completas estejam efetuadas no banco de dados, em caso de <I>abort</I> ou <I>halt load</I>; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=13><FONT SIZE=2>&nbsp;Desfaz as transa&ccedil;&otilde;es incompletas, refazendo-as na mesma ordem em que foram efetuadas anteriormente. </P></DIR>
</DIR>

<P>Para a ado&ccedil;&atilde;o da recupera&ccedil;&atilde;o sincronizada na instala&ccedil;&atilde;o, alguns procedimentos e cadastramentos devem ser efetuados, quais sejam: </P><DIR>
<DIR>

</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=13><FONT SIZE=2>&nbsp;Para cada um dos sistemas que se deseja utilizar a recupera&ccedil;&atilde;o sincronizada, deve-se cadastrar na tabela SBPM5018 - Tabela de Op&ccedil;&otilde;es de Compila&ccedil;&atilde;o - as seguintes op&ccedil;&otilde;es: </P><DIR>
<DIR>

</FONT><P><IMG SRC="Bullet6.gif" WIDTH=15 HEIGHT=11><B><FONT SIZE=2>&nbsp;SADSSINC</B>: Para indicar a utiliza&ccedil;&atilde;o da recupera&ccedil;&atilde;o sincronizada com o DMSII; </P>
</FONT><P><IMG SRC="Bullet6.gif" WIDTH=15 HEIGHT=11><B><FONT SIZE=2>&nbsp;SADSRDSSTO</B>: Para indicar a utiliza&ccedil;&atilde;o da op&ccedil;&atilde;o RDSSTORE. Esta op&ccedil;&atilde;o pode ou n&atilde;o ser utilizada na recupera&ccedil;&atilde;o sincronizada. Quando especificada, indica que as ACCESSROUTINES far&atilde;o a opera&ccedil;&atilde;o de STORE no RESTART DATASET no BEGINTRANSACTION/ENDTRANSACTION, quando Audit for especificado. </P></DIR>
</DIR>
</DIR>
</DIR>

<P>Para maiores informa&ccedil;&otilde;es como usar a op&ccedil;&atilde;o RDSSTORE, consulte o manual da Unisys-DASDL - "Programming Reference Manual". </P>
<P>Maiores informa&ccedil;&otilde;es sobre como efetuar a parametriza&ccedil;&atilde;o da recupera&ccedil;&atilde;o sincronizada est&atilde;o descritos na tabela SBPM5018, Se&ccedil;&atilde;o V, "Parametriza&ccedil;&otilde;es do SADS", neste manual. </P><DIR>
<DIR>

</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=13><FONT SIZE=2>&nbsp;As transa&ccedil;&otilde;es DMSII dos programas, tal como na recupera&ccedil;&atilde;o DMSII normal, devem ser iniciadas com o comando PERFORM 91000-00-DMS-BOT THRU 91000-99-EXIT e devem ser encerradas com o comando PERFORM 92000-00-DMS-EOT THRU 92000-99-EXIT. </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=13><FONT SIZE=2>&nbsp;Para que o banco possa participar do processo de recupera&ccedil;&atilde;o sincronizada com o COMS, seu <I>Restart Dataset</I> deve, obrigatoriamente, conter os tr&ecirc;s campos abaixo relacionados: </P><DIR>

</FONT><pre><font size=3><IMG SRC="Bullet6.gif" WIDTH=15 HEIGHT=11>&nbsp;COMS-ID        ALPHA (6)  COMS-ID; 
<IMG SRC="Bullet6.gif" WIDTH=15 HEIGHT=11>&nbsp;COMS-PROG  REAL           COMS-PROGRAMA; 
<IMG SRC="Bullet6.gif" WIDTH=15 HEIGHT=11>&nbsp;COMS-LOC     REAL           COMS-LOCATOR. </pre></font></DIR>
</DIR>
</DIR>

<P>Como exemplo,<FONT SIZE=2> ser&aacute; exibido a seguir o <I>Restart Dataset</I> do banco do SADS: </P>
</FONT><pre><font size=3>SBGB01 RESTART   DATA  SET  "ARQUIVO DE RECUPERACAO" 
    (
  G011-RTC             TRANSACTION COUNT; 
  G011-RRT             RESTART TYPE; 
  G011-COMS-ID   ALPHA (06) INITIALVALUE "ONLINE" COMS-ID; 
  G011-COMS-PROG REAL COMS-PROGRAM; 
  G011-COMS-LOC  REAL COMS-LOCATOR; 
  G011-PROGRAMA  ALPHA(06); 
  G011-ESTACAO   NUMBER(04); 
  G011-EMPRESA   NUMBER(04); 
  G011-JOB       NUMBER(04); 
  G011-REINICIO  ALPHA(60);
    ),</pre></font>
<FONT SIZE=2><P>Se o <I>Restart Dataset</I> j&aacute; possuir estes campos, por&eacute;m com outros nomes, ser&aacute; necess&aacute;ria uma adapta&ccedil;&atilde;o em algumas <I>libraries</I> do SADS. Caso n&atilde;o os possua, coloque-os no DASDL, recompile o banco e todos os programas nos quais o <I>Restart Dataset</I> est&aacute; declarado. </P>
<P>Alguns programas gerados pelo SADS em vers&otilde;es anteriores n&atilde;o possu&iacute;am a inser&ccedil;&atilde;o da <I>library</I> ST/K/PL/02 no final da WORKING-STORAGE SECTION. Nestes casos, deve-se adicionar o comando COPY "ST/K/PL/02" FROM 200000 THRU 299000 aos programas anteriormente &agrave; recompila&ccedil;&atilde;o. </P><DIR>
<DIR>

</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=13><FONT SIZE=2>&nbsp;Para que o banco possa participar do processo de recupera&ccedil;&atilde;o sincronizada com o COMS, o mesmo deve estar cadastrado no COMS Utility; </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=13><FONT SIZE=2>&nbsp;Ainda no COMS Utility, deve-se informar o nome do banco no campo Database Name, nos cadastramentos de todos os programas que o utilizam. </P></DIR>
</DIR>

</FONT><B><FONT SIZE=5><P><A NAME="Recbat">Recupera&ccedil;&atilde;o DMSII em programas</B> <B>batch</A> </P>
</B></FONT><FONT SIZE=2><P>Os procedimentos para recupera&ccedil;&atilde;o em programas <I>batch</I> s&atilde;o diferentes dos programas <I>on-line</I> porque, normalmente, estes programas processam diversas transa&ccedil;&otilde;es DMSII numa &uacute;nica execu&ccedil;&atilde;o, devido ao fato de trabalharem com lotes de informa&ccedil;&otilde;es. </P>
<P>Sendo assim, esses programas necessitam de procedimentos especiais para se reposicionarem em casos de <I>abort</I>, <I>halt load</I> ou cancelamento por erro de programa. </P>
<P>A <I>library</I> SB/P/PL/23 &eacute; utilizada para este fim. </P>
<P>Se um programa <I>batch</I> possui l&oacute;gica de atualiza&ccedil;&atilde;o a banco de dados, os procedimentos descritos a seguir devem ser efetuados, a fim de viabilizar a recupera&ccedil;&atilde;o DMSII: </P><DIR>

</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=13><FONT SIZE=2>&nbsp;Deve-se declarar, na &aacute;rea de <I>work</I> do programa, os campos que ir&atilde;o conter as informa&ccedil;&otilde;es para reposicionamento do processamento. Esses campos devem possuir o tamanho total m&aacute;ximo de 120 <I>bytes</I> ou do limite da &aacute;rea de rein&iacute;cio do <I>restart dataset.</I> </P></DIR>

<P>Esses campos dever&atilde;o ser adequadamente escolhidos e atualizados com dados que identifiquem cada transa&ccedil;&atilde;o efetuada. Deste modo, ocorrendo um <I>abort</I>, <I>halt</I> <I>load</I> ou t&eacute;rmino anormal do programa, as informa&ccedil;&otilde;es referentes &agrave; &uacute;ltima transa&ccedil;&atilde;o processada sem erro estar&atilde;o dispon&iacute;veis neles. </P>
<P>Como exemplo de informa&ccedil;&otilde;es que auxiliam no reposicionamento do processamento, tem-se: chave de acesso, quantidade de registros j&aacute; processados a fim de serem ignorados na recupera&ccedil;&atilde;o, c&oacute;digo do arquivo sendo processado etc. </P>
<B><P>Exemplo</B>: </P>
</FONT><pre><font size=3>
 01  WSS-INFORMACAO. 
     05 WSS-NUMREG           PIC 9(004). 
     05 WSS-ARQCOD           PIC X(006). 
     05 FILLER               PIC X(110).</pre></font>
<FONT SIZE=2><P>Ainda na WORKING-STORAGE SECTION, o SADS gera automaticamente os seguintes campos: </P>
</FONT><pre><font size=3> 77  RST-PROG-A              PIC X(06) VALUE "sssPxx".
 01  RST-INFORMACAO          PIC X(120). 
     COPY "SB/P/PL/23"       FROM 100000 THRU 102100. </pre></font><DIR>

<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=13><FONT SIZE=2>&nbsp;Antes de cada atualiza&ccedil;&atilde;o do banco de dados em uma transa&ccedil;&atilde;o DMSII (END TRANSACTION), os campos definidos para <I>restart</I> devem ser atualizados e seu item grupo deve ser movido para o campo RST-INFORMACAO </P></DIR>

<B><P>Exemplo</B>: </P>
</FONT><pre><font size=3>
 ADD  1                      TO WSS-NUMREG 
 MOVE "AXYA52"               TO WSS-ARQCOD 
 MOVE WSS-INFORMACAO         TO RST-INFORMACAO.</pre></font><DIR>

<P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=13><FONT SIZE=2>&nbsp;No momento em que &eacute; executado o ENDTRANSACTION da transa&ccedil;&atilde;o DMSII, o Restart Dataset &eacute; automaticamente atualizado de acordo com o conte&uacute;do de RST-INFORMACAO. </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=13><FONT SIZE=2>&nbsp;Nos procedimentos iniciais s&atilde;o inseridas automaticamente pelo SADS as <I>libraries</I> de declara&ccedil;&atilde;o de banco e tratamento de recupera&ccedil;&atilde;o, atrav&eacute;s dos seguintes comandos: </P>
<P>COPY "ss/s/BL/00" FROM 500000 THRU 599000. </P>
<P>COPY "SB/P/PL/23" FROM 102200 THRU 105600. </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=13><FONT SIZE=2>&nbsp;Em seguida, ainda nos procedimentos iniciais do programa, devem ser codificados os testes do conte&uacute;do do campo RST-STATUS, que ir&aacute; indicar se houve interrup&ccedil;&atilde;o do processamento anterior do mesmo programa. </P></DIR>

<P>Caso seja constatada tal interrup&ccedil;&atilde;o, seu processamento pode prosseguir normalmente, a partir de onde havia sido interrompido, tomando como base as informa&ccedil;&otilde;es armazenadas no campo RST-INFORMACAO. </P>
<P>A seguir, ser&atilde;o exibidos os poss&iacute;veis valores do campo RST-STATUS, o que eles significam e quais os procedimentos a serem tomados no programa para recupera&ccedil;&atilde;o normal do processamento. </P><DIR>

</FONT><P><IMG SRC="Bullet6.gif" WIDTH=15 HEIGHT=11><B><FONT SIZE=2>&nbsp;RST-STATUS</B> = 0 - N&atilde;o h&aacute; informa&ccedil;&otilde;es de recupera&ccedil;&atilde;o. <BR>
Neste caso, o programa deve iniciar-se normalmente, pois sua &uacute;ltima execu&ccedil;&atilde;o foi finalizada corretamente. </P>
</FONT><P><IMG SRC="Bullet6.gif" WIDTH=15 HEIGHT=11><B><FONT SIZE=2>&nbsp;RST-STATUS</B> = 1 - Ocorreu um <I>abort</I>. <BR>
Outro programa, que estava utilizando o mesmo banco, terminou ou fechou este durante<BR>
o estado de transa&ccedil;&atilde;o, ocasionando, ent&atilde;o, um <I>abort</I>. N&atilde;o ocorre para bancos com op&ccedil;&atilde;o<BR>
INDEPENDENTTRANS.<BR>
Neste caso, todos os <I>buffers</I> permanecem em mem&oacute;ria, mas as transa&ccedil;&otilde;es feitas parcialmente podem deixar os arquivos do banco sem integridade. </P>
<P>Observar que o programa n&atilde;o sai do ar e que arquivos convencionais que tenham algum sincronismo l&oacute;gico com o banco estar&atilde;o na mesma situa&ccedil;&atilde;o de quando ocorreu o <I>abort</I>. </P>
<P>Se o programa grava arquivo convencional, este deve ser fechado e o programa, reiniciado. Por este motivo, recomenda-se n&atilde;o gravar arquivo convencional e atualizar o banco ao mesmo tempo. </P>
<P>Se o programa l&ecirc; arquivo convencional, este deve ser fechado, reaberto e reposicionado de acordo com as informa&ccedil;&otilde;es contidas em RST-INFORMA&Ccedil;AO, que foi automaticamente atualizado a partir do <I>Restart Dataset</I>. </P>
</FONT><P><IMG SRC="Bullet6.gif" WIDTH=15 HEIGHT=11><B><FONT SIZE=2>&nbsp;RST-STATUS</B> = 2 - Cancelamento do programa fora do estado de transa&ccedil;&atilde;o. <BR>
O programa est&aacute; sendo submetido novamente ap&oacute;s ter cancelado fora do estado de transa&ccedil;&atilde;o e atualizado parcialmente o banco. </P>
<P>Para que seja poss&iacute;vel, ap&oacute;s identificada esta situa&ccedil;&atilde;o, continuar o processamento do programa no ponto em que se deu a interrup&ccedil;&atilde;o, o mesmo dever&aacute;, ap&oacute;s ter sido acertado e compilado, ser executado informando em TASKVALUE o n&uacute;mero do <I>job</I> em que se deu o cancelamento, conforme exemplo a seguir: </P>
<P>RUN ss/s/PC/nn; VALUE = mmmm; onde mmmm &eacute; o <I>mix</I> do <I>job</I> onde ocorreu o<BR>
cancelamento. </P>
<P>Caso o n&uacute;mero do <I>job</I> seja desconhecido e o programa seja executado sem que se informe TASKVALUE, este ser&aacute; novamente cancelado e ser&aacute; informado, atrav&eacute;s de <I>display</I>, o n&uacute;mero do <I>job</I> desejado, para posterior reexecu&ccedil;&atilde;o. </P>
<P>Se o programa l&ecirc; arquivo convencional, este deve ser reposicionado de acordo com as informa&ccedil;&otilde;es contidas em RST-INFORMACAO. </P>
<P>Havendo grava&ccedil;&atilde;o de arquivo convencional, lembrar que o mesmo foi perdido e que dever&aacute; ser restaurado at&eacute; o ponto de sincronismo com o banco. Tal tarefa &eacute; espec&iacute;fica de cada programa. </P>
</FONT><P><IMG SRC="Bullet6.gif" WIDTH=15 HEIGHT=11><B><FONT SIZE=2>&nbsp;RST-STATUS</B> = 3 - Ocorreu um HALT LOAD no equipamento. </P>
<P>Neste caso, um processo de recupera&ccedil;&atilde;o &eacute; iniciado e o programa &eacute; submetido outra vez automaticamente pelo sistema. Transa&ccedil;&otilde;es podem ter sido desfeitas. </P>
<P>Atentar para o fato de que o programa sai do ar e que os arquivos s&atilde;o fechados.<BR>
Proceder de maneira similar ao RST-STATUS igual a 2, se houver arquivo convencional. </P>
</FONT><P><IMG SRC="Bullet6.gif" WIDTH=15 HEIGHT=11><B><FONT SIZE=2>&nbsp;RST-STATUS</B> = 4 - Um <I>abort</I> foi detectado pelo programa mas nenhuma transa&ccedil;&atilde;o havia sido completada. </P>
<P>O processamento dever&aacute; iniciar-se normalmente, mas os arquivos convencionais dever&atilde;o ser fechados e novamente abertos, para assegurar que nenhum registro seja ignorado. </P>
</FONT><P><IMG SRC="Bullet7.gif" WIDTH=15 HEIGHT=13><FONT SIZE=2>&nbsp;No fim do programa, uma &uacute;ltima parte da <I>library</I> ser&aacute; inserida automaticamente atrav&eacute;s do comando: </P></DIR>

</FONT><pre><font size=3>                     COPY "SB/P/PL/23" FROM 105800 TRHU 117900. </pre></font>


</BODY>
</HTML>
